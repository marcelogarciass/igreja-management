"use strict";(self["webpackChunkigreja_management"]=self["webpackChunkigreja_management"]||[]).push([[432],{113:(e,t,o)=>{var r=o(6518),n=o(9213).find,i=o(6469),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},116:(e,t,o)=>{var r=o(6518),n=o(2652),i=o(9306),a=o(8551),u=o(1767);r({target:"Iterator",proto:!0,real:!0},{find:function(e){a(this),i(e);var t=u(this),o=0;return n(t,(function(t,r){if(e(t,o++))return r(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7051:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});o(3288),o(2010),o(2892),o(9868);var r=o(641),n=o(3751),i=o(33),a={class:"contributions-container"},u={class:"form-container"},l={class:"form-section"},c={class:"form-group"},m=["value"],s={class:"form-row"},d={class:"form-group"},b={class:"form-group"},f={class:"form-group"},p={class:"form-group"},v={class:"form-group"},k={class:"contributions-list"},h={key:0},L=["onClick"],g={key:1};function y(e,t,o,y,I,S){return(0,r.uX)(),(0,r.CE)("div",a,[t[19]||(t[19]=(0,r.Lk)("h1",null,"Registro de Dízimos e Ofertas",-1)),(0,r.Lk)("div",u,[(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,n.D$)((function(){return y.handleSubmit&&y.handleSubmit.apply(y,arguments)}),["prevent"]))},[(0,r.Lk)("div",l,[(0,r.Lk)("div",c,[t[8]||(t[8]=(0,r.Lk)("label",{for:"memberSelect"},"Membro*",-1)),(0,r.bo)((0,r.Lk)("select",{id:"memberSelect","onUpdate:modelValue":t[0]||(t[0]=function(e){return y.contributionForm.memberId=e}),required:""},[t[7]||(t[7]=(0,r.Lk)("option",{value:""},"Selecione um membro",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(y.members,(function(e){return(0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.name),9,m)})),128))],512),[[n.u1,y.contributionForm.memberId]])]),(0,r.Lk)("div",s,[(0,r.Lk)("div",d,[t[10]||(t[10]=(0,r.Lk)("label",{for:"type"},"Tipo*",-1)),(0,r.bo)((0,r.Lk)("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=function(e){return y.contributionForm.type=e}),required:""},t[9]||(t[9]=[(0,r.Lk)("option",{value:"dizimo"},"Dízimo",-1),(0,r.Lk)("option",{value:"oferta"},"Oferta",-1)]),512),[[n.u1,y.contributionForm.type]])]),(0,r.Lk)("div",b,[t[11]||(t[11]=(0,r.Lk)("label",{for:"amount"},"Valor*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",id:"amount","onUpdate:modelValue":t[2]||(t[2]=function(e){return y.contributionForm.amount=e}),required:"",step:"0.01",min:"0",placeholder:"0,00"},null,512),[[n.Jo,y.contributionForm.amount]])]),(0,r.Lk)("div",f,[t[13]||(t[13]=(0,r.Lk)("label",{for:"paymentMethod"},"Forma de Pagamento*",-1)),(0,r.bo)((0,r.Lk)("select",{id:"paymentMethod","onUpdate:modelValue":t[3]||(t[3]=function(e){return y.contributionForm.paymentMethod=e}),required:""},t[12]||(t[12]=[(0,r.Lk)("option",{value:"dinheiro"},"Dinheiro",-1),(0,r.Lk)("option",{value:"pix"},"PIX",-1),(0,r.Lk)("option",{value:"cartao"},"Cartão",-1),(0,r.Lk)("option",{value:"transferencia"},"Transferência",-1)]),512),[[n.u1,y.contributionForm.paymentMethod]])])]),(0,r.Lk)("div",p,[t[14]||(t[14]=(0,r.Lk)("label",{for:"date"},"Data*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":t[4]||(t[4]=function(e){return y.contributionForm.date=e}),required:""},null,512),[[n.Jo,y.contributionForm.date]])]),(0,r.Lk)("div",v,[t[15]||(t[15]=(0,r.Lk)("label",{for:"notes"},"Observações",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"notes","onUpdate:modelValue":t[5]||(t[5]=function(e){return y.contributionForm.notes=e}),placeholder:"Observações adicionais"},null,512),[[n.Jo,y.contributionForm.notes]])])]),t[16]||(t[16]=(0,r.Lk)("button",{type:"submit",class:"submit-button"}," Registrar Contribuição ",-1))],32)]),(0,r.Lk)("div",k,[t[18]||(t[18]=(0,r.Lk)("h2",null,"Contribuições Registradas",-1)),y.contributions.length>0?((0,r.uX)(),(0,r.CE)("table",h,[t[17]||(t[17]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Membro"),(0,r.Lk)("th",null,"Tipo"),(0,r.Lk)("th",null,"Valor"),(0,r.Lk)("th",null,"Data"),(0,r.Lk)("th",null,"Forma de Pagamento"),(0,r.Lk)("th",null,"Ações")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(y.contributions,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,i.v_)(y.getMemberName(e.memberId)),1),(0,r.Lk)("td",null,(0,i.v_)("dizimo"===e.type?"Dízimo":"Oferta"),1),(0,r.Lk)("td",null,"R$ "+(0,i.v_)(Number(e.amount).toFixed(2)),1),(0,r.Lk)("td",null,(0,i.v_)(new Date(e.date).toLocaleDateString()),1),(0,r.Lk)("td",null,(0,i.v_)(e.paymentMethod),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:function(t){return y.deleteContribution(e.id)},class:"delete-button"}," Excluir ",8,L)])])})),128))])])):((0,r.uX)(),(0,r.CE)("p",g,"Nenhuma contribuição registrada"))])])}o(2008),o(113),o(4114),o(9089),o(1688),o(739),o(8111),o(2489),o(116),o(3110),o(9432),o(6099);var I=o(953);const S={name:"ContributionsView",setup:function(){var e=(0,I.KR)({memberId:"",type:"dizimo",amount:"",date:(new Date).toISOString().split("T")[0],paymentMethod:"dinheiro",notes:""}),t=(0,I.KR)([]),o=(0,I.KR)([]),n=function(){try{var e=localStorage.getItem("members");e&&(o.value=JSON.parse(e))}catch(t){console.error("Erro ao carregar membros:",t)}},i=function(){try{var e=localStorage.getItem("contributions");e&&(t.value=JSON.parse(e))}catch(o){console.error("Erro ao carregar contribuições:",o)}},a=function(){try{console.log("Iniciando salvamento...");var o=l(e.value.memberId),r={id:"local-"+Date.now(),memberId:e.value.memberId,memberName:o,type:e.value.type,amount:Number(e.value.amount),date:e.value.date,paymentMethod:e.value.paymentMethod,notes:e.value.notes,createdAt:(new Date).toISOString()};console.log("Dados a serem salvos:",r),t.value.push(r),localStorage.setItem("contributions",JSON.stringify(t.value)),console.log("Contribuição salva com sucesso!"),alert("Contribuição registrada com sucesso!"),e.value={memberId:"",type:"dizimo",amount:"",date:(new Date).toISOString().split("T")[0],paymentMethod:"dinheiro",notes:""}}catch(n){console.error("Erro detalhado:",n),alert("Erro ao registrar contribuição: "+n.message)}},u=function(e){if(confirm("Deseja realmente excluir esta contribuição?"))try{t.value=t.value.filter((function(t){return t.id!==e})),localStorage.setItem("contributions",JSON.stringify(t.value))}catch(o){console.error("Erro ao excluir contribuição:",o)}},l=function(e){var t=o.value.find((function(t){return t.id===e}));return t?t.name:"Membro não encontrado"};return(0,r.sV)((function(){n(),i()})),{contributionForm:e,contributions:t,members:o,handleSubmit:a,deleteContribution:u,getMemberName:l}}};var C=o(6262);const F=(0,C.A)(S,[["render",y],["__scopeId","data-v-6552a8fb"]]),w=F},9868:(e,t,o)=>{var r=o(6518),n=o(9504),i=o(1291),a=o(1240),u=o(2333),l=o(9039),c=RangeError,m=String,s=Math.floor,d=n(u),b=n("".slice),f=n(1..toFixed),p=function(e,t,o){return 0===t?o:t%2===1?p(e,t-1,o*e):p(e*e,t/2,o)},v=function(e){var t=0,o=e;while(o>=4096)t+=12,o/=4096;while(o>=2)t+=1,o/=2;return t},k=function(e,t,o){var r=-1,n=o;while(++r<6)n+=t*e[r],e[r]=n%1e7,n=s(n/1e7)},h=function(e,t){var o=6,r=0;while(--o>=0)r+=e[o],e[o]=s(r/t),r=r%t*1e7},L=function(e){var t=6,o="";while(--t>=0)if(""!==o||0===t||0!==e[t]){var r=m(e[t]);o=""===o?r:o+d("0",7-r.length)+r}return o},g=l((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!l((function(){f({})}));r({target:"Number",proto:!0,forced:g},{toFixed:function(e){var t,o,r,n,u=a(this),l=i(e),s=[0,0,0,0,0,0],f="",g="0";if(l<0||l>20)throw new c("Incorrect fraction digits");if(u!==u)return"NaN";if(u<=-1e21||u>=1e21)return m(u);if(u<0&&(f="-",u=-u),u>1e-21)if(t=v(u*p(2,69,1))-69,o=t<0?u*p(2,-t,1):u/p(2,t,1),o*=4503599627370496,t=52-t,t>0){k(s,0,o),r=l;while(r>=7)k(s,1e7,0),r-=7;k(s,p(10,r,1),0),r=t-1;while(r>=23)h(s,1<<23),r-=23;h(s,1<<r),k(s,1,1),h(s,2),g=L(s)}else k(s,0,o),k(s,1<<-t,0),g=L(s)+d("0",l);return l>0?(n=g.length,g=f+(n<=l?"0."+d("0",l-n)+g:b(g,0,n-l)+"."+b(g,n-l))):g=f+g,g}})}}]);
//# sourceMappingURL=432.ee11a52a.js.map