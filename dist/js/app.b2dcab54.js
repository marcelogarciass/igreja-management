(()=>{"use strict";var e={4051:(e,n,t)=>{t.d(n,{db:()=>u,j:()=>s});var a=t(223),r=t(1884),o=t(7783),l={apiKey:"AIzaSyDGOFBZC_Oc9_-kWqT-xc4HA_jz6vZGBKY",authDomain:"igreja-garcia.firebaseapp.com",projectId:"igreja-garcia",storageBucket:"igreja-garcia.appspot.com",messagingSenderId:"1098133788781",appId:"1:1098133788781:web:d2c2c7f5d5f0e9c0f3f0e9"},i=(0,a.Wp)(l),u=(0,r.aU)(i),s=(0,o.xI)(i)},4357:(e,n,t)=>{t(3792),t(3362),t(9085),t(9391);var a=t(3751),r=t(641),o=t(33),l={class:"app-container"},i={key:0,class:"app-header"},u={class:"logo"},s=["src"],c={class:"main-nav"},d={key:0,class:"sidebar"},m={class:"nav-links"};function p(e,n,t,a,p,f){var v=(0,r.g2)("router-link"),h=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",l,[a.isLoginPage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("header",i,[(0,r.Lk)("div",u,[a.churchLogo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:a.churchLogo,alt:"Logo da Igreja",class:"church-logo"},null,8,s)):(0,r.Q3)("",!0),(0,r.Lk)("h1",null,(0,o.v_)(a.churchName||"Igreja Management"),1)]),(0,r.Lk)("nav",c,[(0,r.bF)(v,{to:"/",class:"nav-item"},{default:(0,r.k6)((function(){return n[1]||(n[1]=[(0,r.Lk)("i",{class:"fas fa-chart-line"},null,-1),(0,r.Lk)("span",null,"Painel",-1)])})),_:1}),(0,r.bF)(v,{to:"/membros",class:"nav-item"},{default:(0,r.k6)((function(){return n[2]||(n[2]=[(0,r.Lk)("i",{class:"fas fa-users"},null,-1),(0,r.Lk)("span",null,"Membros",-1)])})),_:1}),(0,r.bF)(v,{to:"/contributions",class:"nav-item"},{default:(0,r.k6)((function(){return n[3]||(n[3]=[(0,r.Lk)("i",{class:"fas fa-hand-holding-usd"},null,-1),(0,r.Lk)("span",null,"Contribuições",-1)])})),_:1}),(0,r.bF)(v,{to:"/financeiro",class:"nav-item"},{default:(0,r.k6)((function(){return n[4]||(n[4]=[(0,r.Lk)("i",{class:"fas fa-dollar-sign"},null,-1),(0,r.Lk)("span",null,"Financeiro",-1)])})),_:1}),e.isAdmin?((0,r.uX)(),(0,r.Wv)(v,{key:0,to:"/configuracoes",class:"nav-item"},{default:(0,r.k6)((function(){return n[5]||(n[5]=[(0,r.Lk)("i",{class:"fas fa-cog"},null,-1),(0,r.Lk)("span",null,"Configurações",-1)])})),_:1})):(0,r.Q3)("",!0)]),a.isAuthenticated?((0,r.uX)(),(0,r.CE)("nav",d,[(0,r.Lk)("div",m,[(0,r.bF)(v,{to:"/",class:"nav-item"},{default:(0,r.k6)((function(){return n[6]||(n[6]=[(0,r.Lk)("i",{class:"fas fa-chart-line"},null,-1),(0,r.Lk)("span",null,"Painel",-1)])})),_:1}),(0,r.bF)(v,{to:"/membros",class:"nav-item"},{default:(0,r.k6)((function(){return n[7]||(n[7]=[(0,r.Lk)("i",{class:"fas fa-users"},null,-1),(0,r.Lk)("span",null,"Membros",-1)])})),_:1}),(0,r.bF)(v,{to:"/contributions",class:"nav-item"},{default:(0,r.k6)((function(){return n[8]||(n[8]=[(0,r.Lk)("i",{class:"fas fa-hand-holding-usd"},null,-1),(0,r.Lk)("span",null,"Contribuições",-1)])})),_:1}),(0,r.bF)(v,{to:"/financeiro",class:"nav-item"},{default:(0,r.k6)((function(){return n[9]||(n[9]=[(0,r.Lk)("i",{class:"fas fa-dollar-sign"},null,-1),(0,r.Lk)("span",null,"Financeiro",-1)])})),_:1}),e.isAdmin?((0,r.uX)(),(0,r.Wv)(v,{key:0,to:"/configuracoes",class:"nav-item"},{default:(0,r.k6)((function(){return n[10]||(n[10]=[(0,r.Lk)("i",{class:"fas fa-cog"},null,-1),(0,r.Lk)("span",null,"Configurações",-1)])})),_:1})):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:n[0]||(n[0]=function(){return a.handleLogout&&a.handleLogout.apply(a,arguments)}),class:"logout-button"},n[11]||(n[11]=[(0,r.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1),(0,r.eW)(" Sair ")]))])):(0,r.Q3)("",!0)])),(0,r.Lk)("main",{class:(0,o.C4)({"main-content":a.isAuthenticated})},[(0,r.bF)(h)],2),n[12]||(n[12]=(0,r.Lk)("footer",{class:"app-footer"},[(0,r.Lk)("div",{class:"footer-content"},[(0,r.Lk)("p",null,"© 2025 Marcelo Garcia. Todos os direitos reservados."),(0,r.Lk)("a",{href:"https://wa.me/5511961551182",target:"_blank",class:"support-link"},[(0,r.Lk)("i",{class:"fab fa-whatsapp"}),(0,r.eW)(" Suporte Técnico ")])])],-1))])}var f=t(4048),v=t(388),h=(t(4114),t(2010),t(953)),k=t(5220),g=t(4051),b=t(7783),L=t(1884);const y={setup:function(){var e=(0,k.rd)(),n=(0,h.KR)(!1),t=(0,h.KR)(""),a=(0,h.KR)(""),o=(0,r.EW)((function(){return"/login"===e.currentRoute.value.path})),l=function(){var e=(0,v.A)((0,f.A)().mark((function e(){var n,r;return(0,f.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,L.x7)((0,L.H9)(g.db,"church","settings"));case 3:n=e.sent,n.exists()&&(r=n.data(),t.value=r.name||"",a.value=r.logo||"",localStorage.setItem("churchName",r.name||""),localStorage.setItem("churchLogo",r.logo||"")),e.next=12;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Erro ao carregar dados da igreja:",e.t0),t.value=localStorage.getItem("churchName")||"",a.value=localStorage.getItem("churchLogo")||"";case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,r.sV)((function(){g.j.onAuthStateChanged((function(t){n.value=!!t,t?l():e.push("/login")}))})),window.addEventListener("storage",(function(e){"churchName"===e.key&&(t.value=e.newValue||""),"churchLogo"===e.key&&(a.value=e.newValue||"")})),(0,r.wB)(t,(function(e){document.title=e?"".concat(e," - Sistema de Gestão"):"Igreja Management"}));var i=function(){var n=(0,v.A)((0,f.A)().mark((function n(){return(0,f.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,b.CI)(g.j);case 3:localStorage.removeItem("isAuthenticated"),e.push("/login"),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Erro ao fazer logout:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return{isAuthenticated:n,handleLogout:i,churchName:t,churchLogo:a,isLoginPage:o}}};var C=t(6262);const w=(0,C.A)(y,[["render",p]]),S=w;t(6099),t(7764),t(2953);var A={class:"dashboard"},E={class:"dashboard-cards"},F={class:"info-card"},x={class:"number"},_={class:"info-card"},U={class:"number"},I={class:"info-card"},D={class:"number"},V={class:"quick-actions"};function j(e,n,t,a,l,i){var u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",A,[(0,r.Lk)("div",E,[(0,r.Lk)("div",F,[n[0]||(n[0]=(0,r.Lk)("h3",null,"Total de Dízimos",-1)),(0,r.Lk)("div",x,"R$ "+(0,o.v_)(a.formatValue(a.totalTithes)),1)]),(0,r.Lk)("div",_,[n[1]||(n[1]=(0,r.Lk)("h3",null,"Total de Ofertas",-1)),(0,r.Lk)("div",U,"R$ "+(0,o.v_)(a.formatValue(a.totalOfferings)),1)]),(0,r.Lk)("div",I,[n[2]||(n[2]=(0,r.Lk)("h3",null,"Saldo Atual",-1)),(0,r.Lk)("div",D,"R$ "+(0,o.v_)(a.formatValue(a.currentBalance)),1)])]),(0,r.Lk)("div",V,[(0,r.bF)(u,{to:"/membros",class:"nav-button"},{default:(0,r.k6)((function(){return n[3]||(n[3]=[(0,r.Lk)("i",{class:"fas fa-users"},null,-1),(0,r.Lk)("span",null,"Membros",-1)])})),_:1}),(0,r.bF)(u,{to:"/contributions",class:"nav-button"},{default:(0,r.k6)((function(){return n[4]||(n[4]=[(0,r.Lk)("i",{class:"fas fa-hand-holding-usd"},null,-1),(0,r.Lk)("span",null,"Contribuições",-1)])})),_:1}),(0,r.bF)(u,{to:"/financeiro",class:"nav-button"},{default:(0,r.k6)((function(){return n[5]||(n[5]=[(0,r.Lk)("i",{class:"fas fa-dollar-sign"},null,-1),(0,r.Lk)("span",null,"Financeiro",-1)])})),_:1}),(0,r.bF)(u,{to:"/configuracoes",class:"nav-button"},{default:(0,r.k6)((function(){return n[6]||(n[6]=[(0,r.Lk)("i",{class:"fas fa-cog"},null,-1),(0,r.Lk)("span",null,"Configurações",-1)])})),_:1})])])}t(2892),t(2712),t(8111),t(8237);var O=(0,h.KR)({tithes:[],offerings:[]});function T(){var e=(0,r.EW)((function(){return O.value.tithes.reduce((function(e,n){return e+Number(n.value)}),0)})),n=(0,r.EW)((function(){return O.value.offerings.reduce((function(e,n){return e+Number(n.value)}),0)})),t=(0,r.EW)((function(){return e.value+n.value})),a=function(e){O.value.tithes.push(e)},o=function(e){O.value.offerings.push(e)};return{finances:O,totalTithes:e,totalOfferings:n,currentBalance:t,addTithe:a,addOffering:o}}const N={name:"DashboardView",setup:function(){var e=T(),n=e.totalTithes,t=e.totalOfferings,a=e.currentBalance,r=function(e){return Number(e).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})};return{totalTithes:n,totalOfferings:t,currentBalance:a,formatValue:r}}},R=(0,C.A)(N,[["render",j],["__scopeId","data-v-47e56357"]]),q=R;var M={class:"members-container"},J={class:"form-container"},P={class:"form-section"},X={class:"form-group"},B={class:"form-row"},K={class:"form-group"},W={class:"form-group"},$={class:"form-row"},G={class:"form-group"},z={class:"form-group"},Q={class:"form-group"},H={class:"form-section"},Z={class:"form-row"},Y={class:"form-group"},ee=["for"],ne=["id","onUpdate:modelValue"],te={class:"form-group"},ae=["for"],re=["id","onUpdate:modelValue"],oe=["onClick"],le={class:"members-list"},ie={key:0},ue=["onClick"],se=["onClick"],ce={key:1};function de(e,n,t,l,i,u){return(0,r.uX)(),(0,r.CE)("div",M,[n[19]||(n[19]=(0,r.Lk)("h1",null,"Cadastro de Membros",-1)),(0,r.Lk)("div",J,[(0,r.Lk)("form",{onSubmit:n[7]||(n[7]=(0,a.D$)((function(){return l.handleSubmit&&l.handleSubmit.apply(l,arguments)}),["prevent"]))},[(0,r.Lk)("div",P,[n[14]||(n[14]=(0,r.Lk)("h2",null,"Dados Pessoais",-1)),(0,r.Lk)("div",X,[n[8]||(n[8]=(0,r.Lk)("label",{for:"name"},"Nome*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":n[0]||(n[0]=function(e){return l.memberForm.name=e}),required:"",placeholder:"Digite o nome completo"},null,512),[[a.Jo,l.memberForm.name]])]),(0,r.Lk)("div",B,[(0,r.Lk)("div",K,[n[9]||(n[9]=(0,r.Lk)("label",{for:"cpf"},"CPF*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"cpf","onUpdate:modelValue":n[1]||(n[1]=function(e){return l.memberForm.cpf=e}),required:"",placeholder:"000.000.000-00"},null,512),[[a.Jo,l.memberForm.cpf]])]),(0,r.Lk)("div",W,[n[10]||(n[10]=(0,r.Lk)("label",{for:"rg"},"RG*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"rg","onUpdate:modelValue":n[2]||(n[2]=function(e){return l.memberForm.rg=e}),required:"",placeholder:"00.000.000-0"},null,512),[[a.Jo,l.memberForm.rg]])])]),(0,r.Lk)("div",$,[(0,r.Lk)("div",G,[n[11]||(n[11]=(0,r.Lk)("label",{for:"email"},"E-mail*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[3]||(n[3]=function(e){return l.memberForm.email=e}),required:"",placeholder:"Digite o e-mail"},null,512),[[a.Jo,l.memberForm.email]])]),(0,r.Lk)("div",z,[n[12]||(n[12]=(0,r.Lk)("label",{for:"phone"},"Telefone*",-1)),(0,r.bo)((0,r.Lk)("input",{type:"tel",id:"phone","onUpdate:modelValue":n[4]||(n[4]=function(e){return l.memberForm.phone=e}),required:"",placeholder:"(00) 00000-0000"},null,512),[[a.Jo,l.memberForm.phone]])])]),(0,r.Lk)("div",Q,[n[13]||(n[13]=(0,r.Lk)("label",{for:"spouse"},"Cônjuge",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"spouse","onUpdate:modelValue":n[5]||(n[5]=function(e){return l.memberForm.spouse=e}),placeholder:"Nome do cônjuge"},null,512),[[a.Jo,l.memberForm.spouse]])])]),(0,r.Lk)("div",H,[n[15]||(n[15]=(0,r.Lk)("h2",null,"Filhos",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.memberForm.children,(function(e,n){return(0,r.uX)(),(0,r.CE)("div",{key:n,class:"child-form"},[(0,r.Lk)("div",Z,[(0,r.Lk)("div",Y,[(0,r.Lk)("label",{for:"childName"+n},"Nome do Filho(a)",8,ee),(0,r.bo)((0,r.Lk)("input",{id:"childName"+n,"onUpdate:modelValue":function(n){return e.name=n},type:"text",placeholder:"Nome do filho(a)"},null,8,ne),[[a.Jo,e.name]])]),(0,r.Lk)("div",te,[(0,r.Lk)("label",{for:"childAge"+n},"Idade",8,ae),(0,r.bo)((0,r.Lk)("input",{id:"childAge"+n,"onUpdate:modelValue":function(n){return e.age=n},type:"number",min:"0"},null,8,re),[[a.Jo,e.age]])]),(0,r.Lk)("button",{type:"button",class:"remove-button",onClick:function(e){return l.removeChild(n)}}," Remover ",8,oe)])])})),128)),(0,r.Lk)("button",{type:"button",class:"add-button",onClick:n[6]||(n[6]=function(){return l.addChild&&l.addChild.apply(l,arguments)})}," Adicionar Filho(a) ")]),n[16]||(n[16]=(0,r.Lk)("button",{type:"submit",class:"submit-button"}," Cadastrar Membro ",-1))],32)]),(0,r.Lk)("div",le,[n[18]||(n[18]=(0,r.Lk)("h2",null,"Membros Cadastrados",-1)),l.members.length>0?((0,r.uX)(),(0,r.CE)("table",ie,[n[17]||(n[17]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Nome"),(0,r.Lk)("th",null,"E-mail"),(0,r.Lk)("th",null,"Telefone"),(0,r.Lk)("th",null,"Ações")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.members,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,o.v_)(e.name),1),(0,r.Lk)("td",null,(0,o.v_)(e.email),1),(0,r.Lk)("td",null,(0,o.v_)(e.phone),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:function(n){return l.editMember(e)},class:"edit-button"},"Editar",8,ue),(0,r.Lk)("button",{onClick:function(n){return l.deleteMember(e.id)},class:"delete-button"},"Excluir",8,se)])])})),128))])])):((0,r.uX)(),(0,r.CE)("p",ce,"Nenhum membro cadastrado"))])])}var me=t(9201);t(2008),t(8980),t(2062),t(4554),t(1688),t(3288),t(2489),t(1701);const pe={name:"MembersView",setup:function(){var e=(0,h.KR)({name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}),n=(0,h.KR)([]),t=function(){var e=(0,v.A)((0,f.A)().mark((function e(){var t;return(0,f.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,L.GG)((0,L.rJ)(g.db,"members"));case 3:t=e.sent,n.value=t.docs.map((function(e){return(0,me.A)({id:e.id},e.data())})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Erro ao carregar membros:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=(0,v.A)((0,f.A)().mark((function t(){var a;return(0,f.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Iniciando salvamento...",e.value),t.next=4,(0,L.gS)((0,L.rJ)(g.db,"members"),(0,me.A)((0,me.A)({},e.value),{},{createdAt:(new Date).toISOString()}));case 4:a=t.sent,console.log("Documento salvo com ID:",a.id),n.value.push((0,me.A)({id:a.id},e.value)),alert("Membro cadastrado com sucesso!"),e.value={name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]},t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error("Erro detalhado:",t.t0),alert("Erro ao cadastrar membro: "+t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,v.A)((0,f.A)().mark((function t(a){var r,o;return(0,f.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,L.H9)(g.db,"members",a.id),t.next=4,(0,L.mZ)(r,e.value);case 4:o=n.value.findIndex((function(e){return e.id===a.id})),-1!==o&&(n.value[o]=(0,me.A)({},a)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error("Erro ao atualizar membro:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var e=(0,v.A)((0,f.A)().mark((function e(t){return(0,f.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Deseja realmente excluir este membro?")){e.next=10;break}return e.prev=1,e.next=4,(0,L.kd)((0,L.H9)(g.db,"members",t));case 4:n.value=n.value.filter((function(e){return e.id!==t})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.error("Erro ao excluir membro:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}();(0,r.sV)(t);var i=function(){e.value.children.push({name:"",age:""})},u=function(n){e.value.children.splice(n,1)};return{memberForm:e,members:n,addChild:i,removeChild:u,handleSubmit:a,editMember:o,deleteMember:l}}},fe=(0,C.A)(pe,[["render",de],["__scopeId","data-v-8355adda"]]),ve=fe;t(2675),t(9463);var he={class:"financial-container"},ke={class:"summary-cards"},ge={class:"summary-card income"},be={class:"amount"},Le={class:"summary-card expense"},ye={class:"amount"},Ce={class:"summary-card balance"},we={class:"amount"},Se={class:"charts-container"},Ae={class:"chart-section"},Ee={class:"chart-section"},Fe={class:"expense-section"},xe={class:"form-row"},_e={class:"form-group"},Ue={class:"form-group"},Ie={class:"form-row"},De={class:"form-group"},Ve={class:"form-group"},je={class:"transactions-section"};function Oe(e,n,t,l,i,u){var s=(0,r.g2)("Bar"),c=(0,r.g2)("Pie");return(0,r.uX)(),(0,r.CE)("div",he,[n[19]||(n[19]=(0,r.Lk)("h1",null,"Controle Financeiro",-1)),(0,r.Lk)("div",ke,[(0,r.Lk)("div",ge,[n[5]||(n[5]=(0,r.Lk)("h3",null,"Total de Entradas",-1)),(0,r.Lk)("p",be,"R$ "+(0,o.v_)(l.formatValue(l.totalIncome)),1)]),(0,r.Lk)("div",Le,[n[6]||(n[6]=(0,r.Lk)("h3",null,"Total de Saídas",-1)),(0,r.Lk)("p",ye,"R$ "+(0,o.v_)(l.formatValue(l.totalExpenses)),1)]),(0,r.Lk)("div",Ce,[n[7]||(n[7]=(0,r.Lk)("h3",null,"Saldo",-1)),(0,r.Lk)("p",we,"R$ "+(0,o.v_)(l.formatValue(l.balance)),1)])]),(0,r.Lk)("div",Se,[(0,r.Lk)("div",Ae,[n[8]||(n[8]=(0,r.Lk)("h2",null,"Entradas vs Saídas",-1)),(0,r.bF)(s,{data:l.barChartData,options:l.barChartOptions},null,8,["data","options"])]),(0,r.Lk)("div",Ee,[n[9]||(n[9]=(0,r.Lk)("h2",null,"Distribuição de Entradas",-1)),(0,r.bF)(c,{data:l.pieChartData,options:l.pieChartOptions},null,8,["data","options"])])]),(0,r.Lk)("div",Fe,[n[16]||(n[16]=(0,r.Lk)("h2",null,"Registrar Despesa",-1)),(0,r.Lk)("form",{onSubmit:n[4]||(n[4]=(0,a.D$)((function(){return l.handleExpenseSubmit&&l.handleExpenseSubmit.apply(l,arguments)}),["prevent"])),class:"expense-form"},[(0,r.Lk)("div",xe,[(0,r.Lk)("div",_e,[n[10]||(n[10]=(0,r.Lk)("label",null,"Descrição",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return l.expenseForm.description=e}),required:"",placeholder:"Descrição da despesa"},null,512),[[a.Jo,l.expenseForm.description]])]),(0,r.Lk)("div",Ue,[n[12]||(n[12]=(0,r.Lk)("label",null,"Categoria",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return l.expenseForm.category=e}),required:""},n[11]||(n[11]=[(0,r.Fv)('<option value="utilities" data-v-607b6cbe>Utilidades</option><option value="maintenance" data-v-607b6cbe>Manutenção</option><option value="supplies" data-v-607b6cbe>Materiais</option><option value="events" data-v-607b6cbe>Eventos</option><option value="others" data-v-607b6cbe>Outros</option>',5)]),512),[[a.u1,l.expenseForm.category]])])]),(0,r.Lk)("div",Ie,[(0,r.Lk)("div",De,[n[13]||(n[13]=(0,r.Lk)("label",null,"Valor",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":n[2]||(n[2]=function(e){return l.expenseForm.value=e}),required:"",step:"0.01",min:"0",placeholder:"R$ 0,00"},null,512),[[a.Jo,l.expenseForm.value]])]),(0,r.Lk)("div",Ve,[n[14]||(n[14]=(0,r.Lk)("label",null,"Data",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":n[3]||(n[3]=function(e){return l.expenseForm.date=e}),required:""},null,512),[[a.Jo,l.expenseForm.date]])])]),n[15]||(n[15]=(0,r.Lk)("button",{type:"submit",class:"submit-button"},"Registrar Despesa",-1))],32)]),(0,r.Lk)("div",je,[n[18]||(n[18]=(0,r.Lk)("h2",null,"Histórico de Transações",-1)),(0,r.Lk)("table",null,[n[17]||(n[17]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Data"),(0,r.Lk)("th",null,"Descrição"),(0,r.Lk)("th",null,"Categoria"),(0,r.Lk)("th",null,"Tipo"),(0,r.Lk)("th",null,"Valor")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.sortedTransactions,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:(0,o.C4)({"income-row":"income"===e.type,"expense-row":"expense"===e.type})},[(0,r.Lk)("td",null,(0,o.v_)(l.formatDate(e.date)),1),(0,r.Lk)("td",null,(0,o.v_)(e.description),1),(0,r.Lk)("td",null,(0,o.v_)(l.formatCategory(e.category)),1),(0,r.Lk)("td",null,(0,o.v_)("income"===e.type?"Entrada":"Saída"),1),(0,r.Lk)("td",null,"R$ "+(0,o.v_)(l.formatValue(e.value)),1)],2)})),128))])])])])}var Te=t(5492),Ne=(t(6910),t(9089),t(6908)),Re=t(2022);Re.t1.register(Re.PP,Re.kc,Re.E8,Re.hE,Re.m_,Re.s$,Re.Bs);const qe={name:"FinancialView",components:{Bar:Ne.yP,Pie:Ne.Fq},setup:function(){var e=T(),n=e.totalTithes,t=e.totalOfferings,a=(0,h.KR)([]),o=(0,h.KR)({description:"",category:"utilities",value:"",date:(new Date).toISOString().split("T")[0]}),l=(0,r.EW)((function(){return n.value+t.value})),i=(0,r.EW)((function(){return a.value.reduce((function(e,n){return e+Number(n.value)}),0)})),u=(0,r.EW)((function(){return l.value-i.value})),s=(0,r.EW)((function(){return{labels:["Jan","Fev","Mar","Abr","Mai","Jun"],datasets:[{label:"Entradas",backgroundColor:"#2ecc71",data:[l.value]},{label:"Saídas",backgroundColor:"#e74c3c",data:[i.value]}]}})),c=(0,r.EW)((function(){return{labels:["Dízimos","Ofertas"],datasets:[{backgroundColor:["#3498db","#2ecc71"],data:[n.value,t.value]}]}})),d={responsive:!0,maintainAspectRatio:!1},m={responsive:!0,maintainAspectRatio:!1},p=function(){a.value.push((0,me.A)({id:Date.now(),type:"expense"},o.value)),o.value={description:"",category:"utilities",value:"",date:(new Date).toISOString().split("T")[0]}},f=(0,r.EW)((function(){var e=(0,Te.A)(a.value.map((function(e){return(0,me.A)((0,me.A)({},e),{},{type:"expense"})})));return e.sort((function(e,n){return new Date(n.date)-new Date(e.date)}))})),v=function(e){return Number(e).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},k=function(e){return new Date(e).toLocaleDateString("pt-BR")},g=function(e){var n={utilities:"Utilidades",maintenance:"Manutenção",supplies:"Materiais",events:"Eventos",others:"Outros"};return n[e]||e};return{expenseForm:o,expenses:a,totalIncome:l,totalExpenses:i,balance:u,barChartData:s,barChartOptions:d,pieChartData:c,pieChartOptions:m,sortedTransactions:f,handleExpenseSubmit:p,formatValue:v,formatDate:k,formatCategory:g}}},Me=(0,C.A)(qe,[["render",Oe],["__scopeId","data-v-607b6cbe"]]),Je=Me;var Pe={class:"login-container"},Xe={class:"login-card"},Be={key:0,class:"church-logo"},Ke=["src","alt"],We={class:"form-group"},$e={class:"form-group"};function Ge(e,n,t,l,i,u){return(0,r.uX)(),(0,r.CE)("div",Pe,[(0,r.Lk)("div",Xe,[l.churchSettings.logo?((0,r.uX)(),(0,r.CE)("div",Be,[(0,r.Lk)("img",{src:l.churchSettings.logo,alt:l.churchSettings.name},null,8,Ke)])):(0,r.Q3)("",!0),(0,r.Lk)("h1",null,(0,o.v_)(l.churchSettings.name),1),(0,r.Lk)("form",{onSubmit:n[2]||(n[2]=(0,a.D$)((function(){return l.handleLogin&&l.handleLogin.apply(l,arguments)}),["prevent"]))},[(0,r.Lk)("div",We,[n[3]||(n[3]=(0,r.Lk)("label",{for:"email"},"E-mail",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=function(e){return l.loginForm.email=e}),required:"",placeholder:"Digite seu e-mail"},null,512),[[a.Jo,l.loginForm.email]])]),(0,r.Lk)("div",$e,[n[4]||(n[4]=(0,r.Lk)("label",{for:"password"},"Senha",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=function(e){return l.loginForm.password=e}),required:"",placeholder:"Digite sua senha"},null,512),[[a.Jo,l.loginForm.password]])]),n[5]||(n[5]=(0,r.Lk)("button",{type:"submit",class:"login-button"}," Entrar ",-1))],32)])])}var ze=(0,h.KR)({name:localStorage.getItem("churchName")||"Igreja Management",logo:localStorage.getItem("churchLogo")||"",primaryColor:localStorage.getItem("primaryColor")||"#1e3c72",secondaryColor:localStorage.getItem("secondaryColor")||"#2a5298"});function Qe(){var e=function(e){ze.value=(0,me.A)((0,me.A)({},ze.value),e),localStorage.setItem("churchName",ze.value.name),localStorage.setItem("churchLogo",ze.value.logo),localStorage.setItem("primaryColor",ze.value.primaryColor),localStorage.setItem("secondaryColor",ze.value.secondaryColor)};return{churchSettings:ze,updateSettings:e}}(0,r.wB)(ze,(function(e){document.documentElement.style.setProperty("--primary-color",e.primaryColor),document.documentElement.style.setProperty("--secondary-color",e.secondaryColor),document.title=e.name}),{deep:!0});const He={name:"LoginView",setup:function(){var e=Qe(),n=e.churchSettings,t=(0,k.rd)(),a=(0,h.KR)({email:"",password:""}),r=function(){"admin@igreja.com"===a.value.email&&"admin"===a.value.password?(localStorage.setItem("isAuthenticated","true"),t.push("/")):alert("Credenciais inválidas!")};return{loginForm:a,handleLogin:r,churchSettings:n}}},Ze=(0,C.A)(He,[["render",Ge],["__scopeId","data-v-1991f352"]]),Ye=Ze;var en={class:"settings-container"},nn={class:"settings-section"},tn={class:"form-group"},an={class:"form-group"},rn={class:"logo-upload"},on=["src"],ln={class:"form-group"},un={class:"color-picker"},sn={class:"color-option"},cn={class:"color-option"},dn={class:"settings-section"},mn={class:"form-group"},pn={class:"form-group"},fn={class:"form-group"},vn={class:"form-group"},hn={class:"users-list"},kn=["onClick","disabled"];function gn(e,n,t,l,i,u){return(0,r.uX)(),(0,r.CE)("div",en,[n[25]||(n[25]=(0,r.Lk)("h1",null,"Configurações",-1)),(0,r.Lk)("div",nn,[n[15]||(n[15]=(0,r.Lk)("h2",null,"Configurações da Igreja",-1)),(0,r.Lk)("div",tn,[n[10]||(n[10]=(0,r.Lk)("label",null,"Nome da Igreja",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return l.churchSettings.name=e}),placeholder:"Nome da Igreja"},null,512),[[a.Jo,l.churchSettings.name]])]),(0,r.Lk)("div",an,[n[11]||(n[11]=(0,r.Lk)("label",null,"Logo da Igreja",-1)),(0,r.Lk)("div",rn,[l.churchSettings.logo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:l.churchSettings.logo,alt:"Logo da Igreja"},null,8,on)):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"file",onChange:n[1]||(n[1]=function(){return l.handleLogoUpload&&l.handleLogoUpload.apply(l,arguments)}),accept:"image/*"},null,32)])]),(0,r.Lk)("div",ln,[n[14]||(n[14]=(0,r.Lk)("label",null,"Tema de Cores",-1)),(0,r.Lk)("div",un,[(0,r.Lk)("div",sn,[n[12]||(n[12]=(0,r.Lk)("label",null,"Cor Principal",-1)),(0,r.bo)((0,r.Lk)("input",{type:"color","onUpdate:modelValue":n[2]||(n[2]=function(e){return l.churchSettings.primaryColor=e})},null,512),[[a.Jo,l.churchSettings.primaryColor]])]),(0,r.Lk)("div",cn,[n[13]||(n[13]=(0,r.Lk)("label",null,"Cor Secundária",-1)),(0,r.bo)((0,r.Lk)("input",{type:"color","onUpdate:modelValue":n[3]||(n[3]=function(e){return l.churchSettings.secondaryColor=e})},null,512),[[a.Jo,l.churchSettings.secondaryColor]])])])])]),(0,r.Lk)("div",dn,[n[24]||(n[24]=(0,r.Lk)("h2",null,"Gerenciamento de Usuários",-1)),(0,r.Lk)("form",{onSubmit:n[8]||(n[8]=(0,a.D$)((function(){return l.handleAddUser&&l.handleAddUser.apply(l,arguments)}),["prevent"])),class:"user-form"},[(0,r.Lk)("div",mn,[n[16]||(n[16]=(0,r.Lk)("label",null,"Nome",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":n[4]||(n[4]=function(e){return l.newUser.name=e}),required:""},null,512),[[a.Jo,l.newUser.name]])]),(0,r.Lk)("div",pn,[n[17]||(n[17]=(0,r.Lk)("label",null,"E-mail",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":n[5]||(n[5]=function(e){return l.newUser.email=e}),required:""},null,512),[[a.Jo,l.newUser.email]])]),(0,r.Lk)("div",fn,[n[18]||(n[18]=(0,r.Lk)("label",null,"Senha",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":n[6]||(n[6]=function(e){return l.newUser.password=e}),required:""},null,512),[[a.Jo,l.newUser.password]])]),(0,r.Lk)("div",vn,[n[20]||(n[20]=(0,r.Lk)("label",null,"Tipo de Usuário",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":n[7]||(n[7]=function(e){return l.newUser.role=e})},n[19]||(n[19]=[(0,r.Lk)("option",{value:"admin"},"Administrador",-1),(0,r.Lk)("option",{value:"user"},"Usuário Comum",-1)]),512),[[a.u1,l.newUser.role]])]),n[21]||(n[21]=(0,r.Lk)("button",{type:"submit",class:"add-button"},"Adicionar Usuário",-1))],32),(0,r.Lk)("div",hn,[n[23]||(n[23]=(0,r.Lk)("h3",null,"Usuários Cadastrados",-1)),(0,r.Lk)("table",null,[n[22]||(n[22]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Nome"),(0,r.Lk)("th",null,"E-mail"),(0,r.Lk)("th",null,"Tipo"),(0,r.Lk)("th",null,"Ações")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.users,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,o.v_)(e.name),1),(0,r.Lk)("td",null,(0,o.v_)(e.email),1),(0,r.Lk)("td",null,(0,o.v_)("admin"===e.role?"Administrador":"Usuário Comum"),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:function(n){return l.deleteUser(e.id)},class:"delete-button",disabled:"admin@igreja.com"===e.email}," Excluir ",8,kn)])])})),128))])])])]),(0,r.Lk)("button",{onClick:n[9]||(n[9]=function(){return l.saveSettings&&l.saveSettings.apply(l,arguments)}),class:"save-button"}," Salvar Configurações ")])}const bn={name:"SettingsView",setup:function(){var e=Qe(),n=e.churchSettings,t=e.updateSettings,a=(0,h.KR)([{id:1,name:"Administrador",email:"admin@igreja.com",role:"admin"}]),r=(0,h.KR)({name:"",email:"",password:"",role:"user"}),o=function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onload=function(e){n.value.logo=e.target.result},a.readAsDataURL(t)}},l=function(){a.value.push((0,me.A)({id:Date.now()},r.value)),r.value={name:"",email:"",password:"",role:"user"}},i=function(e){confirm("Tem certeza que deseja excluir este usuário?")&&(a.value=a.value.filter((function(n){return n.id!==e})))},u=function(){t(n.value),alert("Configurações salvas com sucesso!")};return{churchSettings:n,users:a,newUser:r,handleLogoUpload:o,handleAddUser:l,deleteUser:i,saveSettings:u}}},Ln=(0,C.A)(bn,[["render",gn],["__scopeId","data-v-e27846f4"]]),yn=Ln;var Cn=[{path:"/login",name:"login",component:Ye,meta:{title:"Login"}},{path:"/",name:"dashboard",component:q,meta:{title:"Painel Principal",requiresAuth:!0}},{path:"/membros",name:"members",component:ve,meta:{title:"Cadastro de Membros",requiresAuth:!0}},{path:"/contributions",name:"contributions",component:function(){return t.e(688).then(t.bind(t,9688))},meta:{title:"Contribuições",requiresAuth:!0}},{path:"/financeiro",name:"financial",component:Je,meta:{title:"Controle Financeiro",requiresAuth:!0}},{path:"/configuracoes",name:"settings",component:yn,meta:{title:"Configurações",requiresAuth:!0,requiresAdmin:!0}}],wn=(0,k.aE)({history:(0,k.LA)("/"),routes:Cn});wn.beforeEach((function(e,n,t){var a="true"===localStorage.getItem("isAuthenticated");document.title="".concat(e.meta.title," - Igreja Management"),e.meta.requiresAuth&&!a?t("/login"):"/login"===e.path&&a?t("/"):t()}));const Sn=wn;var An=t(6278);const En=(0,An.y$)({state:{members:[],tithes:[],finances:[]},mutations:{},actions:{},modules:{}});var Fn=t(810),xn=(0,a.Ef)(S);xn.use((0,Fn.Ey)()),xn.use(Sn),xn.use(En),xn.mount("#app")}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var o=n[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,(()=>{var e=[];t.O=(n,a,r,o)=>{if(!a){var l=1/0;for(c=0;c<e.length;c++){for(var[a,r,o]=e[c],i=!0,u=0;u<a.length;u++)(!1&o||l>=o)&&Object.keys(t.O).every((e=>t.O[e](a[u])))?a.splice(u--,1):(i=!1,o<l&&(l=o));if(i){e.splice(c--,1);var s=r();void 0!==s&&(n=s)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,r,o]}})(),(()=>{t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((n,a)=>(t.f[a](e,n),n)),[]))})(),(()=>{t.u=e=>"js/"+e+".400c36ea.js"})(),(()=>{t.miniCssF=e=>"css/"+e+".3aad6430.css"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={},n="igreja-management:";t.l=(a,r,o,l)=>{if(e[a])e[a].push(r);else{var i,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==n+o){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",n+o),i.src=a),e[a]=[r];var m=(n,t)=>{i.onerror=i.onload=null,clearTimeout(p);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(t))),n)return n(t)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),u&&document.head.appendChild(i)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,n,a,r,o)=>{var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",t.nc&&(l.nonce=t.nc);var i=t=>{if(l.onerror=l.onload=null,"load"===t.type)r();else{var a=t&&t.type,i=t&&t.target&&t.target.href||n,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+i+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=i,l.parentNode&&l.parentNode.removeChild(l),o(u)}};return l.onerror=l.onload=i,l.href=n,a?a.parentNode.insertBefore(l,a.nextSibling):document.head.appendChild(l),l},n=(e,n)=>{for(var t=document.getElementsByTagName("link"),a=0;a<t.length;a++){var r=t[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===n))return r}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){r=l[a],o=r.getAttribute("data-href");if(o===e||o===n)return r}},a=a=>new Promise(((r,o)=>{var l=t.miniCssF(a),i=t.p+l;if(n(l,i))return r();e(a,i,null,r,o)})),r={524:0};t.f.miniCss=(e,n)=>{var t={688:1};r[e]?n.push(r[e]):0!==r[e]&&t[e]&&n.push(r[e]=a(e).then((()=>{r[e]=0}),(n=>{throw delete r[e],n})))}}})(),(()=>{var e={524:0};t.f.j=(n,a)=>{var r=t.o(e,n)?e[n]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise(((t,a)=>r=e[n]=[t,a]));a.push(r[2]=o);var l=t.p+t.u(n),i=new Error,u=a=>{if(t.o(e,n)&&(r=e[n],0!==r&&(e[n]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+n+" failed.\n("+o+": "+l+")",i.name="ChunkLoadError",i.type=o,i.request=l,r[1](i)}};t.l(l,u,"chunk-"+n,n)}},t.O.j=n=>0===e[n];var n=(n,a)=>{var r,o,[l,i,u]=a,s=0;if(l.some((n=>0!==e[n]))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(u)var c=u(t)}for(n&&n(a);s<l.length;s++)o=l[s],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},a=self["webpackChunkigreja_management"]=self["webpackChunkigreja_management"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))})();var a=t.O(void 0,[504],(()=>t(4357)));a=t.O(a)})();
//# sourceMappingURL=app.b2dcab54.js.map