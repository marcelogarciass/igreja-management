import{_ as w,c as d,a as s,b as v,t as c,w as b,d as m,v as u,r as t,s as f,u as _,o as g}from"./index-B9A1bAeq.js";const h={name:"LoginView",setup(){const i=_(),o=t(""),n=t(""),e=t(!1),a=t("");return{email:o,password:n,loading:e,errorMessage:a,handleLogin:async()=>{try{e.value=!0,a.value="";const{error:r}=await f.from("test").select("*").limit(1);if(r)throw new Error("Cannot connect to Supabase");const{data:k,error:l}=await f.auth.signInWithPassword({email:o.value,password:n.value});if(l)throw l;i.push("/")}catch(r){console.error("Login error:",r),a.value=r.message.includes("fetch")?"Erro de conexÃ£o com o servidor. Verifique sua internet":r.message}finally{e.value=!1}}}}},y={class:"login-container"},L={class:"login-card card"},E={key:0,class:"alert alert-danger mb-3"},V={class:"form-group"},x={class:"form-group"},M=["disabled"];function S(i,o,n,e,a,p){return g(),d("div",y,[s("div",L,[o[5]||(o[5]=s("h2",{class:"text-center mb-4"},"Login",-1)),e.errorMessage?(g(),d("div",E,c(e.errorMessage),1)):v("",!0),s("form",{onSubmit:o[2]||(o[2]=b((...r)=>e.handleLogin&&e.handleLogin(...r),["prevent"]))},[s("div",V,[o[3]||(o[3]=s("label",{class:"form-label",for:"email"},"Email",-1)),m(s("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=r=>e.email=r),class:"form-control",required:""},null,512),[[u,e.email]])]),s("div",x,[o[4]||(o[4]=s("label",{class:"form-label",for:"password"},"Senha",-1)),m(s("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=r=>e.password=r),class:"form-control",required:""},null,512),[[u,e.password]])]),s("button",{type:"submit",class:"btn btn-primary w-100 mt-3",disabled:e.loading},c(e.loading?"Entrando...":"Entrar"),9,M)],32)])])}const B=w(h,[["render",S],["__scopeId","data-v-0e2aa5d1"]]);export{B as default};
