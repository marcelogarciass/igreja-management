import{u as J,r as h,c as w,o as L,w as P,a as A,b as u,d as c,e as t,f as I,t as p,g as v,h as y,i as j,j as q,n as O,k as D,l as m,v as f,F as E,m as F,C as Y,p as Q,L as X,B as W,q as H,s as K,x as ee,A as te,y as oe,P as se,z as B,D as ae,E as re,G as ne,H as le,_ as ie,I as de,J as ue,K as me}from"./vendor-639c0f8f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const V=(r,e)=>{const n=r.__vccOpts||r;for(const[o,l]of e)n[o]=l;return n},ce={setup(){const r=J(),e=h(!1),n=h(""),o=h(""),l=w(()=>r.currentRoute.value.path==="/login"),i=h(!1),s=()=>{try{n.value=localStorage.getItem("churchName")||"",o.value=localStorage.getItem("churchLogo")||"",i.value=localStorage.getItem("isAdmin")==="true"}catch(a){console.error("Erro ao carregar dados da igreja:",a)}};return L(()=>{const a=localStorage.getItem("isAuthenticated")==="true";e.value=a,a?s():r.push("/login")}),window.addEventListener("storage",a=>{a.key==="churchName"&&(n.value=a.newValue||""),a.key==="churchLogo"&&(o.value=a.newValue||"")}),P(n,a=>{document.title=a?`${a} - Sistema de Gestão`:"Igreja Management"}),{isAuthenticated:e,handleLogout:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("isAdmin"),e.value=!1,r.push("/login")},churchName:n,churchLogo:o,isLoginPage:l,isAdmin:i}}},ge={class:"app-container"},pe={key:0,class:"app-header"},fe={class:"logo"},be=["src"],ve={class:"main-nav"},he={key:0,class:"sidebar"},ye={class:"nav-links"};function xe(r,e,n,o,l,i){const s=A("router-link"),g=A("router-view");return u(),c("div",ge,[o.isLoginPage?I("",!0):(u(),c("header",pe,[t("div",fe,[o.churchLogo?(u(),c("img",{key:0,src:o.churchLogo,alt:"Logo da Igreja",class:"church-logo"},null,8,be)):I("",!0),t("h1",null,p(o.churchName||"Igreja Management"),1)]),t("nav",ve,[v(s,{to:"/",class:"nav-item"},{default:y(()=>e[1]||(e[1]=[t("i",{class:"fas fa-chart-line"},null,-1),t("span",null,"Painel",-1)])),_:1}),v(s,{to:"/membros",class:"nav-item"},{default:y(()=>e[2]||(e[2]=[t("i",{class:"fas fa-users"},null,-1),t("span",null,"Membros",-1)])),_:1}),v(s,{to:"/contributions",class:"nav-item"},{default:y(()=>e[3]||(e[3]=[t("i",{class:"fas fa-hand-holding-usd"},null,-1),t("span",null,"Contribuições",-1)])),_:1}),v(s,{to:"/financeiro",class:"nav-item"},{default:y(()=>e[4]||(e[4]=[t("i",{class:"fas fa-dollar-sign"},null,-1),t("span",null,"Financeiro",-1)])),_:1}),o.isAdmin?(u(),j(s,{key:0,to:"/configuracoes",class:"nav-item"},{default:y(()=>e[5]||(e[5]=[t("i",{class:"fas fa-cog"},null,-1),t("span",null,"Configurações",-1)])),_:1})):I("",!0)]),o.isAuthenticated?(u(),c("nav",he,[t("div",ye,[v(s,{to:"/",class:"nav-item"},{default:y(()=>e[6]||(e[6]=[t("i",{class:"fas fa-chart-line"},null,-1),t("span",null,"Painel",-1)])),_:1}),v(s,{to:"/membros",class:"nav-item"},{default:y(()=>e[7]||(e[7]=[t("i",{class:"fas fa-users"},null,-1),t("span",null,"Membros",-1)])),_:1}),v(s,{to:"/contributions",class:"nav-item"},{default:y(()=>e[8]||(e[8]=[t("i",{class:"fas fa-hand-holding-usd"},null,-1),t("span",null,"Contribuições",-1)])),_:1}),v(s,{to:"/financeiro",class:"nav-item"},{default:y(()=>e[9]||(e[9]=[t("i",{class:"fas fa-dollar-sign"},null,-1),t("span",null,"Financeiro",-1)])),_:1}),o.isAdmin?(u(),j(s,{key:0,to:"/configuracoes",class:"nav-item"},{default:y(()=>e[10]||(e[10]=[t("i",{class:"fas fa-cog"},null,-1),t("span",null,"Configurações",-1)])),_:1})):I("",!0)]),t("button",{onClick:e[0]||(e[0]=(...a)=>o.handleLogout&&o.handleLogout(...a)),class:"logout-button"},e[11]||(e[11]=[t("i",{class:"fas fa-sign-out-alt"},null,-1),q(" Sair ")]))])):I("",!0)])),t("main",{class:O({"main-content":o.isAuthenticated})},[v(g)],2),e[12]||(e[12]=t("footer",{class:"app-footer"},[t("div",{class:"footer-content"},[t("p",null,"© 2025 Marcelo Garcia. Todos os direitos reservados."),t("a",{href:"https://wa.me/5511961551182",target:"_blank",class:"support-link"},[t("i",{class:"fab fa-whatsapp"}),q(" Suporte Técnico ")])])],-1))])}const we=V(ce,[["render",xe]]),k=h({tithes:[],offerings:[]});function z(){const r=w(()=>k.value.tithes.reduce((i,s)=>i+Number(s.value),0)),e=w(()=>k.value.offerings.reduce((i,s)=>i+Number(s.value),0)),n=w(()=>r.value+e.value);return{finances:k,totalTithes:r,totalOfferings:e,currentBalance:n,addTithe:i=>{k.value.tithes.push(i)},addOffering:i=>{k.value.offerings.push(i)}}}const _e={name:"DashboardView",setup(){const{totalTithes:r,totalOfferings:e,currentBalance:n}=z();return{totalTithes:r,totalOfferings:e,currentBalance:n,formatValue:l=>Number(l).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}}},Se={class:"dashboard"},Ce={class:"dashboard-cards"},Ie={class:"info-card"},Ue={class:"number"},Ve={class:"info-card"},ke={class:"number"},Ae={class:"info-card"},Ee={class:"number"},Fe={class:"quick-actions"};function De(r,e,n,o,l,i){const s=A("router-link");return u(),c("div",Se,[t("div",Ce,[t("div",Ie,[e[0]||(e[0]=t("h3",null,"Total de Dízimos",-1)),t("div",Ue,"R$ "+p(o.formatValue(o.totalTithes)),1)]),t("div",Ve,[e[1]||(e[1]=t("h3",null,"Total de Ofertas",-1)),t("div",ke,"R$ "+p(o.formatValue(o.totalOfferings)),1)]),t("div",Ae,[e[2]||(e[2]=t("h3",null,"Saldo Atual",-1)),t("div",Ee,"R$ "+p(o.formatValue(o.currentBalance)),1)])]),t("div",Fe,[v(s,{to:"/membros",class:"nav-button"},{default:y(()=>e[3]||(e[3]=[t("i",{class:"fas fa-users"},null,-1),t("span",null,"Membros",-1)])),_:1}),v(s,{to:"/contributions",class:"nav-button"},{default:y(()=>e[4]||(e[4]=[t("i",{class:"fas fa-hand-holding-usd"},null,-1),t("span",null,"Contribuições",-1)])),_:1}),v(s,{to:"/financeiro",class:"nav-button"},{default:y(()=>e[5]||(e[5]=[t("i",{class:"fas fa-dollar-sign"},null,-1),t("span",null,"Financeiro",-1)])),_:1}),v(s,{to:"/configuracoes",class:"nav-button"},{default:y(()=>e[6]||(e[6]=[t("i",{class:"fas fa-cog"},null,-1),t("span",null,"Configurações",-1)])),_:1})])])}const Ne=V(_e,[["render",De],["__scopeId","data-v-a55433aa"]]);const Me={name:"MembersView",setup(){const r=h({name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}),e=h([]),n=()=>{try{const a=localStorage.getItem("members");a&&(e.value=JSON.parse(a))}catch(a){console.error("Erro ao carregar membros:",a)}},o=()=>{try{console.log("Iniciando salvamento...",r.value);const a={id:"local-"+Date.now(),...r.value,createdAt:new Date().toISOString()};e.value.push(a),localStorage.setItem("members",JSON.stringify(e.value)),alert("Membro cadastrado com sucesso!"),r.value={name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}}catch(a){console.error("Erro detalhado:",a),alert("Erro ao cadastrar membro: "+a.message)}},l=a=>{try{const x=e.value.findIndex(d=>d.id===a.id);x!==-1&&(e.value[x]={...a},localStorage.setItem("members",JSON.stringify(e.value)))}catch(x){console.error("Erro ao atualizar membro:",x)}},i=a=>{if(confirm("Deseja realmente excluir este membro?"))try{e.value=e.value.filter(x=>x.id!==a),localStorage.setItem("members",JSON.stringify(e.value))}catch(x){console.error("Erro ao excluir membro:",x)}};return L(n),{memberForm:r,members:e,addChild:()=>{r.value.children.push({name:"",age:""})},removeChild:a=>{r.value.children.splice(a,1)},handleSubmit:o,editMember:l,deleteMember:i}}},Le={class:"members-container"},Oe={class:"form-container"},Te={class:"form-section"},je={class:"form-group"},qe={class:"form-row"},Re={class:"form-group"},Je={class:"form-group"},Pe={class:"form-row"},Be={class:"form-group"},ze={class:"form-group"},$e={class:"form-group"},Ze={class:"form-section"},Ge={class:"form-row"},Ye={class:"form-group"},Qe=["for"],Xe=["id","onUpdate:modelValue"],We={class:"form-group"},He=["for"],Ke=["id","onUpdate:modelValue"],et=["onClick"],tt={class:"members-list"},ot={key:0},st=["onClick"],at=["onClick"],rt={key:1};function nt(r,e,n,o,l,i){return u(),c("div",Le,[e[19]||(e[19]=t("h1",null,"Cadastro de Membros",-1)),t("div",Oe,[t("form",{onSubmit:e[7]||(e[7]=D((...s)=>o.handleSubmit&&o.handleSubmit(...s),["prevent"]))},[t("div",Te,[e[14]||(e[14]=t("h2",null,"Dados Pessoais",-1)),t("div",je,[e[8]||(e[8]=t("label",{for:"name"},"Nome*",-1)),m(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>o.memberForm.name=s),required:"",placeholder:"Digite o nome completo"},null,512),[[f,o.memberForm.name]])]),t("div",qe,[t("div",Re,[e[9]||(e[9]=t("label",{for:"cpf"},"CPF*",-1)),m(t("input",{type:"text",id:"cpf","onUpdate:modelValue":e[1]||(e[1]=s=>o.memberForm.cpf=s),required:"",placeholder:"000.000.000-00"},null,512),[[f,o.memberForm.cpf]])]),t("div",Je,[e[10]||(e[10]=t("label",{for:"rg"},"RG*",-1)),m(t("input",{type:"text",id:"rg","onUpdate:modelValue":e[2]||(e[2]=s=>o.memberForm.rg=s),required:"",placeholder:"00.000.000-0"},null,512),[[f,o.memberForm.rg]])])]),t("div",Pe,[t("div",Be,[e[11]||(e[11]=t("label",{for:"email"},"E-mail*",-1)),m(t("input",{type:"email",id:"email","onUpdate:modelValue":e[3]||(e[3]=s=>o.memberForm.email=s),required:"",placeholder:"Digite o e-mail"},null,512),[[f,o.memberForm.email]])]),t("div",ze,[e[12]||(e[12]=t("label",{for:"phone"},"Telefone*",-1)),m(t("input",{type:"tel",id:"phone","onUpdate:modelValue":e[4]||(e[4]=s=>o.memberForm.phone=s),required:"",placeholder:"(00) 00000-0000"},null,512),[[f,o.memberForm.phone]])])]),t("div",$e,[e[13]||(e[13]=t("label",{for:"spouse"},"Cônjuge",-1)),m(t("input",{type:"text",id:"spouse","onUpdate:modelValue":e[5]||(e[5]=s=>o.memberForm.spouse=s),placeholder:"Nome do cônjuge"},null,512),[[f,o.memberForm.spouse]])])]),t("div",Ze,[e[15]||(e[15]=t("h2",null,"Filhos",-1)),(u(!0),c(E,null,F(o.memberForm.children,(s,g)=>(u(),c("div",{key:g,class:"child-form"},[t("div",Ge,[t("div",Ye,[t("label",{for:"childName"+g},"Nome do Filho(a)",8,Qe),m(t("input",{id:"childName"+g,"onUpdate:modelValue":a=>s.name=a,type:"text",placeholder:"Nome do filho(a)"},null,8,Xe),[[f,s.name]])]),t("div",We,[t("label",{for:"childAge"+g},"Idade",8,He),m(t("input",{id:"childAge"+g,"onUpdate:modelValue":a=>s.age=a,type:"number",min:"0"},null,8,Ke),[[f,s.age]])]),t("button",{type:"button",class:"remove-button",onClick:a=>o.removeChild(g)}," Remover ",8,et)])]))),128)),t("button",{type:"button",class:"add-button",onClick:e[6]||(e[6]=(...s)=>o.addChild&&o.addChild(...s))}," Adicionar Filho(a) ")]),e[16]||(e[16]=t("button",{type:"submit",class:"submit-button"}," Cadastrar Membro ",-1))],32)]),t("div",tt,[e[18]||(e[18]=t("h2",null,"Membros Cadastrados",-1)),o.members.length>0?(u(),c("table",ot,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",null,"Nome"),t("th",null,"E-mail"),t("th",null,"Telefone"),t("th",null,"Ações")])],-1)),t("tbody",null,[(u(!0),c(E,null,F(o.members,s=>(u(),c("tr",{key:s.id},[t("td",null,p(s.name),1),t("td",null,p(s.email),1),t("td",null,p(s.phone),1),t("td",null,[t("button",{onClick:g=>o.editMember(s),class:"edit-button"},"Editar",8,st),t("button",{onClick:g=>o.deleteMember(s.id),class:"delete-button"},"Excluir",8,at)])]))),128))])])):(u(),c("p",rt,"Nenhum membro cadastrado"))])])}const lt=V(Me,[["render",nt],["__scopeId","data-v-3e8be83f"]]);Y.register(Q,X,W,H,K,ee,te);const it={name:"FinancialView",components:{Bar:oe,Pie:se},setup(){const{totalTithes:r,totalOfferings:e}=z(),n=h([]),o=h({description:"",category:"utilities",value:"",date:new Date().toISOString().split("T")[0]}),l=w(()=>r.value+e.value),i=w(()=>n.value.reduce((S,U)=>S+Number(U.value),0)),s=w(()=>l.value-i.value),g=w(()=>({labels:["Jan","Fev","Mar","Abr","Mai","Jun"],datasets:[{label:"Entradas",backgroundColor:"#2ecc71",data:[l.value]},{label:"Saídas",backgroundColor:"#e74c3c",data:[i.value]}]})),a=w(()=>({labels:["Dízimos","Ofertas"],datasets:[{backgroundColor:["#3498db","#2ecc71"],data:[r.value,e.value]}]})),x={responsive:!0,maintainAspectRatio:!1},d={responsive:!0,maintainAspectRatio:!1},b=()=>{n.value.push({id:Date.now(),type:"expense",...o.value}),o.value={description:"",category:"utilities",value:"",date:new Date().toISOString().split("T")[0]}},_=w(()=>[...n.value.map(U=>({...U,type:"expense"}))].sort((U,G)=>new Date(G.date)-new Date(U.date)));return{expenseForm:o,expenses:n,totalIncome:l,totalExpenses:i,balance:s,barChartData:g,barChartOptions:x,pieChartData:a,pieChartOptions:d,sortedTransactions:_,handleExpenseSubmit:b,formatValue:S=>Number(S).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),formatDate:S=>new Date(S).toLocaleDateString("pt-BR"),formatCategory:S=>({utilities:"Utilidades",maintenance:"Manutenção",supplies:"Materiais",events:"Eventos",others:"Outros"})[S]||S}}},dt={class:"financial-container"},ut={class:"summary-cards"},mt={class:"summary-card income"},ct={class:"amount"},gt={class:"summary-card expense"},pt={class:"amount"},ft={class:"summary-card balance"},bt={class:"amount"},vt={class:"charts-container"},ht={class:"chart-section"},yt={class:"chart-section"},xt={class:"expense-section"},wt={class:"form-row"},_t={class:"form-group"},St={class:"form-group"},Ct={class:"form-row"},It={class:"form-group"},Ut={class:"form-group"},Vt={class:"transactions-section"};function kt(r,e,n,o,l,i){const s=A("Bar"),g=A("Pie");return u(),c("div",dt,[e[19]||(e[19]=t("h1",null,"Controle Financeiro",-1)),t("div",ut,[t("div",mt,[e[5]||(e[5]=t("h3",null,"Total de Entradas",-1)),t("p",ct,"R$ "+p(o.formatValue(o.totalIncome)),1)]),t("div",gt,[e[6]||(e[6]=t("h3",null,"Total de Saídas",-1)),t("p",pt,"R$ "+p(o.formatValue(o.totalExpenses)),1)]),t("div",ft,[e[7]||(e[7]=t("h3",null,"Saldo",-1)),t("p",bt,"R$ "+p(o.formatValue(o.balance)),1)])]),t("div",vt,[t("div",ht,[e[8]||(e[8]=t("h2",null,"Entradas vs Saídas",-1)),v(s,{data:o.barChartData,options:o.barChartOptions},null,8,["data","options"])]),t("div",yt,[e[9]||(e[9]=t("h2",null,"Distribuição de Entradas",-1)),v(g,{data:o.pieChartData,options:o.pieChartOptions},null,8,["data","options"])])]),t("div",xt,[e[16]||(e[16]=t("h2",null,"Registrar Despesa",-1)),t("form",{onSubmit:e[4]||(e[4]=D((...a)=>o.handleExpenseSubmit&&o.handleExpenseSubmit(...a),["prevent"])),class:"expense-form"},[t("div",wt,[t("div",_t,[e[10]||(e[10]=t("label",null,"Descrição",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>o.expenseForm.description=a),required:"",placeholder:"Descrição da despesa"},null,512),[[f,o.expenseForm.description]])]),t("div",St,[e[12]||(e[12]=t("label",null,"Categoria",-1)),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.expenseForm.category=a),required:""},e[11]||(e[11]=[ae('<option value="utilities" data-v-3a5d77a5>Utilidades</option><option value="maintenance" data-v-3a5d77a5>Manutenção</option><option value="supplies" data-v-3a5d77a5>Materiais</option><option value="events" data-v-3a5d77a5>Eventos</option><option value="others" data-v-3a5d77a5>Outros</option>',5)]),512),[[B,o.expenseForm.category]])])]),t("div",Ct,[t("div",It,[e[13]||(e[13]=t("label",null,"Valor",-1)),m(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=a=>o.expenseForm.value=a),required:"",step:"0.01",min:"0",placeholder:"R$ 0,00"},null,512),[[f,o.expenseForm.value]])]),t("div",Ut,[e[14]||(e[14]=t("label",null,"Data",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=a=>o.expenseForm.date=a),required:""},null,512),[[f,o.expenseForm.date]])])]),e[15]||(e[15]=t("button",{type:"submit",class:"submit-button"},"Registrar Despesa",-1))],32)]),t("div",Vt,[e[18]||(e[18]=t("h2",null,"Histórico de Transações",-1)),t("table",null,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",null,"Data"),t("th",null,"Descrição"),t("th",null,"Categoria"),t("th",null,"Tipo"),t("th",null,"Valor")])],-1)),t("tbody",null,[(u(!0),c(E,null,F(o.sortedTransactions,a=>(u(),c("tr",{key:a.id,class:O({"income-row":a.type==="income","expense-row":a.type==="expense"})},[t("td",null,p(o.formatDate(a.date)),1),t("td",null,p(a.description),1),t("td",null,p(o.formatCategory(a.category)),1),t("td",null,p(a.type==="income"?"Entrada":"Saída"),1),t("td",null,"R$ "+p(o.formatValue(a.value)),1)],2))),128))])])])])}const At=V(it,[["render",kt],["__scopeId","data-v-3a5d77a5"]]),C=h({name:localStorage.getItem("churchName")||"Igreja Management",logo:localStorage.getItem("churchLogo")||"",primaryColor:localStorage.getItem("primaryColor")||"#1e3c72",secondaryColor:localStorage.getItem("secondaryColor")||"#2a5298"});P(C,r=>{document.documentElement.style.setProperty("--primary-color",r.primaryColor),document.documentElement.style.setProperty("--secondary-color",r.secondaryColor),document.title=r.name},{deep:!0});function $(){return{churchSettings:C,updateSettings:e=>{C.value={...C.value,...e},localStorage.setItem("churchName",C.value.name),localStorage.setItem("churchLogo",C.value.logo),localStorage.setItem("primaryColor",C.value.primaryColor),localStorage.setItem("secondaryColor",C.value.secondaryColor)}}}const Et={name:"LoginView",setup(){const{churchSettings:r}=$(),e=J(),n=h({email:"",password:""});return{loginForm:n,handleLogin:()=>{n.value.email==="admin@igreja.com"&&n.value.password==="admin"?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("isAdmin","true"),e.push("/")):n.value.email==="user@igreja.com"&&n.value.password==="user"?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("isAdmin","false"),e.push("/")):alert(`Credenciais inválidas!
Use admin@igreja.com/admin ou user@igreja.com/user`)},churchSettings:r}}},Ft={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700 px-4 sm:px-6 lg:px-8"},Dt={class:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl transform transition-all duration-500 hover:scale-[1.02]"},Nt={class:"text-center"},Mt={key:0,class:"mx-auto w-32 h-32 mb-6"},Lt=["src","alt"],Ot={class:"text-3xl font-bold text-gray-900 mb-2"},Tt={class:"space-y-4"},jt={class:"mt-1 relative"},qt={class:"mt-1 relative"};function Rt(r,e,n,o,l,i){return u(),c("div",Ft,[t("div",Dt,[t("div",Nt,[o.churchSettings.logo?(u(),c("div",Mt,[t("img",{src:o.churchSettings.logo,alt:o.churchSettings.name,class:"w-full h-full object-contain"},null,8,Lt)])):I("",!0),t("h1",Ot,p(o.churchSettings.name||"Login"),1),e[3]||(e[3]=t("p",{class:"text-sm text-gray-600"},"Acesse o sistema de gestão",-1))]),t("form",{onSubmit:e[2]||(e[2]=D((...s)=>o.handleLogin&&o.handleLogin(...s),["prevent"])),class:"mt-8 space-y-6"},[t("div",Tt,[t("div",null,[e[4]||(e[4]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),t("div",jt,[m(t("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>o.loginForm.email=s),required:"",placeholder:"Digite seu e-mail",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"},null,512),[[f,o.loginForm.email]])])]),t("div",null,[e[5]||(e[5]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Senha",-1)),t("div",qt,[m(t("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.loginForm.password=s),required:"",placeholder:"Digite sua senha",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"},null,512),[[f,o.loginForm.password]])])])]),e[6]||(e[6]=t("button",{type:"submit",class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition-all duration-300 hover:scale-[1.02]"}," Entrar ",-1))],32)])])}const Jt=V(Et,[["render",Rt],["__scopeId","data-v-7de67a7f"]]),Pt="https://jjkarajdhjyvktaejybh.supabase.co",Bt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impqa2FyYWpkaGp5dmt0YWVqeWJoIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NDIxODkwMiwiZXhwIjoyMDU5Nzk0OTAyfQ.CQhhfJvVJz8tonosUyXTu9v6rMHOdMaNovQtQmhmFyc",N=re(Pt,Bt),zt=async r=>{const{data:e,error:n}=await N.from("church_settings").upsert(r);return{data:e,error:n}},$t=async r=>{const{data:e,error:n}=await N.auth.signUp({email:r.email,password:r.password,options:{data:{name:r.name,role:r.role}}});return{data:e,error:n}},R=async()=>{const{data:r,error:e}=await N.from("users").select("*");return{data:r,error:e}},Zt=async r=>{const{error:e}=await N.from("users").delete().eq("id",r);return{error:e}};const Gt={name:"SettingsView",setup(){const{churchSettings:r,updateSettings:e}=$(),n=h([]),o=h(!1),l=h(null),i=h({name:"",email:"",password:"",role:"user"}),s=async d=>{const b=d.target.files[0];if(b){const _=new FileReader;_.onload=T=>{r.value.logo=T.target.result},_.readAsDataURL(b)}},g=async()=>{try{o.value=!0;const{error:d}=await $t(i.value);if(d)throw d;const{data:b,error:_}=await R();if(_)throw _;n.value=b,i.value={name:"",email:"",password:"",role:"user"},alert("Usuário criado com sucesso!")}catch(d){l.value=d.message,alert("Erro ao criar usuário: "+d.message)}finally{o.value=!1}},a=async d=>{if(confirm("Tem certeza que deseja excluir este usuário?"))try{o.value=!0;const{error:b}=await Zt(d);if(b)throw b;n.value=n.value.filter(_=>_.id!==d),alert("Usuário excluído com sucesso!")}catch(b){l.value=b.message,alert("Erro ao excluir usuário: "+b.message)}finally{o.value=!1}},x=async()=>{try{o.value=!0;const{error:d}=await zt(r.value);if(d)throw d;e(r.value),alert("Configurações salvas com sucesso!")}catch(d){l.value=d.message,alert("Erro ao salvar configurações: "+d.message)}finally{o.value=!1}};return L(async()=>{try{o.value=!0;const{data:d,error:b}=await R();if(b)throw b;n.value=d}catch(d){l.value=d.message,console.error("Erro ao carregar usuários:",d)}finally{o.value=!1}}),{churchSettings:r,users:n,newUser:i,handleLogoUpload:s,handleAddUser:g,deleteUser:a,saveSettings:x}}},Yt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Qt={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},Xt={class:"space-y-6"},Wt={class:"space-y-4"},Ht=["src"],Kt={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},eo={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},to={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},oo={class:"overflow-x-auto"},so={class:"min-w-full divide-y divide-gray-200"},ao={class:"bg-white divide-y divide-gray-200"},ro={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},no={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},io={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},uo=["onClick","disabled"];function mo(r,e,n,o,l,i){return u(),c("div",Yt,[e[25]||(e[25]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-8"},"Configurações",-1)),t("div",Qt,[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configurações da Igreja",-1)),t("div",Xt,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nome da Igreja",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.churchSettings.name=s),placeholder:"Nome da Igreja",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[f,o.churchSettings.name]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Logo da Igreja",-1)),t("div",Wt,[o.churchSettings.logo?(u(),c("img",{key:0,src:o.churchSettings.logo,alt:"Logo da Igreja",class:"max-w-xs rounded-lg shadow-sm"},null,8,Ht)):I("",!0),t("input",{type:"file",onChange:e[1]||(e[1]=(...s)=>o.handleLogoUpload&&o.handleLogoUpload(...s)),accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors"},null,32)])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-4"},"Tema de Cores",-1)),t("div",Kt,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Cor Principal",-1)),m(t("input",{type:"color","onUpdate:modelValue":e[2]||(e[2]=s=>o.churchSettings.primaryColor=s),class:"h-10 w-full rounded-lg shadow-sm cursor-pointer"},null,512),[[f,o.churchSettings.primaryColor]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Cor Secundária",-1)),m(t("input",{type:"color","onUpdate:modelValue":e[3]||(e[3]=s=>o.churchSettings.secondaryColor=s),class:"h-10 w-full rounded-lg shadow-sm cursor-pointer"},null,512),[[f,o.churchSettings.secondaryColor]])])])])])]),t("div",eo,[e[24]||(e[24]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Gerenciamento de Usuários",-1)),t("form",{onSubmit:e[8]||(e[8]=D((...s)=>o.handleAddUser&&o.handleAddUser(...s),["prevent"])),class:"space-y-6 mb-8"},[t("div",to,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nome",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>o.newUser.name=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[f,o.newUser.name]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"E-mail",-1)),m(t("input",{type:"email","onUpdate:modelValue":e[5]||(e[5]=s=>o.newUser.email=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[f,o.newUser.email]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Senha",-1)),m(t("input",{type:"password","onUpdate:modelValue":e[6]||(e[6]=s=>o.newUser.password=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[f,o.newUser.password]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Usuário",-1)),m(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.newUser.role=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},e[19]||(e[19]=[t("option",{value:"admin"},"Administrador",-1),t("option",{value:"user"},"Usuário Comum",-1)]),512),[[B,o.newUser.role]])])]),e[21]||(e[21]=t("button",{type:"submit",class:"w-full sm:w-auto px-6 py-3 bg-green-600 text-white font-medium rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"}," Adicionar Usuário ",-1))],32),t("div",null,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Usuários Cadastrados",-1)),t("div",oo,[t("table",so,[e[22]||(e[22]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nome"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"E-mail"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ações")])],-1)),t("tbody",ao,[(u(!0),c(E,null,F(o.users,s=>(u(),c("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[t("td",ro,p(s.name),1),t("td",no,p(s.email),1),t("td",lo,[t("span",{class:O([s.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800","px-2 py-1 rounded-full text-xs font-medium"])},p(s.role==="admin"?"Administrador":"Usuário Comum"),3)]),t("td",io,[t("button",{onClick:g=>o.deleteUser(s.id),disabled:s.email==="admin@igreja.com",class:"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Excluir ",8,uo)])]))),128))])])])])]),t("button",{onClick:e[9]||(e[9]=(...s)=>o.saveSettings&&o.saveSettings(...s)),class:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Salvar Configurações ")])}const co=V(Gt,[["render",mo],["__scopeId","data-v-eb004389"]]),go=[{path:"/login",name:"login",component:Jt,meta:{title:"Login"}},{path:"/",name:"dashboard",component:Ne,meta:{title:"Painel Principal",requiresAuth:!0}},{path:"/membros",name:"members",component:lt,meta:{title:"Cadastro de Membros",requiresAuth:!0}},{path:"/contributions",name:"contributions",component:()=>ie(()=>import("./ContributionsView-840d5e9e.js"),["assets/ContributionsView-840d5e9e.js","assets/vendor-639c0f8f.js","assets/ContributionsView-0f86b0ea.css"]),meta:{title:"Contribuições",requiresAuth:!0}},{path:"/financeiro",name:"financial",component:At,meta:{title:"Controle Financeiro",requiresAuth:!0}},{path:"/configuracoes",name:"settings",component:co,meta:{title:"Configurações",requiresAuth:!0,requiresAdmin:!0}}],Z=ne({history:le('"/"'),routes:go});Z.beforeEach((r,e,n)=>{const o=localStorage.getItem("isAuthenticated")==="true";document.title=`${r.meta.title} - Igreja Management`,r.meta.requiresAuth&&!o?n("/login"):r.path==="/login"&&o?n("/"):n()});const po=de({state:{members:[],tithes:[],finances:[]},mutations:{},actions:{},modules:{}}),M=ue(we);M.use(me());M.use(Z);M.use(po);M.mount("#app");export{V as _};
