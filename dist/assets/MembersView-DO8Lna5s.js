import{_,c as m,a as e,w as F,d,v as i,F as v,f as h,r as g,e as C,o as u,t as b}from"./index-B9A1bAeq.js";const M={name:"MembersView",setup(){const a=g({name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}),o=g([]),c=()=>{try{const t=localStorage.getItem("members");t&&(o.value=JSON.parse(t))}catch(t){console.error("Erro ao carregar membros:",t)}},l=()=>{try{console.log("Iniciando salvamento...",a.value);const t={id:"local-"+Date.now(),...a.value,createdAt:new Date().toISOString()};o.value.push(t),localStorage.setItem("members",JSON.stringify(o.value)),alert("Membro cadastrado com sucesso!"),a.value={name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}}catch(t){console.error("Erro detalhado:",t),alert("Erro ao cadastrar membro: "+t.message)}},p=t=>{try{const n=o.value.findIndex(y=>y.id===t.id);n!==-1&&(o.value[n]={...t},localStorage.setItem("members",JSON.stringify(o.value)))}catch(n){console.error("Erro ao atualizar membro:",n)}},f=t=>{if(confirm("Deseja realmente excluir este membro?"))try{o.value=o.value.filter(n=>n.id!==t),localStorage.setItem("members",JSON.stringify(o.value))}catch(n){console.error("Erro ao excluir membro:",n)}};return C(c),{memberForm:a,members:o,addChild:()=>{a.value.children.push({name:"",age:""})},removeChild:t=>{a.value.children.splice(t,1)},handleSubmit:l,editMember:p,deleteMember:f}}},S={class:"members-container"},k={class:"form-container"},N={class:"form-section"},V={class:"form-group"},w={class:"form-row"},E={class:"form-group"},U={class:"form-group"},x={class:"form-row"},I={class:"form-group"},D={class:"form-group"},q={class:"form-group"},A={class:"form-section"},O={class:"form-row"},J={class:"form-group"},j=["for"],B=["id","onUpdate:modelValue"],T={class:"form-group"},P=["for"],R=["id","onUpdate:modelValue"],z=["onClick"],G={class:"members-list"},L={key:0},H=["onClick"],K=["onClick"],Q={key:1};function W(a,o,c,l,p,f){return u(),m("div",S,[o[19]||(o[19]=e("h1",null,"Cadastro de Membros",-1)),e("div",k,[e("form",{onSubmit:o[7]||(o[7]=F((...r)=>l.handleSubmit&&l.handleSubmit(...r),["prevent"]))},[e("div",N,[o[14]||(o[14]=e("h2",null,"Dados Pessoais",-1)),e("div",V,[o[8]||(o[8]=e("label",{for:"name"},"Nome*",-1)),d(e("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=r=>l.memberForm.name=r),required:"",placeholder:"Digite o nome completo"},null,512),[[i,l.memberForm.name]])]),e("div",w,[e("div",E,[o[9]||(o[9]=e("label",{for:"cpf"},"CPF*",-1)),d(e("input",{type:"text",id:"cpf","onUpdate:modelValue":o[1]||(o[1]=r=>l.memberForm.cpf=r),required:"",placeholder:"000.000.000-00"},null,512),[[i,l.memberForm.cpf]])]),e("div",U,[o[10]||(o[10]=e("label",{for:"rg"},"RG*",-1)),d(e("input",{type:"text",id:"rg","onUpdate:modelValue":o[2]||(o[2]=r=>l.memberForm.rg=r),required:"",placeholder:"00.000.000-0"},null,512),[[i,l.memberForm.rg]])])]),e("div",x,[e("div",I,[o[11]||(o[11]=e("label",{for:"email"},"E-mail*",-1)),d(e("input",{type:"email",id:"email","onUpdate:modelValue":o[3]||(o[3]=r=>l.memberForm.email=r),required:"",placeholder:"Digite o e-mail"},null,512),[[i,l.memberForm.email]])]),e("div",D,[o[12]||(o[12]=e("label",{for:"phone"},"Telefone*",-1)),d(e("input",{type:"tel",id:"phone","onUpdate:modelValue":o[4]||(o[4]=r=>l.memberForm.phone=r),required:"",placeholder:"(00) 00000-0000"},null,512),[[i,l.memberForm.phone]])])]),e("div",q,[o[13]||(o[13]=e("label",{for:"spouse"},"Cônjuge",-1)),d(e("input",{type:"text",id:"spouse","onUpdate:modelValue":o[5]||(o[5]=r=>l.memberForm.spouse=r),placeholder:"Nome do cônjuge"},null,512),[[i,l.memberForm.spouse]])])]),e("div",A,[o[15]||(o[15]=e("h2",null,"Filhos",-1)),(u(!0),m(v,null,h(l.memberForm.children,(r,s)=>(u(),m("div",{key:s,class:"child-form"},[e("div",O,[e("div",J,[e("label",{for:"childName"+s},"Nome do Filho(a)",8,j),d(e("input",{id:"childName"+s,"onUpdate:modelValue":t=>r.name=t,type:"text",placeholder:"Nome do filho(a)"},null,8,B),[[i,r.name]])]),e("div",T,[e("label",{for:"childAge"+s},"Idade",8,P),d(e("input",{id:"childAge"+s,"onUpdate:modelValue":t=>r.age=t,type:"number",min:"0"},null,8,R),[[i,r.age]])]),e("button",{type:"button",class:"remove-button",onClick:t=>l.removeChild(s)}," Remover ",8,z)])]))),128)),e("button",{type:"button",class:"add-button",onClick:o[6]||(o[6]=(...r)=>l.addChild&&l.addChild(...r))}," Adicionar Filho(a) ")]),o[16]||(o[16]=e("button",{type:"submit",class:"submit-button"}," Cadastrar Membro ",-1))],32)]),e("div",G,[o[18]||(o[18]=e("h2",null,"Membros Cadastrados",-1)),l.members.length>0?(u(),m("table",L,[o[17]||(o[17]=e("thead",null,[e("tr",null,[e("th",null,"Nome"),e("th",null,"E-mail"),e("th",null,"Telefone"),e("th",null,"Ações")])],-1)),e("tbody",null,[(u(!0),m(v,null,h(l.members,r=>(u(),m("tr",{key:r.id},[e("td",null,b(r.name),1),e("td",null,b(r.email),1),e("td",null,b(r.phone),1),e("td",null,[e("button",{onClick:s=>l.editMember(r),class:"edit-button"},"Editar",8,H),e("button",{onClick:s=>l.deleteMember(r.id),class:"delete-button"},"Excluir",8,K)])]))),128))])])):(u(),m("p",Q,"Nenhum membro cadastrado"))])])}const Y=_(M,[["render",W],["__scopeId","data-v-3e8be83f"]]);export{Y as default};
