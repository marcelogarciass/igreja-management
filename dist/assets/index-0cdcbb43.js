var t,e,s=Object.defineProperty,i=(t,e,i)=>(((t,e,i)=>{e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i),i);
/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function n(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return t=>t in e}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const r={},o=[],a=()=>{},l=()=>!1,c=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),h=t=>t.startsWith("onUpdate:"),u=Object.assign,d=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},f=Object.prototype.hasOwnProperty,p=(t,e)=>f.call(t,e),g=Array.isArray,m=t=>"[object Map]"===T(t),b=t=>"[object Set]"===T(t),v=t=>"[object Date]"===T(t),y=t=>"function"==typeof t,_=t=>"string"==typeof t,x=t=>"symbol"==typeof t,w=t=>null!==t&&"object"==typeof t,k=t=>(w(t)||y(t))&&y(t.then)&&y(t.catch),S=Object.prototype.toString,T=t=>S.call(t),O=t=>"[object Object]"===T(t),P=t=>_(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,C=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},E=/-(\w)/g,A=M((t=>t.replace(E,((t,e)=>e?e.toUpperCase():"")))),R=/\B([A-Z])/g,j=M((t=>t.replace(R,"-$1").toLowerCase())),I=M((t=>t.charAt(0).toUpperCase()+t.slice(1))),D=M((t=>t?`on${I(t)}`:"")),L=(t,e)=>!Object.is(t,e),$=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},F=(t,e,s,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:s})},N=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let U;const V=()=>U||(U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function z(t){if(g(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=_(i)?q(i):z(i);if(n)for(const t in n)e[t]=n[t]}return e}if(_(t)||w(t))return t}const B=/;(?![^(]*\))/g,H=/:([^]+)/,W=/\/\*[^]*?\*\//g;function q(t){const e={};return t.replace(W,"").split(B).forEach((t=>{if(t){const s=t.split(H);s.length>1&&(e[s[0].trim()]=s[1].trim())}})),e}function K(t){let e="";if(_(t))e=t;else if(g(t))for(let s=0;s<t.length;s++){const i=K(t[s]);i&&(e+=i+" ")}else if(w(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const G=n("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function J(t){return!!t||""===t}function Y(t,e){if(t===e)return!0;let s=v(t),i=v(e);if(s||i)return!(!s||!i)&&t.getTime()===e.getTime();if(s=x(t),i=x(e),s||i)return t===e;if(s=g(t),i=g(e),s||i)return!(!s||!i)&&function(t,e){if(t.length!==e.length)return!1;let s=!0;for(let i=0;s&&i<t.length;i++)s=Y(t[i],e[i]);return s}(t,e);if(s=w(t),i=w(e),s||i){if(!s||!i)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t){const i=t.hasOwnProperty(s),n=e.hasOwnProperty(s);if(i&&!n||!i&&n||!Y(t[s],e[s]))return!1}}return String(t)===String(e)}function X(t,e){return t.findIndex((t=>Y(t,e)))}const Q=t=>!(!t||!0!==t.__v_isRef),Z=t=>_(t)?t:null==t?"":g(t)||w(t)&&(t.toString===S||!y(t.toString))?Q(t)?Z(t.value):JSON.stringify(t,tt,2):String(t),tt=(t,e)=>Q(e)?tt(t,e.value):m(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,s],i)=>(t[et(e,i)+" =>"]=s,t)),{})}:b(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>et(t)))}:x(e)?et(e):!w(e)||g(e)||O(e)?e:String(e),et=(t,e="")=>{var s;return x(t)?`Symbol(${null!=(s=t.description)?s:e})`:t};
/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let st,it;class nt{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let t,e;if(this._isPaused=!0,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){let t,e;if(this._isPaused=!1,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=st;try{return st=this,t()}finally{st=e}}}on(){st=this}off(){st=this.parent}stop(t){if(this._active){let e,s;for(this._active=!1,e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(this.effects.length=0,e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0}}}function rt(t){return new nt(t)}const ot=new WeakSet;class at{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ot.has(this)&&(ot.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ut(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,St(this),pt(this);const t=it,e=_t;it=this,_t=!0;try{return this.fn()}finally{gt(this),it=t,_t=e,this.flags&=-3}}stop(){if(1&this.flags){for(let t=this.deps;t;t=t.nextDep)vt(t);this.deps=this.depsTail=void 0,St(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ot.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mt(this)&&this.run()}get dirty(){return mt(this)}}let lt,ct,ht=0;function ut(t,e=!1){if(t.flags|=8,e)return t.next=ct,void(ct=t);t.next=lt,lt=t}function dt(){ht++}function ft(){if(--ht>0)return;if(ct){let t=ct;for(ct=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;for(;lt;){let s=lt;for(lt=void 0;s;){const i=s.next;if(s.next=void 0,s.flags&=-9,1&s.flags)try{s.trigger()}catch(e){t||(t=e)}s=i}}if(t)throw t}function pt(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function gt(t){let e,s=t.depsTail,i=s;for(;i;){const t=i.prevDep;-1===i.version?(i===s&&(s=t),vt(i),yt(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=t}t.deps=e,t.depsTail=s}function mt(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(bt(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function bt(t){if(4&t.flags&&!(16&t.flags))return;if(t.flags&=-17,t.globalVersion===Tt)return;t.globalVersion=Tt;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!mt(t))return void(t.flags&=-3);const s=it,i=_t;it=t,_t=!0;try{pt(t);const s=t.fn(t._value);(0===e.version||L(s,t._value))&&(t._value=s,e.version++)}catch(n){throw e.version++,n}finally{it=s,_t=i,gt(t),t.flags&=-3}}function vt(t,e=!1){const{dep:s,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),s.subs===t&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let t=s.computed.deps;t;t=t.nextDep)vt(t,!0)}e||--s.sc||!s.map||s.map.delete(s.key)}function yt(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let _t=!0;const xt=[];function wt(){xt.push(_t),_t=!1}function kt(){const t=xt.pop();_t=void 0===t||t}function St(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const t=it;it=void 0;try{e()}finally{it=t}}}let Tt=0;class Ot{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pt{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!it||!_t||it===this.computed)return;let e=this.activeLink;if(void 0===e||e.sub!==it)e=this.activeLink=new Ot(it,this),it.deps?(e.prevDep=it.depsTail,it.depsTail.nextDep=e,it.depsTail=e):it.deps=it.depsTail=e,Ct(e);else if(-1===e.version&&(e.version=this.version,e.nextDep)){const t=e.nextDep;t.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=t),e.prevDep=it.depsTail,e.nextDep=void 0,it.depsTail.nextDep=e,it.depsTail=e,it.deps===e&&(it.deps=t)}return e}trigger(t){this.version++,Tt++,this.notify(t)}notify(t){dt();try{0;for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{ft()}}}function Ct(t){if(t.dep.sc++,4&t.sub.flags){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let t=e.deps;t;t=t.nextDep)Ct(t)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Mt=new WeakMap,Et=Symbol(""),At=Symbol(""),Rt=Symbol("");function jt(t,e,s){if(_t&&it){let e=Mt.get(t);e||Mt.set(t,e=new Map);let i=e.get(s);i||(e.set(s,i=new Pt),i.map=e,i.key=s),i.track()}}function It(t,e,s,i,n,r){const o=Mt.get(t);if(!o)return void Tt++;const a=t=>{t&&t.trigger()};if(dt(),"clear"===e)o.forEach(a);else{const n=g(t),r=n&&P(s);if(n&&"length"===s){const t=Number(i);o.forEach(((e,s)=>{("length"===s||s===Rt||!x(s)&&s>=t)&&a(e)}))}else switch((void 0!==s||o.has(void 0))&&a(o.get(s)),r&&a(o.get(Rt)),e){case"add":n?r&&a(o.get("length")):(a(o.get(Et)),m(t)&&a(o.get(At)));break;case"delete":n||(a(o.get(Et)),m(t)&&a(o.get(At)));break;case"set":m(t)&&a(o.get(Et))}}ft()}function Dt(t){const e=_e(t);return e===t?e:(jt(e,0,Rt),ve(t)?e:e.map(we))}function Lt(t){return jt(t=_e(t),0,Rt),t}const $t={__proto__:null,[Symbol.iterator](){return Ft(this,Symbol.iterator,we)},concat(...t){return Dt(this).concat(...t.map((t=>g(t)?Dt(t):t)))},entries(){return Ft(this,"entries",(t=>(t[1]=we(t[1]),t)))},every(t,e){return Ut(this,"every",t,e,void 0,arguments)},filter(t,e){return Ut(this,"filter",t,e,(t=>t.map(we)),arguments)},find(t,e){return Ut(this,"find",t,e,we,arguments)},findIndex(t,e){return Ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ut(this,"findLast",t,e,we,arguments)},findLastIndex(t,e){return Ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return zt(this,"includes",t)},indexOf(...t){return zt(this,"indexOf",t)},join(t){return Dt(this).join(t)},lastIndexOf(...t){return zt(this,"lastIndexOf",t)},map(t,e){return Ut(this,"map",t,e,void 0,arguments)},pop(){return Bt(this,"pop")},push(...t){return Bt(this,"push",t)},reduce(t,...e){return Vt(this,"reduce",t,e)},reduceRight(t,...e){return Vt(this,"reduceRight",t,e)},shift(){return Bt(this,"shift")},some(t,e){return Ut(this,"some",t,e,void 0,arguments)},splice(...t){return Bt(this,"splice",t)},toReversed(){return Dt(this).toReversed()},toSorted(t){return Dt(this).toSorted(t)},toSpliced(...t){return Dt(this).toSpliced(...t)},unshift(...t){return Bt(this,"unshift",t)},values(){return Ft(this,"values",we)}};function Ft(t,e,s){const i=Lt(t),n=i[e]();return i===t||ve(t)||(n._next=n.next,n.next=()=>{const t=n._next();return t.value&&(t.value=s(t.value)),t}),n}const Nt=Array.prototype;function Ut(t,e,s,i,n,r){const o=Lt(t),a=o!==t&&!ve(t),l=o[e];if(l!==Nt[e]){const e=l.apply(t,r);return a?we(e):e}let c=s;o!==t&&(a?c=function(e,i){return s.call(this,we(e),i,t)}:s.length>2&&(c=function(e,i){return s.call(this,e,i,t)}));const h=l.call(o,c,i);return a&&n?n(h):h}function Vt(t,e,s,i){const n=Lt(t);let r=s;return n!==t&&(ve(t)?s.length>3&&(r=function(e,i,n){return s.call(this,e,i,n,t)}):r=function(e,i,n){return s.call(this,e,we(i),n,t)}),n[e](r,...i)}function zt(t,e,s){const i=_e(t);jt(i,0,Rt);const n=i[e](...s);return-1!==n&&!1!==n||!ye(s[0])?n:(s[0]=_e(s[0]),i[e](...s))}function Bt(t,e,s=[]){wt(),dt();const i=_e(t)[e].apply(t,s);return ft(),kt(),i}const Ht=n("__proto__,__v_isRef,__isVue"),Wt=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(x));function qt(t){x(t)||(t=String(t));const e=_e(this);return jt(e,0,t),e.hasOwnProperty(t)}class Kt{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){if("__v_skip"===e)return t.__v_skip;const i=this._isReadonly,n=this._isShallow;if("__v_isReactive"===e)return!i;if("__v_isReadonly"===e)return i;if("__v_isShallow"===e)return n;if("__v_raw"===e)return s===(i?n?he:ce:n?le:ae).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=g(t);if(!i){let t;if(r&&(t=$t[e]))return t;if("hasOwnProperty"===e)return qt}const o=Reflect.get(t,e,Se(t)?t:s);return(x(e)?Wt.has(e):Ht(e))?o:(i||jt(t,0,e),n?o:Se(o)?r&&P(e)?o:o.value:w(o)?i?pe(o):de(o):o)}}class Gt extends Kt{constructor(t=!1){super(!1,t)}set(t,e,s,i){let n=t[e];if(!this._isShallow){const e=be(n);if(ve(s)||be(s)||(n=_e(n),s=_e(s)),!g(t)&&Se(n)&&!Se(s))return!e&&(n.value=s,!0)}const r=g(t)&&P(e)?Number(e)<t.length:p(t,e),o=Reflect.set(t,e,s,Se(t)?t:i);return t===_e(i)&&(r?L(s,n)&&It(t,"set",e,s):It(t,"add",e,s)),o}deleteProperty(t,e){const s=p(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&s&&It(t,"delete",e,void 0),i}has(t,e){const s=Reflect.has(t,e);return x(e)&&Wt.has(e)||jt(t,0,e),s}ownKeys(t){return jt(t,0,g(t)?"length":Et),Reflect.ownKeys(t)}}class Jt extends Kt{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Yt=new Gt,Xt=new Jt,Qt=new Gt(!0),Zt=t=>t,te=t=>Reflect.getPrototypeOf(t);function ee(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function se(t,e){const s={get(s){const i=this.__v_raw,n=_e(i),r=_e(s);t||(L(s,r)&&jt(n,0,s),jt(n,0,r));const{has:o}=te(n),a=e?Zt:t?ke:we;return o.call(n,s)?a(i.get(s)):o.call(n,r)?a(i.get(r)):void(i!==n&&i.get(s))},get size(){const e=this.__v_raw;return!t&&jt(_e(e),0,Et),Reflect.get(e,"size",e)},has(e){const s=this.__v_raw,i=_e(s),n=_e(e);return t||(L(e,n)&&jt(i,0,e),jt(i,0,n)),e===n?s.has(e):s.has(e)||s.has(n)},forEach(s,i){const n=this,r=n.__v_raw,o=_e(r),a=e?Zt:t?ke:we;return!t&&jt(o,0,Et),r.forEach(((t,e)=>s.call(i,a(t),a(e),n)))}};u(s,t?{add:ee("add"),set:ee("set"),delete:ee("delete"),clear:ee("clear")}:{add(t){e||ve(t)||be(t)||(t=_e(t));const s=_e(this);return te(s).has.call(s,t)||(s.add(t),It(s,"add",t,t)),this},set(t,s){e||ve(s)||be(s)||(s=_e(s));const i=_e(this),{has:n,get:r}=te(i);let o=n.call(i,t);o||(t=_e(t),o=n.call(i,t));const a=r.call(i,t);return i.set(t,s),o?L(s,a)&&It(i,"set",t,s):It(i,"add",t,s),this},delete(t){const e=_e(this),{has:s,get:i}=te(e);let n=s.call(e,t);n||(t=_e(t),n=s.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return n&&It(e,"delete",t,void 0),r},clear(){const t=_e(this),e=0!==t.size,s=t.clear();return e&&It(t,"clear",void 0,void 0),s}});return["keys","values","entries",Symbol.iterator].forEach((i=>{s[i]=function(t,e,s){return function(...i){const n=this.__v_raw,r=_e(n),o=m(r),a="entries"===t||t===Symbol.iterator&&o,l="keys"===t&&o,c=n[t](...i),h=s?Zt:e?ke:we;return!e&&jt(r,0,l?At:Et),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}(i,t,e)})),s}function ie(t,e){const s=se(t,e);return(e,i,n)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(p(s,i)&&i in e?s:e,i,n)}const ne={get:ie(!1,!1)},re={get:ie(!1,!0)},oe={get:ie(!0,!1)},ae=new WeakMap,le=new WeakMap,ce=new WeakMap,he=new WeakMap;function ue(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>T(t).slice(8,-1))(t))}function de(t){return be(t)?t:ge(t,!1,Yt,ne,ae)}function fe(t){return ge(t,!1,Qt,re,le)}function pe(t){return ge(t,!0,Xt,oe,ce)}function ge(t,e,s,i,n){if(!w(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const r=n.get(t);if(r)return r;const o=ue(t);if(0===o)return t;const a=new Proxy(t,2===o?i:s);return n.set(t,a),a}function me(t){return be(t)?me(t.__v_raw):!(!t||!t.__v_isReactive)}function be(t){return!(!t||!t.__v_isReadonly)}function ve(t){return!(!t||!t.__v_isShallow)}function ye(t){return!!t&&!!t.__v_raw}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function xe(t){return!p(t,"__v_skip")&&Object.isExtensible(t)&&F(t,"__v_skip",!0),t}const we=t=>w(t)?de(t):t,ke=t=>w(t)?pe(t):t;function Se(t){return!!t&&!0===t.__v_isRef}function Te(t){return Pe(t,!1)}function Oe(t){return Pe(t,!0)}function Pe(t,e){return Se(t)?t:new Ce(t,e)}class Ce{constructor(t,e){this.dep=new Pt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:_e(t),this._value=e?t:we(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,s=this.__v_isShallow||ve(t)||be(t);t=s?t:_e(t),L(t,e)&&(this._rawValue=t,this._value=s?t:we(t),this.dep.trigger())}}function Me(t){return Se(t)?t.value:t}const Ee={get:(t,e,s)=>"__v_raw"===e?t:Me(Reflect.get(t,e,s)),set:(t,e,s,i)=>{const n=t[e];return Se(n)&&!Se(s)?(n.value=s,!0):Reflect.set(t,e,s,i)}};function Ae(t){return me(t)?t:new Proxy(t,Ee)}class Re{constructor(t,e,s){this.fn=t,this.setter=e,this._value=void 0,this.dep=new Pt(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=s}notify(){if(this.flags|=16,!(8&this.flags)&&it!==this)return ut(this,!0),!0}get value(){const t=this.dep.track();return bt(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}const je={},Ie=new WeakMap;let De;function Le(t,e,s=r){const{immediate:i,deep:n,once:o,scheduler:l,augmentJob:c,call:h}=s,u=t=>n?t:ve(t)||!1===n||0===n?$e(t,1):$e(t);let f,p,m,b,v=!1,_=!1;if(Se(t)?(p=()=>t.value,v=ve(t)):me(t)?(p=()=>u(t),v=!0):g(t)?(_=!0,v=t.some((t=>me(t)||ve(t))),p=()=>t.map((t=>Se(t)?t.value:me(t)?u(t):y(t)?h?h(t,2):t():void 0))):p=y(t)?e?h?()=>h(t,2):t:()=>{if(m){wt();try{m()}finally{kt()}}const e=De;De=f;try{return h?h(t,3,[b]):t(b)}finally{De=e}}:a,e&&n){const t=p,e=!0===n?1/0:n;p=()=>$e(t(),e)}const x=st,w=()=>{f.stop(),x&&x.active&&d(x.effects,f)};if(o&&e){const t=e;e=(...e)=>{t(...e),w()}}let k=_?new Array(t.length).fill(je):je;const S=t=>{if(1&f.flags&&(f.dirty||t))if(e){const t=f.run();if(n||v||(_?t.some(((t,e)=>L(t,k[e]))):L(t,k))){m&&m();const s=De;De=f;try{const s=[t,k===je?void 0:_&&k[0]===je?[]:k,b];h?h(e,3,s):e(...s),k=t}finally{De=s}}}else f.run()};return c&&c(S),f=new at(p),f.scheduler=l?()=>l(S,!1):S,b=t=>function(t,e=!1,s=De){if(s){let e=Ie.get(s);e||Ie.set(s,e=[]),e.push(t)}}(t,!1,f),m=f.onStop=()=>{const t=Ie.get(f);if(t){if(h)h(t,4);else for(const e of t)e();Ie.delete(f)}},e?i?S(!0):k=f.run():l?l(S.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}function $e(t,e=1/0,s){if(e<=0||!w(t)||t.__v_skip)return t;if((s=s||new Set).has(t))return t;if(s.add(t),e--,Se(t))$e(t.value,e,s);else if(g(t))for(let i=0;i<t.length;i++)$e(t[i],e,s);else if(b(t)||m(t))t.forEach((t=>{$e(t,e,s)}));else if(O(t)){for(const i in t)$e(t[i],e,s);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&$e(t[i],e,s)}return t}
/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fe(t,e,s,i){try{return i?t(...i):t()}catch(n){Ue(n,e,s)}}function Ne(t,e,s,i){if(y(t)){const n=Fe(t,e,s,i);return n&&k(n)&&n.catch((t=>{Ue(t,e,s)})),n}if(g(t)){const n=[];for(let r=0;r<t.length;r++)n.push(Ne(t[r],e,s,i));return n}}function Ue(t,e,s,i=!0){e&&e.vnode;const{errorHandler:n,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||r;if(e){let i=e.parent;const r=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const e=i.ec;if(e)for(let s=0;s<e.length;s++)if(!1===e[s](t,r,o))return;i=i.parent}if(n)return wt(),Fe(n,null,10,[t,r,o]),void kt()}!function(t,e,s,i=!0,n=!1){if(n)throw t;console.error(t)}(t,0,0,i,o)}const Ve=[];let ze=-1;const Be=[];let He=null,We=0;const qe=Promise.resolve();let Ke=null;function Ge(t){const e=Ke||qe;return t?e.then(this?t.bind(this):t):e}function Je(t){if(!(1&t.flags)){const e=Ze(t),s=Ve[Ve.length-1];!s||!(2&t.flags)&&e>=Ze(s)?Ve.push(t):Ve.splice(function(t){let e=ze+1,s=Ve.length;for(;e<s;){const i=e+s>>>1,n=Ve[i],r=Ze(n);r<t||r===t&&2&n.flags?e=i+1:s=i}return e}(e),0,t),t.flags|=1,Ye()}}function Ye(){Ke||(Ke=qe.then(ts))}function Xe(t,e,s=ze+1){for(;s<Ve.length;s++){const e=Ve[s];if(e&&2&e.flags){if(t&&e.id!==t.uid)continue;Ve.splice(s,1),s--,4&e.flags&&(e.flags&=-2),e(),4&e.flags||(e.flags&=-2)}}}function Qe(t){if(Be.length){const t=[...new Set(Be)].sort(((t,e)=>Ze(t)-Ze(e)));if(Be.length=0,He)return void He.push(...t);for(He=t,We=0;We<He.length;We++){const t=He[We];4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2}He=null,We=0}}const Ze=t=>null==t.id?2&t.flags?-1:1/0:t.id;function ts(t){try{for(ze=0;ze<Ve.length;ze++){const t=Ve[ze];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),Fe(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;ze<Ve.length;ze++){const t=Ve[ze];t&&(t.flags&=-2)}ze=-1,Ve.length=0,Qe(),Ke=null,(Ve.length||Be.length)&&ts()}}let es=null,ss=null;function is(t){const e=es;return es=t,ss=t&&t.type.__scopeId||null,e}function ns(t,e=es,s){if(!e)return t;if(t._n)return t;const i=(...s)=>{i._d&&Gi(-1);const n=is(e);let r;try{r=t(...s)}finally{is(n),i._d&&Gi(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function rs(t,e){if(null===es)return t;const s=On(es),i=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[t,o,a,l=r]=e[n];t&&(y(t)&&(t={mounted:t,updated:t}),t.deep&&$e(o),i.push({dir:t,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function os(t,e,s,i){const n=t.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(wt(),Ne(l,s,8,[t.el,a,t,e]),kt())}}const as=Symbol("_vte");function ls(t,e){6&t.shapeFlag&&t.component?(t.transition=e,ls(t.component.subTree,e)):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}
/*! #__NO_SIDE_EFFECTS__ */function cs(t,e){return y(t)?(()=>u({name:t.name},e,{setup:t}))():t}function hs(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function us(t,e,s,i,n=!1){if(g(t))return void t.forEach(((t,r)=>us(t,e&&(g(e)?e[r]:e),s,i,n)));if(ds(i)&&!n)return void(512&i.shapeFlag&&i.type.__asyncResolved&&i.component.subTree.component&&us(t,e,s,i.component.subTree));const o=4&i.shapeFlag?On(i.component):i.el,a=n?null:o,{i:l,r:c}=t,h=e&&e.r,u=l.refs===r?l.refs={}:l.refs,f=l.setupState,m=_e(f),b=f===r?()=>!1:t=>p(m,t);if(null!=h&&h!==c&&(_(h)?(u[h]=null,b(h)&&(f[h]=null)):Se(h)&&(h.value=null)),y(c))Fe(c,l,12,[a,u]);else{const e=_(c),i=Se(c);if(e||i){const r=()=>{if(t.f){const s=e?b(c)?f[c]:u[c]:c.value;n?g(s)&&d(s,o):g(s)?s.includes(o)||s.push(o):e?(u[c]=[o],b(c)&&(f[c]=u[c])):(c.value=[o],t.k&&(u[t.k]=c.value))}else e?(u[c]=a,b(c)&&(f[c]=a)):i&&(c.value=a,t.k&&(u[t.k]=a))};a?(r.id=-1,vi(r,s)):r()}}}V().requestIdleCallback,V().cancelIdleCallback;const ds=t=>!!t.type.__asyncLoader,fs=t=>t.type.__isKeepAlive;function ps(t,e){ms(t,"a",e)}function gs(t,e){ms(t,"da",e)}function ms(t,e,s=bn){const i=t.__wdc||(t.__wdc=()=>{let e=s;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(vs(e,i,s),s){let t=s.parent;for(;t&&t.parent;)fs(t.parent.vnode)&&bs(i,e,s,t),t=t.parent}}function bs(t,e,s,i){const n=vs(e,t,i,!0);Ts((()=>{d(i[e],n)}),s)}function vs(t,e,s=bn,i=!1){if(s){const n=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...i)=>{wt();const n=vn(s),r=Ne(e,s,t,i);return n(),kt(),r});return i?n.unshift(r):n.push(r),r}}const ys=t=>(e,s=bn)=>{wn&&"sp"!==t||vs(t,((...t)=>e(...t)),s)},_s=ys("bm"),xs=ys("m"),ws=ys("bu"),ks=ys("u"),Ss=ys("bum"),Ts=ys("um"),Os=ys("sp"),Ps=ys("rtg"),Cs=ys("rtc");function Ms(t,e=bn){vs("ec",t,e)}const Es="components";function As(t,e){return function(t,e,s=!0,i=!1){const n=es||bn;if(n){const s=n.type;if(t===Es){const t=Pn(s,!1);if(t&&(t===e||t===A(e)||t===I(A(e))))return s}const r=js(n[t]||s[t],e)||js(n.appContext[t],e);return!r&&i?s:r}}(Es,t,!0,e)||t}const Rs=Symbol.for("v-ndc");function js(t,e){return t&&(t[e]||t[A(e)]||t[I(A(e))])}function Is(t,e,s,i){let n;const r=s&&s[i],o=g(t);if(o||_(t)){let s=!1;o&&me(t)&&(s=!ve(t),t=Lt(t)),n=new Array(t.length);for(let i=0,o=t.length;i<o;i++)n[i]=e(s?we(t[i]):t[i],i,void 0,r&&r[i])}else if("number"==typeof t){n=new Array(t);for(let s=0;s<t;s++)n[s]=e(s+1,s,void 0,r&&r[s])}else if(w(t))if(t[Symbol.iterator])n=Array.from(t,((t,s)=>e(t,s,void 0,r&&r[s])));else{const s=Object.keys(t);n=new Array(s.length);for(let i=0,o=s.length;i<o;i++){const o=s[i];n[i]=e(t[o],o,i,r&&r[i])}}else n=[];return s&&(s[i]=n),n}const Ds=t=>t?_n(t)?On(t):Ds(t.parent):null,Ls=u(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ds(t.parent),$root:t=>Ds(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Hs(t),$forceUpdate:t=>t.f||(t.f=()=>{Je(t.update)}),$nextTick:t=>t.n||(t.n=Ge.bind(t.proxy)),$watch:t=>Mi.bind(t)}),$s=(t,e)=>t!==r&&!t.__isScriptSetup&&p(t,e),Fs={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:a,type:l,appContext:c}=t;let h;if("$"!==e[0]){const l=a[e];if(void 0!==l)switch(l){case 1:return i[e];case 2:return n[e];case 4:return s[e];case 3:return o[e]}else{if($s(i,e))return a[e]=1,i[e];if(n!==r&&p(n,e))return a[e]=2,n[e];if((h=t.propsOptions[0])&&p(h,e))return a[e]=3,o[e];if(s!==r&&p(s,e))return a[e]=4,s[e];Us&&(a[e]=0)}}const u=Ls[e];let d,f;return u?("$attrs"===e&&jt(t.attrs,0,""),u(t)):(d=l.__cssModules)&&(d=d[e])?d:s!==r&&p(s,e)?(a[e]=4,s[e]):(f=c.config.globalProperties,p(f,e)?f[e]:void 0)},set({_:t},e,s){const{data:i,setupState:n,ctx:o}=t;return $s(n,e)?(n[e]=s,!0):i!==r&&p(i,e)?(i[e]=s,!0):!p(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=s,!0))},has({_:{data:t,setupState:e,accessCache:s,ctx:i,appContext:n,propsOptions:o}},a){let l;return!!s[a]||t!==r&&p(t,a)||$s(e,a)||(l=o[0])&&p(l,a)||p(i,a)||p(Ls,a)||p(n.config.globalProperties,a)},defineProperty(t,e,s){return null!=s.get?t._.accessCache[e]=0:p(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ns(t){return g(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Us=!0;function Vs(t){const e=Hs(t),s=t.proxy,i=t.ctx;Us=!1,e.beforeCreate&&zs(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:o,watch:l,provide:c,inject:h,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:b,deactivated:v,beforeDestroy:_,beforeUnmount:x,destroyed:k,unmounted:S,render:T,renderTracked:O,renderTriggered:P,errorCaptured:C,serverPrefetch:M,expose:E,inheritAttrs:A,components:R,directives:j,filters:I}=e;if(h&&function(t,e){g(t)&&(t=Gs(t));for(const s in t){const i=t[s];let n;n=w(i)?"default"in i?ii(i.from||s,i.default,!0):ii(i.from||s):ii(i),Se(n)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:t=>n.value=t}):e[s]=n}}(h,i,null),o)for(const a in o){const t=o[a];y(t)&&(i[a]=t.bind(s))}if(n){const e=n.call(s,s);w(e)&&(t.data=de(e))}if(Us=!0,r)for(const g in r){const t=r[g],e=y(t)?t.bind(s,s):y(t.get)?t.get.bind(s,s):a,n=!y(t)&&y(t.set)?t.set.bind(s):a,o=Cn({get:e,set:n});Object.defineProperty(i,g,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t})}if(l)for(const a in l)Bs(l[a],i,s,a);if(c){const t=y(c)?c.call(s):c;Reflect.ownKeys(t).forEach((e=>{si(e,t[e])}))}function D(t,e){g(e)?e.forEach((e=>t(e.bind(s)))):e&&t(e.bind(s))}if(u&&zs(u,t,"c"),D(_s,d),D(xs,f),D(ws,p),D(ks,m),D(ps,b),D(gs,v),D(Ms,C),D(Cs,O),D(Ps,P),D(Ss,x),D(Ts,S),D(Os,M),g(E))if(E.length){const e=t.exposed||(t.exposed={});E.forEach((t=>{Object.defineProperty(e,t,{get:()=>s[t],set:e=>s[t]=e})}))}else t.exposed||(t.exposed={});T&&t.render===a&&(t.render=T),null!=A&&(t.inheritAttrs=A),R&&(t.components=R),j&&(t.directives=j),M&&hs(t)}function zs(t,e,s){Ne(g(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,s)}function Bs(t,e,s,i){let n=i.includes(".")?Ei(s,i):()=>s[i];if(_(t)){const s=e[t];y(s)&&Pi(n,s)}else if(y(t))Pi(n,t.bind(s));else if(w(t))if(g(t))t.forEach((t=>Bs(t,e,s,i)));else{const i=y(t.handler)?t.handler.bind(s):e[t.handler];y(i)&&Pi(n,i,t)}}function Hs(t){const e=t.type,{mixins:s,extends:i}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:n.length||s||i?(l={},n.length&&n.forEach((t=>Ws(l,t,o,!0))),Ws(l,e,o)):l=e,w(e)&&r.set(e,l),l}function Ws(t,e,s,i=!1){const{mixins:n,extends:r}=e;r&&Ws(t,r,s,!0),n&&n.forEach((e=>Ws(t,e,s,!0)));for(const o in e)if(i&&"expose"===o);else{const i=qs[o]||s&&s[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const qs={data:Ks,props:Xs,emits:Xs,methods:Ys,computed:Ys,beforeCreate:Js,created:Js,beforeMount:Js,mounted:Js,beforeUpdate:Js,updated:Js,beforeDestroy:Js,beforeUnmount:Js,destroyed:Js,unmounted:Js,activated:Js,deactivated:Js,errorCaptured:Js,serverPrefetch:Js,components:Ys,directives:Ys,watch:function(t,e){if(!t)return e;if(!e)return t;const s=u(Object.create(null),t);for(const i in e)s[i]=Js(t[i],e[i]);return s},provide:Ks,inject:function(t,e){return Ys(Gs(t),Gs(e))}};function Ks(t,e){return e?t?function(){return u(y(t)?t.call(this,this):t,y(e)?e.call(this,this):e)}:e:t}function Gs(t){if(g(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Js(t,e){return t?[...new Set([].concat(t,e))]:e}function Ys(t,e){return t?u(Object.create(null),t,e):e}function Xs(t,e){return t?g(t)&&g(e)?[...new Set([...t,...e])]:u(Object.create(null),Ns(t),Ns(null!=e?e:{})):e}function Qs(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zs=0;function ti(t,e){return function(s,i=null){y(s)||(s=u({},s)),null==i||w(i)||(i=null);const n=Qs(),r=new WeakSet,o=[];let a=!1;const l=n.app={_uid:Zs++,_component:s,_props:i,_container:null,_context:n,_instance:null,version:En,get config(){return n.config},set config(t){},use:(t,...e)=>(r.has(t)||(t&&y(t.install)?(r.add(t),t.install(l,...e)):y(t)&&(r.add(t),t(l,...e))),l),mixin:t=>(n.mixins.includes(t)||n.mixins.push(t),l),component:(t,e)=>e?(n.components[t]=e,l):n.components[t],directive:(t,e)=>e?(n.directives[t]=e,l):n.directives[t],mount(r,o,c){if(!a){const h=l._ceVNode||nn(s,i);return h.appContext=n,!0===c?c="svg":!1===c&&(c=void 0),o&&e?e(h,r):t(h,r,c),a=!0,l._container=r,r.__vue_app__=l,On(h.component)}},onUnmount(t){o.push(t)},unmount(){a&&(Ne(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(n.provides[t]=e,l),runWithContext(t){const e=ei;ei=l;try{return t()}finally{ei=e}}};return l}}let ei=null;function si(t,e){if(bn){let s=bn.provides;const i=bn.parent&&bn.parent.provides;i===s&&(s=bn.provides=Object.create(i)),s[t]=e}else;}function ii(t,e,s=!1){const i=bn||es;if(i||ei){const n=ei?ei._context.provides:i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&y(e)?e.call(i&&i.proxy):e}}const ni={},ri=()=>Object.create(ni),oi=t=>Object.getPrototypeOf(t)===ni;function ai(t,e,s,i){const[n,o]=t.propsOptions;let a,l=!1;if(e)for(let r in e){if(C(r))continue;const c=e[r];let h;n&&p(n,h=A(r))?o&&o.includes(h)?(a||(a={}))[h]=c:s[h]=c:Ii(t.emitsOptions,r)||r in i&&c===i[r]||(i[r]=c,l=!0)}if(o){const e=_e(s),i=a||r;for(let r=0;r<o.length;r++){const a=o[r];s[a]=li(n,e,a,i[a],t,!p(i,a))}}return l}function li(t,e,s,i,n,r){const o=t[s];if(null!=o){const t=p(o,"default");if(t&&void 0===i){const t=o.default;if(o.type!==Function&&!o.skipFactory&&y(t)){const{propsDefaults:r}=n;if(s in r)i=r[s];else{const o=vn(n);i=r[s]=t.call(null,e),o()}}else i=t;n.ce&&n.ce._setProp(s,i)}o[0]&&(r&&!t?i=!1:!o[1]||""!==i&&i!==j(s)||(i=!0))}return i}const ci=new WeakMap;function hi(t,e,s=!1){const i=s?ci:e.propsCache,n=i.get(t);if(n)return n;const a=t.props,l={},c=[];let h=!1;if(!y(t)){const i=t=>{h=!0;const[s,i]=hi(t,e,!0);u(l,s),i&&c.push(...i)};!s&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!a&&!h)return w(t)&&i.set(t,o),o;if(g(a))for(let o=0;o<a.length;o++){const t=A(a[o]);ui(t)&&(l[t]=r)}else if(a)for(const r in a){const t=A(r);if(ui(t)){const e=a[r],s=l[t]=g(e)||y(e)?{type:e}:u({},e),i=s.type;let n=!1,o=!0;if(g(i))for(let t=0;t<i.length;++t){const e=i[t],s=y(e)&&e.name;if("Boolean"===s){n=!0;break}"String"===s&&(o=!1)}else n=y(i)&&"Boolean"===i.name;s[0]=n,s[1]=o,(n||p(s,"default"))&&c.push(t)}}const d=[l,c];return w(t)&&i.set(t,d),d}function ui(t){return"$"!==t[0]&&!C(t)}const di=t=>"_"===t[0]||"$stable"===t,fi=t=>g(t)?t.map(cn):[cn(t)],pi=(t,e,s)=>{if(e._n)return e;const i=ns(((...t)=>fi(e(...t))),s);return i._c=!1,i},gi=(t,e,s)=>{const i=t._ctx;for(const n in t){if(di(n))continue;const s=t[n];if(y(s))e[n]=pi(0,s,i);else if(null!=s){const t=fi(s);e[n]=()=>t}}},mi=(t,e)=>{const s=fi(e);t.slots.default=()=>s},bi=(t,e,s)=>{for(const i in e)(s||"_"!==i)&&(t[i]=e[i])},vi=function(t,e){e&&e.pendingBranch?g(t)?e.effects.push(...t):e.effects.push(t):(g(s=t)?Be.push(...s):He&&-1===s.id?He.splice(We+1,0,s):1&s.flags||(Be.push(s),s.flags|=1),Ye());var s};function yi(t){return function(t,e){V().__VUE__=!0;const{insert:s,remove:i,patchProp:n,createElement:l,createText:c,createComment:h,setText:u,setElementText:d,parentNode:f,nextSibling:g,setScopeId:m=a,insertStaticContent:b}=t,v=(t,e,s,i=null,n=null,r=null,o=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Zi(t,e)&&(i=Z(t),G(t,n,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:u}=e;switch(c){case Vi:y(t,e,s,i);break;case zi:_(t,e,s,i);break;case Bi:null==t&&x(e,s,i,o);break;case Ui:D(t,e,s,i,n,r,o,a,l);break;default:1&u?T(t,e,s,i,n,r,o,a,l):6&u?L(t,e,s,i,n,r,o,a,l):(64&u||128&u)&&c.process(t,e,s,i,n,r,o,a,l,st)}null!=h&&n&&us(h,t&&t.ref,r,e||t,!e)},y=(t,e,i,n)=>{if(null==t)s(e.el=c(e.children),i,n);else{const s=e.el=t.el;e.children!==t.children&&u(s,e.children)}},_=(t,e,i,n)=>{null==t?s(e.el=h(e.children||""),i,n):e.el=t.el},x=(t,e,s,i)=>{[t.el,t.anchor]=b(t.children,e,s,i,t.el,t.anchor)},w=({el:t,anchor:e},i,n)=>{let r;for(;t&&t!==e;)r=g(t),s(t,i,n),t=r;s(e,i,n)},S=({el:t,anchor:e})=>{let s;for(;t&&t!==e;)s=g(t),i(t),t=s;i(e)},T=(t,e,s,i,n,r,o,a,l)=>{"svg"===e.type?o="svg":"math"===e.type&&(o="mathml"),null==t?O(e,s,i,n,r,o,a,l):E(t,e,n,r,o,a,l)},O=(t,e,i,r,o,a,c,h)=>{let u,f;const{props:p,shapeFlag:g,transition:m,dirs:b}=t;if(u=t.el=l(t.type,a,p&&p.is,p),8&g?d(u,t.children):16&g&&M(t.children,u,null,r,o,_i(t,a),c,h),b&&os(t,null,r,"created"),P(u,t,t.scopeId,c,r),p){for(const t in p)"value"===t||C(t)||n(u,t,null,p[t],a,r);"value"in p&&n(u,"value",null,p.value,a),(f=p.onVnodeBeforeMount)&&dn(f,r,t)}b&&os(t,null,r,"beforeMount");const v=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(o,m);v&&m.beforeEnter(u),s(u,e,i),((f=p&&p.onVnodeMounted)||v||b)&&vi((()=>{f&&dn(f,r,t),v&&m.enter(u),b&&os(t,null,r,"mounted")}),o)},P=(t,e,s,i,n)=>{if(s&&m(t,s),i)for(let r=0;r<i.length;r++)m(t,i[r]);if(n){let s=n.subTree;if(e===s||Ni(s.type)&&(s.ssContent===e||s.ssFallback===e)){const e=n.vnode;P(t,e,e.scopeId,e.slotScopeIds,n.parent)}}},M=(t,e,s,i,n,r,o,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?hn(t[c]):cn(t[c]);v(null,l,e,s,i,n,r,o,a)}},E=(t,e,s,i,o,a,l)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:u,dirs:f}=e;h|=16&t.patchFlag;const p=t.props||r,g=e.props||r;let m;if(s&&xi(s,!1),(m=g.onVnodeBeforeUpdate)&&dn(m,s,e,t),f&&os(e,t,s,"beforeUpdate"),s&&xi(s,!0),(p.innerHTML&&null==g.innerHTML||p.textContent&&null==g.textContent)&&d(c,""),u?R(t.dynamicChildren,u,c,s,i,_i(e,o),a):l||H(t,e,c,null,s,i,_i(e,o),a,!1),h>0){if(16&h)I(c,p,g,s,o);else if(2&h&&p.class!==g.class&&n(c,"class",null,g.class,o),4&h&&n(c,"style",p.style,g.style,o),8&h){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e],r=p[i],a=g[i];a===r&&"value"!==i||n(c,i,r,a,o,s)}}1&h&&t.children!==e.children&&d(c,e.children)}else l||null!=u||I(c,p,g,s,o);((m=g.onVnodeUpdated)||f)&&vi((()=>{m&&dn(m,s,e,t),f&&os(e,t,s,"updated")}),i)},R=(t,e,s,i,n,r,o)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],h=l.el&&(l.type===Ui||!Zi(l,c)||70&l.shapeFlag)?f(l.el):s;v(l,c,h,null,i,n,r,o,!0)}},I=(t,e,s,i,o)=>{if(e!==s){if(e!==r)for(const r in e)C(r)||r in s||n(t,r,e[r],null,o,i);for(const r in s){if(C(r))continue;const a=s[r],l=e[r];a!==l&&"value"!==r&&n(t,r,l,a,o,i)}"value"in s&&n(t,"value",e.value,s.value,o)}},D=(t,e,i,n,r,o,a,l,h)=>{const u=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(s(u,i,n),s(d,i,n),M(e.children||[],i,d,r,o,a,l,h)):f>0&&64&f&&p&&t.dynamicChildren?(R(t.dynamicChildren,p,i,r,o,a,l),(null!=e.key||r&&e===r.subTree)&&wi(t,e,!0)):H(t,e,i,d,r,o,a,l,h)},L=(t,e,s,i,n,r,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?n.ctx.activate(e,s,i,o,l):N(e,s,i,n,r,o,l):U(t,e,l)},N=(t,e,s,i,n,o,a)=>{const l=t.component=function(t,e,s){const i=t.type,n=(e?e.appContext:t.appContext)||fn,o={uid:pn++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hi(i,n),emitsOptions:ji(i,n),emit:null,emitted:null,propsDefaults:r,inheritAttrs:i.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=e?e.root:o,o.emit=Ri.bind(null,o),t.ce&&t.ce(o);return o}(t,i,n);if(fs(t)&&(l.ctx.renderer=st),function(t,e=!1,s=!1){e&&mn(e);const{props:i,children:n}=t.vnode,r=_n(t);(function(t,e,s,i=!1){const n={},r=ri();t.propsDefaults=Object.create(null),ai(t,e,n,r);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=i?n:fe(n):t.type.props?t.props=n:t.props=r,t.attrs=r})(t,i,r,e),((t,e,s)=>{const i=t.slots=ri();if(32&t.vnode.shapeFlag){const t=e._;t?(bi(i,e,s),s&&F(i,"_",t,!0)):gi(e,i)}else e&&mi(t,e)})(t,n,s);const o=r?function(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Fs);const{setup:i}=s;if(i){wt();const s=t.setupContext=i.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,Tn),slots:t.slots,emit:t.emit,expose:e}}(t):null,n=vn(t),r=Fe(i,t,0,[t.props,s]),o=k(r);if(kt(),n(),!o&&!t.sp||ds(t)||hs(t),o){if(r.then(yn,yn),e)return r.then((s=>{kn(t,s,e)})).catch((e=>{Ue(e,t,0)}));t.asyncDep=r}else kn(t,r,e)}else Sn(t,e)}(t,e):void 0;e&&mn(!1)}(l,!1,a),l.asyncDep){if(n&&n.registerDep(l,z,a),!t.el){const t=l.subTree=nn(zi);_(null,t,e,s)}}else z(l,t,e,s,n,o,a)},U=(t,e,s)=>{const i=e.component=t.component;if(function(t,e,s){const{props:i,children:n,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(s&&l>=0))return!(!n&&!a||a&&a.$stable)||i!==o&&(i?!o||Fi(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?Fi(i,o,c):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const s=t[e];if(o[s]!==i[s]&&!Ii(c,s))return!0}}return!1}(t,e,s)){if(i.asyncDep&&!i.asyncResolved)return void B(i,e,s);i.next=e,i.update()}else e.el=t.el,i.vnode=e},z=(t,e,s,i,n,r,o)=>{const a=()=>{if(t.isMounted){let{next:e,bu:s,u:i,parent:l,vnode:c}=t;{const s=ki(t);if(s)return e&&(e.el=c.el,B(t,e,o)),void s.asyncDep.then((()=>{t.isUnmounted||a()}))}let h,u=e;xi(t,!1),e?(e.el=c.el,B(t,e,o)):e=c,s&&$(s),(h=e.props&&e.props.onVnodeBeforeUpdate)&&dn(h,l,e,c),xi(t,!0);const d=Di(t),p=t.subTree;t.subTree=d,v(p,d,f(p.el),Z(p),t,n,r),e.el=d.el,null===u&&function({vnode:t,parent:e},s){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i!==t)break;(t=e.vnode).el=s,e=e.parent}}(t,d.el),i&&vi(i,n),(h=e.props&&e.props.onVnodeUpdated)&&vi((()=>dn(h,l,e,c)),n)}else{let o;const{el:a,props:l}=e,{bm:c,m:h,parent:u,root:d,type:f}=t,p=ds(e);if(xi(t,!1),c&&$(c),!p&&(o=l&&l.onVnodeBeforeMount)&&dn(o,u,e),xi(t,!0),a&&rt){const e=()=>{t.subTree=Di(t),rt(a,t.subTree,t,n,null)};p&&f.__asyncHydrate?f.__asyncHydrate(a,t,e):e()}else{d.ce&&d.ce._injectChildStyle(f);const o=t.subTree=Di(t);v(null,o,s,i,t,n,r),e.el=o.el}if(h&&vi(h,n),!p&&(o=l&&l.onVnodeMounted)){const t=e;vi((()=>dn(o,u,t)),n)}(256&e.shapeFlag||u&&ds(u.vnode)&&256&u.vnode.shapeFlag)&&t.a&&vi(t.a,n),t.isMounted=!0,e=s=i=null}};t.scope.on();const l=t.effect=new at(a);t.scope.off();const c=t.update=l.run.bind(l),h=t.job=l.runIfDirty.bind(l);h.i=t,h.id=t.uid,l.scheduler=()=>Je(h),xi(t,!0),c()},B=(t,e,s)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,function(t,e,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=t,a=_e(n),[l]=t.propsOptions;let c=!1;if(!(i||o>0)||16&o){let i;ai(t,e,n,r)&&(c=!0);for(const r in a)e&&(p(e,r)||(i=j(r))!==r&&p(e,i))||(l?!s||void 0===s[r]&&void 0===s[i]||(n[r]=li(l,a,r,void 0,t,!0)):delete n[r]);if(r!==a)for(const t in r)e&&p(e,t)||(delete r[t],c=!0)}else if(8&o){const s=t.vnode.dynamicProps;for(let i=0;i<s.length;i++){let o=s[i];if(Ii(t.emitsOptions,o))continue;const h=e[o];if(l)if(p(r,o))h!==r[o]&&(r[o]=h,c=!0);else{const e=A(o);n[e]=li(l,a,e,h,t,!1)}else h!==r[o]&&(r[o]=h,c=!0)}}c&&It(t.attrs,"set","")}(t,e.props,i,s),((t,e,s)=>{const{vnode:i,slots:n}=t;let o=!0,a=r;if(32&i.shapeFlag){const t=e._;t?s&&1===t?o=!1:bi(n,e,s):(o=!e.$stable,gi(e,n)),a=e}else e&&(mi(t,e),a={default:1});if(o)for(const r in n)di(r)||null!=a[r]||delete n[r]})(t,e.children,s),wt(),Xe(t),kt()},H=(t,e,s,i,n,r,o,a,l=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,u=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void q(c,u,s,i,n,r,o,a,l);if(256&f)return void W(c,u,s,i,n,r,o,a,l)}8&p?(16&h&&Q(c,n,r),u!==c&&d(s,u)):16&h?16&p?q(c,u,s,i,n,r,o,a,l):Q(c,n,r,!0):(8&h&&d(s,""),16&p&&M(u,s,i,n,r,o,a,l))},W=(t,e,s,i,n,r,a,l,c)=>{e=e||o;const h=(t=t||o).length,u=e.length,d=Math.min(h,u);let f;for(f=0;f<d;f++){const i=e[f]=c?hn(e[f]):cn(e[f]);v(t[f],i,s,null,n,r,a,l,c)}h>u?Q(t,n,r,!0,!1,d):M(e,s,i,n,r,a,l,c,d)},q=(t,e,s,i,n,r,a,l,c)=>{let h=0;const u=e.length;let d=t.length-1,f=u-1;for(;h<=d&&h<=f;){const i=t[h],o=e[h]=c?hn(e[h]):cn(e[h]);if(!Zi(i,o))break;v(i,o,s,null,n,r,a,l,c),h++}for(;h<=d&&h<=f;){const i=t[d],o=e[f]=c?hn(e[f]):cn(e[f]);if(!Zi(i,o))break;v(i,o,s,null,n,r,a,l,c),d--,f--}if(h>d){if(h<=f){const t=f+1,o=t<u?e[t].el:i;for(;h<=f;)v(null,e[h]=c?hn(e[h]):cn(e[h]),s,o,n,r,a,l,c),h++}}else if(h>f)for(;h<=d;)G(t[h],n,r,!0),h++;else{const p=h,g=h,m=new Map;for(h=g;h<=f;h++){const t=e[h]=c?hn(e[h]):cn(e[h]);null!=t.key&&m.set(t.key,h)}let b,y=0;const _=f-g+1;let x=!1,w=0;const k=new Array(_);for(h=0;h<_;h++)k[h]=0;for(h=p;h<=d;h++){const i=t[h];if(y>=_){G(i,n,r,!0);continue}let o;if(null!=i.key)o=m.get(i.key);else for(b=g;b<=f;b++)if(0===k[b-g]&&Zi(i,e[b])){o=b;break}void 0===o?G(i,n,r,!0):(k[o-g]=h+1,o>=w?w=o:x=!0,v(i,e[o],s,null,n,r,a,l,c),y++)}const S=x?function(t){const e=t.slice(),s=[0];let i,n,r,o,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(n=s[s.length-1],t[n]<l){e[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<l?r=a+1:o=a;l<t[s[r]]&&(r>0&&(e[i]=s[r-1]),s[r]=i)}}r=s.length,o=s[r-1];for(;r-- >0;)s[r]=o,o=e[o];return s}(k):o;for(b=S.length-1,h=_-1;h>=0;h--){const t=g+h,o=e[t],d=t+1<u?e[t+1].el:i;0===k[h]?v(null,o,s,d,n,r,a,l,c):x&&(b<0||h!==S[b]?K(o,s,d,2):b--)}}},K=(t,e,i,n,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:h}=t;if(6&h)return void K(t.component.subTree,e,i,n);if(128&h)return void t.suspense.move(e,i,n);if(64&h)return void a.move(t,e,i,st);if(a===Ui){s(o,e,i);for(let t=0;t<c.length;t++)K(c[t],e,i,n);return void s(t.anchor,e,i)}if(a===Bi)return void w(t,e,i);if(2!==n&&1&h&&l)if(0===n)l.beforeEnter(o),s(o,e,i),vi((()=>l.enter(o)),r);else{const{leave:t,delayLeave:n,afterLeave:r}=l,a=()=>s(o,e,i),c=()=>{t(o,(()=>{a(),r&&r()}))};n?n(o,a,c):c()}else s(o,e,i)},G=(t,e,s,i=!1,n=!1)=>{const{type:r,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:h,patchFlag:u,dirs:d,cacheIndex:f}=t;if(-2===u&&(n=!1),null!=a&&us(a,null,s,t,!0),null!=f&&(e.renderCache[f]=void 0),256&h)return void e.ctx.deactivate(t);const p=1&h&&d,g=!ds(t);let m;if(g&&(m=o&&o.onVnodeBeforeUnmount)&&dn(m,e,t),6&h)X(t.component,s,i);else{if(128&h)return void t.suspense.unmount(s,i);p&&os(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,s,st,i):c&&!c.hasOnce&&(r!==Ui||u>0&&64&u)?Q(c,e,s,!1,!0):(r===Ui&&384&u||!n&&16&h)&&Q(l,e,s),i&&J(t)}(g&&(m=o&&o.onVnodeUnmounted)||p)&&vi((()=>{m&&dn(m,e,t),p&&os(t,null,e,"unmounted")}),s)},J=t=>{const{type:e,el:s,anchor:n,transition:r}=t;if(e===Ui)return void Y(s,n);if(e===Bi)return void S(t);const o=()=>{i(s),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,n=()=>e(s,o);i?i(t.el,o,n):n()}else o()},Y=(t,e)=>{let s;for(;t!==e;)s=g(t),i(t),t=s;i(e)},X=(t,e,s)=>{const{bum:i,scope:n,job:r,subTree:o,um:a,m:l,a:c}=t;Si(l),Si(c),i&&$(i),n.stop(),r&&(r.flags|=8,G(o,t,e,s)),a&&vi(a,e),vi((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Q=(t,e,s,i=!1,n=!1,r=0)=>{for(let o=r;o<t.length;o++)G(t[o],e,s,i,n)},Z=t=>{if(6&t.shapeFlag)return Z(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=g(t.anchor||t.el),s=e&&e[as];return s?g(s):e};let tt=!1;const et=(t,e,s)=>{null==t?e._vnode&&G(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,s),e._vnode=t,tt||(tt=!0,Xe(),Qe(),tt=!1)},st={p:v,um:G,m:K,r:J,mt:N,mc:M,pc:H,pbc:R,n:Z,o:t};let it,rt;e&&([it,rt]=e(st));return{render:et,hydrate:it,createApp:ti(et,it)}}(t)}function _i({type:t,props:e},s){return"svg"===s&&"foreignObject"===t||"mathml"===s&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function xi({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wi(t,e,s=!1){const i=t.children,n=e.children;if(g(i)&&g(n))for(let r=0;r<i.length;r++){const t=i[r];let e=n[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=n[r]=hn(n[r]),e.el=t.el),s||-2===e.patchFlag||wi(t,e)),e.type===Vi&&(e.el=t.el)}}function ki(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ki(e)}function Si(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ti=Symbol.for("v-scx"),Oi=()=>ii(Ti);function Pi(t,e,s){return Ci(t,e,s)}function Ci(t,e,s=r){const{immediate:i,deep:n,flush:o,once:l}=s,c=u({},s),h=e&&i||!e&&"post"!==o;let d;if(wn)if("sync"===o){const t=Oi();d=t.__watcherHandles||(t.__watcherHandles=[])}else if(!h){const t=()=>{};return t.stop=a,t.resume=a,t.pause=a,t}const f=bn;c.call=(t,e,s)=>Ne(t,f,e,s);let p=!1;"post"===o?c.scheduler=t=>{vi(t,f&&f.suspense)}:"sync"!==o&&(p=!0,c.scheduler=(t,e)=>{e?t():Je(t)}),c.augmentJob=t=>{e&&(t.flags|=4),p&&(t.flags|=2,f&&(t.id=f.uid,t.i=f))};const g=Le(t,e,c);return wn&&(d?d.push(g):h&&g()),g}function Mi(t,e,s){const i=this.proxy,n=_(t)?t.includes(".")?Ei(i,t):()=>i[t]:t.bind(i,i);let r;y(e)?r=e:(r=e.handler,s=e);const o=vn(this),a=Ci(n,r.bind(i),s);return o(),a}function Ei(t,e){const s=e.split(".");return()=>{let e=t;for(let t=0;t<s.length&&e;t++)e=e[s[t]];return e}}const Ai=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${A(e)}Modifiers`]||t[`${j(e)}Modifiers`];function Ri(t,e,...s){if(t.isUnmounted)return;const i=t.vnode.props||r;let n=s;const o=e.startsWith("update:"),a=o&&Ai(i,e.slice(7));let l;a&&(a.trim&&(n=s.map((t=>_(t)?t.trim():t))),a.number&&(n=s.map(N)));let c=i[l=D(e)]||i[l=D(A(e))];!c&&o&&(c=i[l=D(j(e))]),c&&Ne(c,t,6,n);const h=i[l+"Once"];if(h){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Ne(h,t,6,n)}}function ji(t,e,s=!1){const i=e.emitsCache,n=i.get(t);if(void 0!==n)return n;const r=t.emits;let o={},a=!1;if(!y(t)){const i=t=>{const s=ji(t,e,!0);s&&(a=!0,u(o,s))};!s&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return r||a?(g(r)?r.forEach((t=>o[t]=null)):u(o,r),w(t)&&i.set(t,o),o):(w(t)&&i.set(t,null),null)}function Ii(t,e){return!(!t||!c(e))&&(e=e.slice(2).replace(/Once$/,""),p(t,e[0].toLowerCase()+e.slice(1))||p(t,j(e))||p(t,e))}function Di(t){const{type:e,vnode:s,proxy:i,withProxy:n,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=t,b=is(t);let v,y;try{if(4&s.shapeFlag){const t=n||i,e=t;v=cn(c.call(e,t,u,d,p,f,g)),y=a}else{const t=e;0,v=cn(t.length>1?t(d,{attrs:a,slots:o,emit:l}):t(d,null)),y=e.props?a:Li(a)}}catch(x){Hi.length=0,Ue(x,t,1),v=nn(zi)}let _=v;if(y&&!1!==m){const t=Object.keys(y),{shapeFlag:e}=_;t.length&&7&e&&(r&&t.some(h)&&(y=$i(y,r)),_=rn(_,y,!1,!0))}return s.dirs&&(_=rn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&ls(_,s.transition),v=_,is(b),v}const Li=t=>{let e;for(const s in t)("class"===s||"style"===s||c(s))&&((e||(e={}))[s]=t[s]);return e},$i=(t,e)=>{const s={};for(const i in t)h(i)&&i.slice(9)in e||(s[i]=t[i]);return s};function Fi(t,e,s){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==t[r]&&!Ii(s,r))return!0}return!1}const Ni=t=>t.__isSuspense;const Ui=Symbol.for("v-fgt"),Vi=Symbol.for("v-txt"),zi=Symbol.for("v-cmt"),Bi=Symbol.for("v-stc"),Hi=[];let Wi=null;function qi(t=!1){Hi.push(Wi=t?null:[])}let Ki=1;function Gi(t,e=!1){Ki+=t,t<0&&Wi&&e&&(Wi.hasOnce=!0)}function Ji(t){return t.dynamicChildren=Ki>0?Wi||o:null,Hi.pop(),Wi=Hi[Hi.length-1]||null,Ki>0&&Wi&&Wi.push(t),t}function Yi(t,e,s,i,n,r){return Ji(sn(t,e,s,i,n,r,!0))}function Xi(t,e,s,i,n){return Ji(nn(t,e,s,i,n,!0))}function Qi(t){return!!t&&!0===t.__v_isVNode}function Zi(t,e){return t.type===e.type&&t.key===e.key}const tn=({key:t})=>null!=t?t:null,en=({ref:t,ref_key:e,ref_for:s})=>("number"==typeof t&&(t=""+t),null!=t?_(t)||Se(t)||y(t)?{i:es,r:t,k:e,f:!!s}:t:null);function sn(t,e=null,s=null,i=0,n=null,r=(t===Ui?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tn(e),ref:e&&en(e),scopeId:ss,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:es};return a?(un(l,s),128&r&&t.normalize(l)):s&&(l.shapeFlag|=_(s)?8:16),Ki>0&&!o&&Wi&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&Wi.push(l),l}const nn=function(t,e=null,s=null,i=0,n=null,r=!1){t&&t!==Rs||(t=zi);if(Qi(t)){const i=rn(t,e,!0);return s&&un(i,s),Ki>0&&!r&&Wi&&(6&i.shapeFlag?Wi[Wi.indexOf(t)]=i:Wi.push(i)),i.patchFlag=-2,i}o=t,y(o)&&"__vccOpts"in o&&(t=t.__vccOpts);var o;if(e){e=function(t){return t?ye(t)||oi(t)?u({},t):t:null}(e);let{class:t,style:s}=e;t&&!_(t)&&(e.class=K(t)),w(s)&&(ye(s)&&!g(s)&&(s=u({},s)),e.style=z(s))}const a=_(t)?1:Ni(t)?128:(t=>t.__isTeleport)(t)?64:w(t)?4:y(t)?2:0;return sn(t,e,s,i,n,a,r,!0)};function rn(t,e,s=!1,i=!1){const{props:n,ref:r,patchFlag:o,children:a,transition:l}=t,h=e?function(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=K([e.class,i.class]));else if("style"===t)e.style=z([e.style,i.style]);else if(c(t)){const s=e[t],n=i[t];!n||s===n||g(s)&&s.includes(n)||(e[t]=s?[].concat(s,n):n)}else""!==t&&(e[t]=i[t])}return e}(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&tn(h),ref:e&&e.ref?s&&r?g(r)?r.concat(en(e)):[r,en(e)]:en(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ui?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rn(t.ssContent),ssFallback:t.ssFallback&&rn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ls(u,l.clone(u)),u}function on(t=" ",e=0){return nn(Vi,null,t,e)}function an(t,e){const s=nn(Bi,null,t);return s.staticCount=e,s}function ln(t="",e=!1){return e?(qi(),Xi(zi,null,t)):nn(zi,null,t)}function cn(t){return null==t||"boolean"==typeof t?nn(zi):g(t)?nn(Ui,null,t.slice()):Qi(t)?hn(t):nn(Vi,null,String(t))}function hn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:rn(t)}function un(t,e){let s=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(g(e))s=16;else if("object"==typeof e){if(65&i){const s=e.default;return void(s&&(s._c&&(s._d=!1),un(t,s()),s._c&&(s._d=!0)))}{s=32;const i=e._;i||oi(e)?3===i&&es&&(1===es.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=es}}else y(e)?(e={default:e,_ctx:es},s=32):(e=String(e),64&i?(s=16,e=[on(e)]):s=8);t.children=e,t.shapeFlag|=s}function dn(t,e,s,i=null){Ne(t,e,7,[s,i])}const fn=Qs();let pn=0;let gn,mn,bn=null;{const t=V(),e=(e,s)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(s),t=>{i.length>1?i.forEach((e=>e(t))):i[0](t)}};gn=e("__VUE_INSTANCE_SETTERS__",(t=>bn=t)),mn=e("__VUE_SSR_SETTERS__",(t=>wn=t))}const vn=t=>{const e=bn;return gn(t),t.scope.on(),()=>{t.scope.off(),gn(e)}},yn=()=>{bn&&bn.scope.off(),gn(null)};function _n(t){return 4&t.vnode.shapeFlag}let xn,wn=!1;function kn(t,e,s){y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:w(e)&&(t.setupState=Ae(e)),Sn(t,s)}function Sn(t,e,s){const i=t.type;if(!t.render){if(!e&&xn&&!i.render){const e=i.template||Hs(t).template;if(e){const{isCustomElement:s,compilerOptions:n}=t.appContext.config,{delimiters:r,compilerOptions:o}=i,a=u(u({isCustomElement:s,delimiters:r},n),o);i.render=xn(e,a)}}t.render=i.render||a}{const e=vn(t);wt();try{Vs(t)}finally{kt(),e()}}}const Tn={get:(t,e)=>(jt(t,0,""),t[e])};function On(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ae(xe(t.exposed)),{get:(e,s)=>s in e?e[s]:s in Ls?Ls[s](t):void 0,has:(t,e)=>e in t||e in Ls})):t.proxy}function Pn(t,e=!0){return y(t)?t.displayName||t.name:t.name||e&&t.__name}const Cn=(t,e)=>{const s=function(t,e,s=!1){let i,n;return y(t)?i=t:(i=t.get,n=t.set),new Re(i,n,s)}(t,0,wn);return s};function Mn(t,e,s){const i=arguments.length;return 2===i?w(e)&&!g(e)?Qi(e)?nn(t,null,[e]):nn(t,e):nn(t,null,e):(i>3?s=Array.prototype.slice.call(arguments,2):3===i&&Qi(s)&&(s=[s]),nn(t,e,s))}const En="3.5.13";
/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;const Rn="undefined"!=typeof window&&window.trustedTypes;if(Rn)try{An=Rn.createPolicy("vue",{createHTML:t=>t})}catch(Ay){}const jn=An?t=>An.createHTML(t):t=>t,In="undefined"!=typeof document?document:null,Dn=In&&In.createElement("template"),Ln={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,i)=>{const n="svg"===e?In.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?In.createElementNS("http://www.w3.org/1998/Math/MathML",t):s?In.createElement(t,{is:s}):In.createElement(t);return"select"===t&&i&&null!=i.multiple&&n.setAttribute("multiple",i.multiple),n},createText:t=>In.createTextNode(t),createComment:t=>In.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>In.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,i,n,r){const o=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),n!==r&&(n=n.nextSibling););else{Dn.innerHTML=jn("svg"===i?`<svg>${t}</svg>`:"mathml"===i?`<math>${t}</math>`:t);const n=Dn.content;if("svg"===i||"mathml"===i){const t=n.firstChild;for(;t.firstChild;)n.appendChild(t.firstChild);n.removeChild(t)}e.insertBefore(n,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},$n=Symbol("_vtc");const Fn=Symbol("_vod"),Nn=Symbol("_vsh"),Un=Symbol(""),Vn=/(^|;)\s*display\s*:/;const zn=/\s*!important$/;function Bn(t,e,s){if(g(s))s.forEach((s=>Bn(t,e,s)));else if(null==s&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const i=function(t,e){const s=Wn[e];if(s)return s;let i=A(e);if("filter"!==i&&i in t)return Wn[e]=i;i=I(i);for(let n=0;n<Hn.length;n++){const s=Hn[n]+i;if(s in t)return Wn[e]=s}return e}(t,e);zn.test(s)?t.setProperty(j(i),s.replace(zn,""),"important"):t[i]=s}}const Hn=["Webkit","Moz","ms"],Wn={};const qn="http://www.w3.org/1999/xlink";function Kn(t,e,s,i,n,r=G(e)){i&&e.startsWith("xlink:")?null==s?t.removeAttributeNS(qn,e.slice(6,e.length)):t.setAttributeNS(qn,e,s):null==s||r&&!J(s)?t.removeAttribute(e):t.setAttribute(e,r?"":x(s)?String(s):s)}function Gn(t,e,s,i,n){if("innerHTML"===e||"textContent"===e)return void(null!=s&&(t[e]="innerHTML"===e?jn(s):s));const r=t.tagName;if("value"===e&&"PROGRESS"!==r&&!r.includes("-")){const i="OPTION"===r?t.getAttribute("value")||"":t.value,n=null==s?"checkbox"===t.type?"on":"":String(s);return i===n&&"_value"in t||(t.value=n),null==s&&t.removeAttribute(e),void(t._value=s)}let o=!1;if(""===s||null==s){const i=typeof t[e];"boolean"===i?s=J(s):null==s&&"string"===i?(s="",o=!0):"number"===i&&(s=0,o=!0)}try{t[e]=s}catch(Ay){}o&&t.removeAttribute(n||e)}function Jn(t,e,s,i){t.addEventListener(e,s,i)}const Yn=Symbol("_vei");function Xn(t,e,s,i,n=null){const r=t[Yn]||(t[Yn]={}),o=r[e];if(i&&o)o.value=i;else{const[s,a]=function(t){let e;if(Qn.test(t)){let s;for(e={};s=t.match(Qn);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}const s=":"===t[2]?t.slice(3):j(t.slice(2));return[s,e]}(e);if(i){const o=r[e]=function(t,e){const s=t=>{if(t._vts){if(t._vts<=s.attached)return}else t._vts=Date.now();Ne(function(t,e){if(g(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,s.value),e,5,[t])};return s.value=t,s.attached=er(),s}(i,n);Jn(t,s,o,a)}else o&&(!function(t,e,s,i){t.removeEventListener(e,s,i)}(t,s,o,a),r[e]=void 0)}}const Qn=/(?:Once|Passive|Capture)$/;let Zn=0;const tr=Promise.resolve(),er=()=>Zn||(tr.then((()=>Zn=0)),Zn=Date.now());const sr=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;const ir=t=>{const e=t.props["onUpdate:modelValue"]||!1;return g(e)?t=>$(e,t):e};function nr(t){t.target.composing=!0}function rr(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const or=Symbol("_assign"),ar={created(t,{modifiers:{lazy:e,trim:s,number:i}},n){t[or]=ir(n);const r=i||n.props&&"number"===n.props.type;Jn(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;s&&(i=i.trim()),r&&(i=N(i)),t[or](i)})),s&&Jn(t,"change",(()=>{t.value=t.value.trim()})),e||(Jn(t,"compositionstart",nr),Jn(t,"compositionend",rr),Jn(t,"change",rr))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:i,trim:n,number:r}},o){if(t[or]=ir(o),t.composing)return;const a=null==e?"":e;if((!r&&"number"!==t.type||/^0\d/.test(t.value)?t.value:N(t.value))!==a){if(document.activeElement===t&&"range"!==t.type){if(i&&e===s)return;if(n&&t.value.trim()===a)return}t.value=a}}},lr={deep:!0,created(t,{value:e,modifiers:{number:s}},i){const n=b(e);Jn(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>s?N(hr(t)):hr(t)));t[or](t.multiple?n?new Set(e):e:e[0]),t._assigning=!0,Ge((()=>{t._assigning=!1}))})),t[or]=ir(i)},mounted(t,{value:e}){cr(t,e)},beforeUpdate(t,e,s){t[or]=ir(s)},updated(t,{value:e}){t._assigning||cr(t,e)}};function cr(t,e){const s=t.multiple,i=g(e);if(!s||i||b(e)){for(let n=0,r=t.options.length;n<r;n++){const r=t.options[n],o=hr(r);if(s)if(i){const t=typeof o;r.selected="string"===t||"number"===t?e.some((t=>String(t)===String(o))):X(e,o)>-1}else r.selected=e.has(o);else if(Y(hr(r),e))return void(t.selectedIndex!==n&&(t.selectedIndex=n))}s||-1===t.selectedIndex||(t.selectedIndex=-1)}}function hr(t){return"_value"in t?t._value:t.value}const ur=["ctrl","shift","alt","meta"],dr={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ur.some((s=>t[`${s}Key`]&&!e.includes(s)))},fr=(t,e)=>{const s=t._withMods||(t._withMods={}),i=e.join(".");return s[i]||(s[i]=(s,...i)=>{for(let t=0;t<e.length;t++){const i=dr[e[t]];if(i&&i(s,e))return}return t(s,...i)})},pr=u({patchProp:(t,e,s,i,n,r)=>{const o="svg"===n;"class"===e?function(t,e,s){const i=t[$n];i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}(t,i,o):"style"===e?function(t,e,s){const i=t.style,n=_(s);let r=!1;if(s&&!n){if(e)if(_(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==s[e]&&Bn(i,e,"")}else for(const t in e)null==s[t]&&Bn(i,t,"");for(const t in s)"display"===t&&(r=!0),Bn(i,t,s[t])}else if(n){if(e!==s){const t=i[Un];t&&(s+=";"+t),i.cssText=s,r=Vn.test(s)}}else e&&t.removeAttribute("style");Fn in t&&(t[Fn]=r?i.display:"",t[Nn]&&(i.display="none"))}(t,s,i):c(e)?h(e)||Xn(t,e,0,i,r):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,s,i){if(i)return"innerHTML"===e||"textContent"===e||!!(e in t&&sr(e)&&y(s));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}if(sr(e)&&_(s))return!1;return e in t}(t,e,i,o))?(Gn(t,e,i),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||Kn(t,e,i,o,0,"value"!==e)):!t._isVueCE||!/[A-Z]/.test(e)&&_(i)?("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),Kn(t,e,i,o)):Gn(t,A(e),i,0,e)}},Ln);let gr;function mr(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}const br="function"==typeof Proxy;let vr,yr;function _r(){return void 0!==vr||("undefined"!=typeof window&&window.performance?(vr=!0,yr=window.performance):"undefined"!=typeof globalThis&&(null===(t=globalThis.perf_hooks)||void 0===t?void 0:t.performance)?(vr=!0,yr=globalThis.perf_hooks.performance):vr=!1),vr?yr.now():Date.now();var t}class xr{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const s={};if(t.settings)for(const r in t.settings){const e=t.settings[r];s[r]=e.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let n=Object.assign({},s);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(n,e)}catch(Ay){}this.fallbacks={getSettings:()=>n,setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(Ay){}n=t},now:()=>_r()},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((s=>{this.targetQueue.push({method:e,args:t,resolve:s})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function wr(t,e){const s=t,i=mr(),n=mr().__VUE_DEVTOOLS_GLOBAL_HOOK__,r=br&&s.enableEarlyProxy;if(!n||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&r){const t=r?new xr(s,n):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else n.emit("devtools-plugin:setup",t,e)}
/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const kr="undefined"!=typeof document;function Sr(t){return"object"==typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}const Tr=Object.assign;function Or(t,e){const s={};for(const i in e){const n=e[i];s[i]=Cr(n)?n.map(t):t(n)}return s}const Pr=()=>{},Cr=Array.isArray,Mr=/#/g,Er=/&/g,Ar=/\//g,Rr=/=/g,jr=/\?/g,Ir=/\+/g,Dr=/%5B/g,Lr=/%5D/g,$r=/%5E/g,Fr=/%60/g,Nr=/%7B/g,Ur=/%7C/g,Vr=/%7D/g,zr=/%20/g;function Br(t){return encodeURI(""+t).replace(Ur,"|").replace(Dr,"[").replace(Lr,"]")}function Hr(t){return Br(t).replace(Ir,"%2B").replace(zr,"+").replace(Mr,"%23").replace(Er,"%26").replace(Fr,"`").replace(Nr,"{").replace(Vr,"}").replace($r,"^")}function Wr(t){return null==t?"":function(t){return Br(t).replace(Mr,"%23").replace(jr,"%3F")}(t).replace(Ar,"%2F")}function qr(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const Kr=/\/$/;function Gr(t,e,s="/"){let i,n={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),n=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),i=t.split("/"),n=i[i.length-1];".."!==n&&"."!==n||i.push("");let r,o,a=s.length-1;for(r=0;r<i.length;r++)if(o=i[r],"."!==o){if(".."!==o)break;a>1&&a--}return s.slice(0,a).join("/")+"/"+i.slice(r).join("/")}(null!=i?i:e,s),{fullPath:i+(r&&"?")+r+o,path:i,query:n,hash:qr(o)}}function Jr(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function Yr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Xr(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Qr(t[s],e[s]))return!1;return!0}function Qr(t,e){return Cr(t)?Zr(t,e):Cr(e)?Zr(e,t):t===e}function Zr(t,e){return Cr(e)?t.length===e.length&&t.every(((t,s)=>t===e[s])):1===t.length&&t[0]===e}const to={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var eo,so,io,no;function ro(t){if(!t)if(kr){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(Kr,"")}(so=eo||(eo={})).pop="pop",so.push="push",(no=io||(io={})).back="back",no.forward="forward",no.unknown="";const oo=/^[^#]+#/;function ao(t,e){return t.replace(oo,"#")+e}const lo=()=>({left:window.scrollX,top:window.scrollY});function co(t){let e;if("el"in t){const s=t.el,i="string"==typeof s&&s.startsWith("#"),n="string"==typeof s?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=function(t,e){const s=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-s.left-(e.left||0),top:i.top-s.top-(e.top||0)}}(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function ho(t,e){return(history.state?history.state.position-e:-1)+t}const uo=new Map;function fo(t,e){const{pathname:s,search:i,hash:n}=e,r=t.indexOf("#");if(r>-1){let e=n.includes(t.slice(r))?t.slice(r).length:1,s=n.slice(e);return"/"!==s[0]&&(s="/"+s),Jr(s,"")}return Jr(s,t)+i+n}function po(t,e,s,i=!1,n=!1){return{back:t,current:e,forward:s,replaced:i,position:window.history.length,scroll:n?lo():null}}function go(t){const{history:e,location:s}=window,i={value:fo(t,s)},n={value:e.state};function r(i,r,o){const a=t.indexOf("#"),l=a>-1?(s.host&&document.querySelector("base")?t:t.slice(a))+i:location.protocol+"//"+location.host+t+i;try{e[o?"replaceState":"pushState"](r,"",l),n.value=r}catch(c){console.error(c),s[o?"replace":"assign"](l)}}return n.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:n,push:function(t,s){const o=Tr({},n.value,e.state,{forward:t,scroll:lo()});r(o.current,o,!0),r(t,Tr({},po(i.value,t,null),{position:o.position+1},s),!1),i.value=t},replace:function(t,s){r(t,Tr({},e.state,po(n.value.back,t,n.value.forward,!0),s,{position:n.value.position}),!0),i.value=t}}}function mo(t){return"string"==typeof t||"symbol"==typeof t}const bo=Symbol("");var vo,yo;function _o(t,e){return Tr(new Error,{type:t,[bo]:!0},e)}function xo(t,e){return t instanceof Error&&bo in t&&(null==e||!!(t.type&e))}(yo=vo||(vo={}))[yo.aborted=4]="aborted",yo[yo.cancelled=8]="cancelled",yo[yo.duplicated=16]="duplicated";const wo="[^/]+?",ko={sensitive:!1,strict:!1,start:!0,end:!0},So=/[.+*?^${}()[\]/\\]/g;function To(t,e){let s=0;for(;s<t.length&&s<e.length;){const i=e[s]-t[s];if(i)return i;s++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Oo(t,e){let s=0;const i=t.score,n=e.score;for(;s<i.length&&s<n.length;){const t=To(i[s],n[s]);if(t)return t;s++}if(1===Math.abs(n.length-i.length)){if(Po(i))return 1;if(Po(n))return-1}return n.length-i.length}function Po(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Co={type:0,value:""},Mo=/[a-zA-Z0-9_]/;function Eo(t,e,s){const i=function(t,e){const s=Tr({},ko,e),i=[];let n=s.start?"^":"";const r=[];for(const l of t){const t=l.length?[]:[90];s.strict&&!l.length&&(n+="/");for(let e=0;e<l.length;e++){const i=l[e];let o=40+(s.sensitive?.25:0);if(0===i.type)e||(n+="/"),n+=i.value.replace(So,"\\$&"),o+=40;else if(1===i.type){const{value:t,repeatable:s,optional:c,regexp:h}=i;r.push({name:t,repeatable:s,optional:c});const u=h||wo;if(u!==wo){o+=10;try{new RegExp(`(${u})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+a.message)}}let d=s?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(d=c&&l.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),n+=d,o+=20,c&&(o+=-8),s&&(o+=-20),".*"===u&&(o+=-50)}t.push(o)}i.push(t)}if(s.strict&&s.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");return{re:o,score:i,keys:r,parse:function(t){const e=t.match(o),s={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",n=r[i-1];s[n.name]=t&&n.repeatable?t.split("/"):t}return s},stringify:function(e){let s="",i=!1;for(const n of t){i&&s.endsWith("/")||(s+="/"),i=!1;for(const t of n)if(0===t.type)s+=t.value;else if(1===t.type){const{value:r,repeatable:o,optional:a}=t,l=r in e?e[r]:"";if(Cr(l)&&!o)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const c=Cr(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${r}"`);n.length<2&&(s.endsWith("/")?s=s.slice(0,-1):i=!0)}s+=c}}return s||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[Co]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${s})/"${c}": ${t}`)}let s=0,i=s;const n=[];let r;function o(){r&&n.push(r),r=[]}let a,l=0,c="",h="";function u(){c&&(0===s?r.push({type:0,value:c}):1===s||2===s||3===s?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:h,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===s)switch(s){case 0:"/"===a?(c&&u(),o()):":"===a?(u(),s=1):d();break;case 4:d(),s=i;break;case 1:"("===a?s=2:Mo.test(a)?d():(u(),s=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==h[h.length-1]?h=h.slice(0,-1)+a:s=3:h+=a;break;case 3:u(),s=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,h="";break;default:e("Unknown state")}else i=s,s=4;return 2===s&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),n}(t.path),s),n=Tr(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Ao(t,e){const s=[],i=new Map;function n(t,s,i){const a=!i,l=jo(t);l.aliasOf=i&&i.record;const c=$o(e,t),h=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)h.push(jo(Tr({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l})))}let u,d;for(const e of h){const{path:h}=e;if(s&&"/"!==h[0]){const t=s.record.path,i="/"===t[t.length-1]?"":"/";e.path=s.record.path+(h&&i+h)}if(u=Eo(e,s,c),i?i.alias.push(u):(d=d||u,d!==u&&d.alias.push(u),a&&t.name&&!Do(u)&&r(t.name)),Fo(u)&&o(u),l.children){const t=l.children;for(let e=0;e<t.length;e++)n(t[e],u,i&&i.children[e])}i=i||u}return d?()=>{r(d)}:Pr}function r(t){if(mo(t)){const e=i.get(t);e&&(i.delete(t),s.splice(s.indexOf(e),1),e.children.forEach(r),e.alias.forEach(r))}else{const e=s.indexOf(t);e>-1&&(s.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(r),t.alias.forEach(r))}}function o(t){const e=function(t,e){let s=0,i=e.length;for(;s!==i;){const n=s+i>>1;Oo(t,e[n])<0?i=n:s=n+1}const n=function(t){let e=t;for(;e=e.parent;)if(Fo(e)&&0===Oo(t,e))return e;return}(t);n&&(i=e.lastIndexOf(n,i-1));return i}(t,s);s.splice(e,0,t),t.record.name&&!Do(t)&&i.set(t.record.name,t)}return e=$o({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>n(t))),{addRoute:n,resolve:function(t,e){let n,r,o,a={};if("name"in t&&t.name){if(n=i.get(t.name),!n)throw _o(1,{location:t});o=n.record.name,a=Tr(Ro(e.params,n.keys.filter((t=>!t.optional)).concat(n.parent?n.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&Ro(t.params,n.keys.map((t=>t.name)))),r=n.stringify(a)}else if(null!=t.path)r=t.path,n=s.find((t=>t.re.test(r))),n&&(a=n.parse(r),o=n.record.name);else{if(n=e.name?i.get(e.name):s.find((t=>t.re.test(e.path))),!n)throw _o(1,{location:t,currentLocation:e});o=n.record.name,a=Tr({},e.params,t.params),r=n.stringify(a)}const l=[];let c=n;for(;c;)l.unshift(c.record),c=c.parent;return{name:o,path:r,params:a,matched:l,meta:Lo(l)}},removeRoute:r,clearRoutes:function(){s.length=0,i.clear()},getRoutes:function(){return s},getRecordMatcher:function(t){return i.get(t)}}}function Ro(t,e){const s={};for(const i of e)i in t&&(s[i]=t[i]);return s}function jo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Io(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Io(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const i in t.components)e[i]="object"==typeof s?s[i]:s;return e}function Do(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Lo(t){return t.reduce(((t,e)=>Tr(t,e.meta)),{})}function $o(t,e){const s={};for(const i in t)s[i]=i in e?e[i]:t[i];return s}function Fo({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function No(t){const e={};if(""===t||"?"===t)return e;const s=("?"===t[0]?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const t=s[i].replace(Ir," "),n=t.indexOf("="),r=qr(n<0?t:t.slice(0,n)),o=n<0?null:qr(t.slice(n+1));if(r in e){let t=e[r];Cr(t)||(t=e[r]=[t]),t.push(o)}else e[r]=o}return e}function Uo(t){let e="";for(let s in t){const i=t[s];if(s=Hr(s).replace(Rr,"%3D"),null==i){void 0!==i&&(e+=(e.length?"&":"")+s);continue}(Cr(i)?i.map((t=>t&&Hr(t))):[i&&Hr(i)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+s,null!=t&&(e+="="+t))}))}return e}function Vo(t){const e={};for(const s in t){const i=t[s];void 0!==i&&(e[s]=Cr(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const zo=Symbol(""),Bo=Symbol(""),Ho=Symbol(""),Wo=Symbol(""),qo=Symbol("");function Ko(){let t=[];return{add:function(e){return t.push(e),()=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function Go(t,e,s,i,n,r=t=>t()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise(((a,l)=>{const c=t=>{var r;!1===t?l(_o(4,{from:s,to:e})):t instanceof Error?l(t):"string"==typeof(r=t)||r&&"object"==typeof r?l(_o(2,{from:e,to:t})):(o&&i.enterCallbacks[n]===o&&"function"==typeof t&&o.push(t),a())},h=r((()=>t.call(i&&i.instances[n],e,s,c)));let u=Promise.resolve(h);t.length<3&&(u=u.then(c)),u.catch((t=>l(t)))}))}function Jo(t,e,s,i,n=t=>t()){const r=[];for(const o of t)for(const t in o.components){let a=o.components[t];if("beforeRouteEnter"===e||o.instances[t])if(Sr(a)){const l=(a.__vccOpts||a)[e];l&&r.push(Go(l,s,i,o,t,n))}else{let l=a();r.push((()=>l.then((r=>{if(!r)throw new Error(`Couldn't resolve component "${t}" at "${o.path}"`);const a=(l=r).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&Sr(l.default)?r.default:r;var l;o.mods[t]=r,o.components[t]=a;const c=(a.__vccOpts||a)[e];return c&&Go(c,s,i,o,t,n)()}))))}}return r}function Yo(t){const e=ii(Ho),s=ii(Wo),i=Cn((()=>{const s=Me(t.to);return e.resolve(s)})),n=Cn((()=>{const{matched:t}=i.value,{length:e}=t,n=t[e-1],r=s.matched;if(!n||!r.length)return-1;const o=r.findIndex(Yr.bind(null,n));if(o>-1)return o;const a=Zo(t[e-2]);return e>1&&Zo(n)===a&&r[r.length-1].path!==a?r.findIndex(Yr.bind(null,t[e-2])):o})),r=Cn((()=>n.value>-1&&function(t,e){for(const s in e){const i=e[s],n=t[s];if("string"==typeof i){if(i!==n)return!1}else if(!Cr(n)||n.length!==i.length||i.some(((t,e)=>t!==n[e])))return!1}return!0}(s.params,i.value.params))),o=Cn((()=>n.value>-1&&n.value===s.matched.length-1&&Xr(s.params,i.value.params)));return{route:i,href:Cn((()=>i.value.href)),isActive:r,isExactActive:o,navigate:function(s={}){if(function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(s)){const s=e[Me(t.replace)?"replace":"push"](Me(t.to)).catch(Pr);return t.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>s)),s}return Promise.resolve()}}}const Xo=cs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Yo,setup(t,{slots:e}){const s=de(Yo(t)),{options:i}=ii(Ho),n=Cn((()=>({[ta(t.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[ta(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive})));return()=>{const i=e.default&&(1===(r=e.default(s)).length?r[0]:r);var r;return t.custom?i:Mn("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Qo=Xo;function Zo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ta=(t,e,s)=>null!=t?t:null!=e?e:s;function ea(t,e){if(!t)return null;const s=t(e);return 1===s.length?s[0]:s}const sa=cs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const i=ii(qo),n=Cn((()=>t.route||i.value)),r=ii(Bo,0),o=Cn((()=>{let t=Me(r);const{matched:e}=n.value;let s;for(;(s=e[t])&&!s.components;)t++;return t})),a=Cn((()=>n.value.matched[o.value]));si(Bo,Cn((()=>o.value+1))),si(zo,a),si(qo,n);const l=Te();return Pi((()=>[l.value,a.value,t.name]),(([t,e,s],[i,n,r])=>{e&&(e.instances[s]=t,n&&n!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=n.leaveGuards),e.updateGuards.size||(e.updateGuards=n.updateGuards))),!t||!e||n&&Yr(e,n)&&i||(e.enterCallbacks[s]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=n.value,r=t.name,o=a.value,c=o&&o.components[r];if(!c)return ea(s.default,{Component:c,route:i});const h=o.props[r],u=h?!0===h?i.params:"function"==typeof h?h(i):h:null,d=Mn(c,Tr({},u,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[r]=null)},ref:l}));return ea(s.default,{Component:d,route:i})||d}}});function ia(){return ii(Ho)}const na=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s},ra={class:"app-container"},oa={key:0,class:"app-header"},aa={class:"logo"},la=["src"],ca={class:"main-nav"},ha={key:0,class:"sidebar"},ua={class:"nav-links"};const da=na({setup(){const t=ia(),e=Te(!1),s=Te(""),i=Te(""),n=Cn((()=>"/login"===t.currentRoute.value.path)),r=Te(!1);xs((()=>{const n="true"===localStorage.getItem("isAuthenticated");e.value=n,n?(()=>{try{s.value=localStorage.getItem("churchName")||"",i.value=localStorage.getItem("churchLogo")||"",r.value="true"===localStorage.getItem("isAdmin")}catch(t){console.error("Erro ao carregar dados da igreja:",t)}})():t.push("/login")})),window.addEventListener("storage",(t=>{"churchName"===t.key&&(s.value=t.newValue||""),"churchLogo"===t.key&&(i.value=t.newValue||"")})),Pi(s,(t=>{document.title=t?`${t} - Sistema de Gestão`:"Igreja Management"}));return{isAuthenticated:e,handleLogout:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("isAdmin"),e.value=!1,t.push("/login")},churchName:s,churchLogo:i,isLoginPage:n,isAdmin:r}}},[["render",function(t,e,s,i,n,r){const o=As("router-link"),a=As("router-view");return qi(),Yi("div",ra,[i.isLoginPage?ln("",!0):(qi(),Yi("header",oa,[sn("div",aa,[i.churchLogo?(qi(),Yi("img",{key:0,src:i.churchLogo,alt:"Logo da Igreja",class:"church-logo"},null,8,la)):ln("",!0),sn("h1",null,Z(i.churchName||"Igreja Management"),1)]),sn("nav",ca,[nn(o,{to:"/",class:"nav-item"},{default:ns((()=>e[1]||(e[1]=[sn("i",{class:"fas fa-chart-line"},null,-1),sn("span",null,"Painel",-1)]))),_:1}),nn(o,{to:"/membros",class:"nav-item"},{default:ns((()=>e[2]||(e[2]=[sn("i",{class:"fas fa-users"},null,-1),sn("span",null,"Membros",-1)]))),_:1}),nn(o,{to:"/contributions",class:"nav-item"},{default:ns((()=>e[3]||(e[3]=[sn("i",{class:"fas fa-hand-holding-usd"},null,-1),sn("span",null,"Contribuições",-1)]))),_:1}),nn(o,{to:"/financeiro",class:"nav-item"},{default:ns((()=>e[4]||(e[4]=[sn("i",{class:"fas fa-dollar-sign"},null,-1),sn("span",null,"Financeiro",-1)]))),_:1}),i.isAdmin?(qi(),Xi(o,{key:0,to:"/configuracoes",class:"nav-item"},{default:ns((()=>e[5]||(e[5]=[sn("i",{class:"fas fa-cog"},null,-1),sn("span",null,"Configurações",-1)]))),_:1})):ln("",!0)]),i.isAuthenticated?(qi(),Yi("nav",ha,[sn("div",ua,[nn(o,{to:"/",class:"nav-item"},{default:ns((()=>e[6]||(e[6]=[sn("i",{class:"fas fa-chart-line"},null,-1),sn("span",null,"Painel",-1)]))),_:1}),nn(o,{to:"/membros",class:"nav-item"},{default:ns((()=>e[7]||(e[7]=[sn("i",{class:"fas fa-users"},null,-1),sn("span",null,"Membros",-1)]))),_:1}),nn(o,{to:"/contributions",class:"nav-item"},{default:ns((()=>e[8]||(e[8]=[sn("i",{class:"fas fa-hand-holding-usd"},null,-1),sn("span",null,"Contribuições",-1)]))),_:1}),nn(o,{to:"/financeiro",class:"nav-item"},{default:ns((()=>e[9]||(e[9]=[sn("i",{class:"fas fa-dollar-sign"},null,-1),sn("span",null,"Financeiro",-1)]))),_:1}),i.isAdmin?(qi(),Xi(o,{key:0,to:"/configuracoes",class:"nav-item"},{default:ns((()=>e[10]||(e[10]=[sn("i",{class:"fas fa-cog"},null,-1),sn("span",null,"Configurações",-1)]))),_:1})):ln("",!0)]),sn("button",{onClick:e[0]||(e[0]=(...t)=>i.handleLogout&&i.handleLogout(...t)),class:"logout-button"},e[11]||(e[11]=[sn("i",{class:"fas fa-sign-out-alt"},null,-1),on(" Sair ")]))])):ln("",!0)])),sn("main",{class:K({"main-content":i.isAuthenticated})},[nn(a)],2),e[12]||(e[12]=sn("footer",{class:"app-footer"},[sn("div",{class:"footer-content"},[sn("p",null,"© 2025 Marcelo Garcia. Todos os direitos reservados."),sn("a",{href:"https://wa.me/5511961551182",target:"_blank",class:"support-link"},[sn("i",{class:"fab fa-whatsapp"}),on(" Suporte Técnico ")])])],-1))])}]]),fa={},pa=function(t,e,s){if(!e||0===e.length)return t();const i=document.getElementsByTagName("link");return Promise.all(e.map((t=>{if(t=function(t,e){return new URL(t,e).href}(t,s),t in fa)return;fa[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(!!s)for(let s=i.length-1;s>=0;s--){const n=i[s];if(n.href===t&&(!e||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${t}"]${n}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":"modulepreload",e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e?new Promise(((e,s)=>{r.addEventListener("load",e),r.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${t}`))))})):void 0}))).then((()=>t())).catch((t=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}))},ga=Te({tithes:[],offerings:[]});function ma(){const t=Cn((()=>ga.value.tithes.reduce(((t,e)=>t+Number(e.value)),0))),e=Cn((()=>ga.value.offerings.reduce(((t,e)=>t+Number(e.value)),0))),s=Cn((()=>t.value+e.value));return{finances:ga,totalTithes:t,totalOfferings:e,currentBalance:s,addTithe:t=>{ga.value.tithes.push(t)},addOffering:t=>{ga.value.offerings.push(t)}}}const ba={class:"dashboard"},va={class:"dashboard-cards"},ya={class:"info-card"},_a={class:"number"},xa={class:"info-card"},wa={class:"number"},ka={class:"info-card"},Sa={class:"number"},Ta={class:"quick-actions"};const Oa=na({name:"DashboardView",setup(){const{totalTithes:t,totalOfferings:e,currentBalance:s}=ma();return{totalTithes:t,totalOfferings:e,currentBalance:s,formatValue:t=>Number(t).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}}},[["render",function(t,e,s,i,n,r){const o=As("router-link");return qi(),Yi("div",ba,[sn("div",va,[sn("div",ya,[e[0]||(e[0]=sn("h3",null,"Total de Dízimos",-1)),sn("div",_a,"R$ "+Z(i.formatValue(i.totalTithes)),1)]),sn("div",xa,[e[1]||(e[1]=sn("h3",null,"Total de Ofertas",-1)),sn("div",wa,"R$ "+Z(i.formatValue(i.totalOfferings)),1)]),sn("div",ka,[e[2]||(e[2]=sn("h3",null,"Saldo Atual",-1)),sn("div",Sa,"R$ "+Z(i.formatValue(i.currentBalance)),1)])]),sn("div",Ta,[nn(o,{to:"/membros",class:"nav-button"},{default:ns((()=>e[3]||(e[3]=[sn("i",{class:"fas fa-users"},null,-1),sn("span",null,"Membros",-1)]))),_:1}),nn(o,{to:"/contributions",class:"nav-button"},{default:ns((()=>e[4]||(e[4]=[sn("i",{class:"fas fa-hand-holding-usd"},null,-1),sn("span",null,"Contribuições",-1)]))),_:1}),nn(o,{to:"/financeiro",class:"nav-button"},{default:ns((()=>e[5]||(e[5]=[sn("i",{class:"fas fa-dollar-sign"},null,-1),sn("span",null,"Financeiro",-1)]))),_:1}),nn(o,{to:"/configuracoes",class:"nav-button"},{default:ns((()=>e[6]||(e[6]=[sn("i",{class:"fas fa-cog"},null,-1),sn("span",null,"Configurações",-1)]))),_:1})])])}],["__scopeId","data-v-a55433aa"]]),Pa={class:"members-container"},Ca={class:"form-container"},Ma={class:"form-section"},Ea={class:"form-group"},Aa={class:"form-row"},Ra={class:"form-group"},ja={class:"form-group"},Ia={class:"form-row"},Da={class:"form-group"},La={class:"form-group"},$a={class:"form-group"},Fa={class:"form-section"},Na={class:"form-row"},Ua={class:"form-group"},Va=["for"],za=["id","onUpdate:modelValue"],Ba={class:"form-group"},Ha=["for"],Wa=["id","onUpdate:modelValue"],qa=["onClick"],Ka={class:"members-list"},Ga={key:0},Ja=["onClick"],Ya=["onClick"],Xa={key:1};const Qa=na({name:"MembersView",setup(){const t=Te({name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}),e=Te([]);xs((()=>{try{const t=localStorage.getItem("members");t&&(e.value=JSON.parse(t))}catch(t){console.error("Erro ao carregar membros:",t)}}));return{memberForm:t,members:e,addChild:()=>{t.value.children.push({name:"",age:""})},removeChild:e=>{t.value.children.splice(e,1)},handleSubmit:()=>{try{console.log("Iniciando salvamento...",t.value);const s={id:"local-"+Date.now(),...t.value,createdAt:(new Date).toISOString()};e.value.push(s),localStorage.setItem("members",JSON.stringify(e.value)),alert("Membro cadastrado com sucesso!"),t.value={name:"",cpf:"",rg:"",email:"",phone:"",spouse:"",children:[]}}catch(s){console.error("Erro detalhado:",s),alert("Erro ao cadastrar membro: "+s.message)}},editMember:t=>{try{const s=e.value.findIndex((e=>e.id===t.id));-1!==s&&(e.value[s]={...t},localStorage.setItem("members",JSON.stringify(e.value)))}catch(s){console.error("Erro ao atualizar membro:",s)}},deleteMember:t=>{if(confirm("Deseja realmente excluir este membro?"))try{e.value=e.value.filter((e=>e.id!==t)),localStorage.setItem("members",JSON.stringify(e.value))}catch(s){console.error("Erro ao excluir membro:",s)}}}}},[["render",function(t,e,s,i,n,r){return qi(),Yi("div",Pa,[e[19]||(e[19]=sn("h1",null,"Cadastro de Membros",-1)),sn("div",Ca,[sn("form",{onSubmit:e[7]||(e[7]=fr(((...t)=>i.handleSubmit&&i.handleSubmit(...t)),["prevent"]))},[sn("div",Ma,[e[14]||(e[14]=sn("h2",null,"Dados Pessoais",-1)),sn("div",Ea,[e[8]||(e[8]=sn("label",{for:"name"},"Nome*",-1)),rs(sn("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>i.memberForm.name=t),required:"",placeholder:"Digite o nome completo"},null,512),[[ar,i.memberForm.name]])]),sn("div",Aa,[sn("div",Ra,[e[9]||(e[9]=sn("label",{for:"cpf"},"CPF*",-1)),rs(sn("input",{type:"text",id:"cpf","onUpdate:modelValue":e[1]||(e[1]=t=>i.memberForm.cpf=t),required:"",placeholder:"000.000.000-00"},null,512),[[ar,i.memberForm.cpf]])]),sn("div",ja,[e[10]||(e[10]=sn("label",{for:"rg"},"RG*",-1)),rs(sn("input",{type:"text",id:"rg","onUpdate:modelValue":e[2]||(e[2]=t=>i.memberForm.rg=t),required:"",placeholder:"00.000.000-0"},null,512),[[ar,i.memberForm.rg]])])]),sn("div",Ia,[sn("div",Da,[e[11]||(e[11]=sn("label",{for:"email"},"E-mail*",-1)),rs(sn("input",{type:"email",id:"email","onUpdate:modelValue":e[3]||(e[3]=t=>i.memberForm.email=t),required:"",placeholder:"Digite o e-mail"},null,512),[[ar,i.memberForm.email]])]),sn("div",La,[e[12]||(e[12]=sn("label",{for:"phone"},"Telefone*",-1)),rs(sn("input",{type:"tel",id:"phone","onUpdate:modelValue":e[4]||(e[4]=t=>i.memberForm.phone=t),required:"",placeholder:"(00) 00000-0000"},null,512),[[ar,i.memberForm.phone]])])]),sn("div",$a,[e[13]||(e[13]=sn("label",{for:"spouse"},"Cônjuge",-1)),rs(sn("input",{type:"text",id:"spouse","onUpdate:modelValue":e[5]||(e[5]=t=>i.memberForm.spouse=t),placeholder:"Nome do cônjuge"},null,512),[[ar,i.memberForm.spouse]])])]),sn("div",Fa,[e[15]||(e[15]=sn("h2",null,"Filhos",-1)),(qi(!0),Yi(Ui,null,Is(i.memberForm.children,((t,e)=>(qi(),Yi("div",{key:e,class:"child-form"},[sn("div",Na,[sn("div",Ua,[sn("label",{for:"childName"+e},"Nome do Filho(a)",8,Va),rs(sn("input",{id:"childName"+e,"onUpdate:modelValue":e=>t.name=e,type:"text",placeholder:"Nome do filho(a)"},null,8,za),[[ar,t.name]])]),sn("div",Ba,[sn("label",{for:"childAge"+e},"Idade",8,Ha),rs(sn("input",{id:"childAge"+e,"onUpdate:modelValue":e=>t.age=e,type:"number",min:"0"},null,8,Wa),[[ar,t.age]])]),sn("button",{type:"button",class:"remove-button",onClick:t=>i.removeChild(e)}," Remover ",8,qa)])])))),128)),sn("button",{type:"button",class:"add-button",onClick:e[6]||(e[6]=(...t)=>i.addChild&&i.addChild(...t))}," Adicionar Filho(a) ")]),e[16]||(e[16]=sn("button",{type:"submit",class:"submit-button"}," Cadastrar Membro ",-1))],32)]),sn("div",Ka,[e[18]||(e[18]=sn("h2",null,"Membros Cadastrados",-1)),i.members.length>0?(qi(),Yi("table",Ga,[e[17]||(e[17]=sn("thead",null,[sn("tr",null,[sn("th",null,"Nome"),sn("th",null,"E-mail"),sn("th",null,"Telefone"),sn("th",null,"Ações")])],-1)),sn("tbody",null,[(qi(!0),Yi(Ui,null,Is(i.members,(t=>(qi(),Yi("tr",{key:t.id},[sn("td",null,Z(t.name),1),sn("td",null,Z(t.email),1),sn("td",null,Z(t.phone),1),sn("td",null,[sn("button",{onClick:e=>i.editMember(t),class:"edit-button"},"Editar",8,Ja),sn("button",{onClick:e=>i.deleteMember(t.id),class:"delete-button"},"Excluir",8,Ya)])])))),128))])])):(qi(),Yi("p",Xa,"Nenhum membro cadastrado"))])])}],["__scopeId","data-v-3e8be83f"]]);
/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Za(t){return t+.5|0}const tl=(t,e,s)=>Math.max(Math.min(t,s),e);function el(t){return tl(Za(2.55*t),0,255)}function sl(t){return tl(Za(255*t),0,255)}function il(t){return tl(Za(t/2.55)/100,0,1)}function nl(t){return tl(Za(100*t),0,100)}const rl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ol=[..."0123456789ABCDEF"],al=t=>ol[15&t],ll=t=>ol[(240&t)>>4]+ol[15&t],cl=t=>(240&t)>>4==(15&t);function hl(t){var e=(t=>cl(t.r)&&cl(t.g)&&cl(t.b)&&cl(t.a))(t)?al:ll;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const ul=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dl(t,e,s){const i=e*Math.min(s,1-s),n=(e,n=(e+t/30)%12)=>s-i*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function fl(t,e,s){const i=(i,n=(i+t/60)%6)=>s-s*e*Math.max(Math.min(n,4-n,1),0);return[i(5),i(3),i(1)]}function pl(t,e,s){const i=dl(t,1,.5);let n;for(e+s>1&&(n=1/(e+s),e*=n,s*=n),n=0;n<3;n++)i[n]*=1-e-s,i[n]+=e;return i}function gl(t){const e=t.r/255,s=t.g/255,i=t.b/255,n=Math.max(e,s,i),r=Math.min(e,s,i),o=(n+r)/2;let a,l,c;return n!==r&&(c=n-r,l=o>.5?c/(2-n-r):c/(n+r),a=function(t,e,s,i,n){return t===n?(e-s)/i+(e<s?6:0):e===n?(s-t)/i+2:(t-e)/i+4}(e,s,i,c,n),a=60*a+.5),[0|a,l||0,o]}function ml(t,e,s,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,i)).map(sl)}function bl(t,e,s){return ml(dl,t,e,s)}function vl(t){return(t%360+360)%360}function yl(t){const e=ul.exec(t);let s,i=255;if(!e)return;e[5]!==s&&(i=e[6]?el(+e[5]):sl(+e[5]));const n=vl(+e[2]),r=+e[3]/100,o=+e[4]/100;return s="hwb"===e[1]?function(t,e,s){return ml(pl,t,e,s)}(n,r,o):"hsv"===e[1]?function(t,e,s){return ml(fl,t,e,s)}(n,r,o):bl(n,r,o),{r:s[0],g:s[1],b:s[2],a:i}}const _l={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xl={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let wl;function kl(t){wl||(wl=function(){const t={},e=Object.keys(xl),s=Object.keys(_l);let i,n,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],n=0;n<s.length;n++)r=s[n],a=a.replace(r,_l[r]);r=parseInt(xl[o],16),t[a]=[r>>16&255,r>>8&255,255&r]}return t}(),wl.transparent=[0,0,0,0]);const e=wl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Sl=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Tl=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ol=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Pl(t,e,s){if(t){let i=gl(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*s,0===e?360:1)),i=bl(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Cl(t,e){return t?Object.assign(e||{},t):t}function Ml(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=sl(t[3]))):(e=Cl(t,{r:0,g:0,b:0,a:1})).a=sl(e.a),e}function El(t){return"r"===t.charAt(0)?function(t){const e=Sl.exec(t);let s,i,n,r=255;if(e){if(e[7]!==s){const t=+e[7];r=e[8]?el(t):tl(255*t,0,255)}return s=+e[1],i=+e[3],n=+e[5],s=255&(e[2]?el(s):tl(s,0,255)),i=255&(e[4]?el(i):tl(i,0,255)),n=255&(e[6]?el(n):tl(n,0,255)),{r:s,g:i,b:n,a:r}}}(t):yl(t)}class Al{constructor(t){if(t instanceof Al)return t;const e=typeof t;let s;var i,n,r;"object"===e?s=Ml(t):"string"===e&&(r=(i=t).length,"#"===i[0]&&(4===r||5===r?n={r:255&17*rl[i[1]],g:255&17*rl[i[2]],b:255&17*rl[i[3]],a:5===r?17*rl[i[4]]:255}:7!==r&&9!==r||(n={r:rl[i[1]]<<4|rl[i[2]],g:rl[i[3]]<<4|rl[i[4]],b:rl[i[5]]<<4|rl[i[6]],a:9===r?rl[i[7]]<<4|rl[i[8]]:255})),s=n||kl(t)||El(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Cl(this._rgb);return t&&(t.a=il(t.a)),t}set rgb(t){this._rgb=Ml(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${il(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?hl(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=gl(t),s=e[0],i=nl(e[1]),n=nl(e[2]);return t.a<255?`hsla(${s}, ${i}%, ${n}%, ${il(t.a)})`:`hsl(${s}, ${i}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,i=t.rgb;let n;const r=e===n?.5:e,o=2*r-1,a=s.a-i.a,l=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;n=1-l,s.r=255&l*s.r+n*i.r+.5,s.g=255&l*s.g+n*i.g+.5,s.b=255&l*s.b+n*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,s){const i=Ol(il(t.r)),n=Ol(il(t.g)),r=Ol(il(t.b));return{r:sl(Tl(i+s*(Ol(il(e.r))-i))),g:sl(Tl(n+s*(Ol(il(e.g))-n))),b:sl(Tl(r+s*(Ol(il(e.b))-r))),a:t.a+s*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Al(this.rgb)}alpha(t){return this._rgb.a=sl(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Za(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Pl(this._rgb,2,t),this}darken(t){return Pl(this._rgb,2,-t),this}saturate(t){return Pl(this._rgb,1,t),this}desaturate(t){return Pl(this._rgb,1,-t),this}rotate(t){return function(t,e){var s=gl(t);s[0]=vl(s[0]+e),s=bl(s),t.r=s[0],t.g=s[1],t.b=s[2]}(this._rgb,t),this}}
/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rl(){}const jl=(()=>{let t=0;return()=>t++})();function Il(t){return null==t}function Dl(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Ll(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function $l(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Fl(t,e){return $l(t)?t:e}function Nl(t,e){return void 0===t?e:t}const Ul=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vl(t,e,s){if(t&&"function"==typeof t.call)return t.apply(s,e)}function zl(t,e,s,i){let n,r,o;if(Dl(t))if(r=t.length,i)for(n=r-1;n>=0;n--)e.call(s,t[n],n);else for(n=0;n<r;n++)e.call(s,t[n],n);else if(Ll(t))for(o=Object.keys(t),r=o.length,n=0;n<r;n++)e.call(s,t[o[n]],o[n])}function Bl(t,e){let s,i,n,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,i=t.length;s<i;++s)if(n=t[s],r=e[s],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function Hl(t){if(Dl(t))return t.map(Hl);if(Ll(t)){const e=Object.create(null),s=Object.keys(t),i=s.length;let n=0;for(;n<i;++n)e[s[n]]=Hl(t[s[n]]);return e}return t}function Wl(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function ql(t,e,s,i){if(!Wl(t))return;const n=e[t],r=s[t];Ll(n)&&Ll(r)?Kl(n,r,i):e[t]=Hl(r)}function Kl(t,e,s){const i=Dl(e)?e:[e],n=i.length;if(!Ll(t))return t;const r=(s=s||{}).merger||ql;let o;for(let a=0;a<n;++a){if(o=i[a],!Ll(o))continue;const e=Object.keys(o);for(let i=0,n=e.length;i<n;++i)r(e[i],t,o,s)}return t}function Gl(t,e){return Kl(t,e,{merger:Jl})}function Jl(t,e,s){if(!Wl(t))return;const i=e[t],n=s[t];Ll(i)&&Ll(n)?Gl(i,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hl(n))}const Yl={"":t=>t,x:t=>t.x,y:t=>t.y};function Xl(t,e){const s=Yl[e]||(Yl[e]=function(t){const e=function(t){const e=t.split("."),s=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}(t);return t=>{for(const s of e){if(""===s)break;t=t&&t[s]}return t}}(e));return s(t)}function Ql(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zl=t=>void 0!==t,tc=t=>"function"==typeof t,ec=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};const sc=Math.PI,ic=2*sc,nc=Number.POSITIVE_INFINITY,rc=sc/180,oc=sc/2,ac=sc/4,lc=2*sc/3,cc=Math.log10,hc=Math.sign;function uc(t,e,s){return Math.abs(t-e)<s}function dc(t){const e=Math.round(t);t=uc(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(cc(t))),i=t/s;return(i<=1?1:i<=2?2:i<=5?5:10)*s}function fc(t){return!function(t){return"symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function pc(t,e,s){let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function gc(t){return t*(sc/180)}function mc(t){return t*(180/sc)}function bc(t){if(!$l(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function vc(t,e){const s=e.x-t.x,i=e.y-t.y,n=Math.sqrt(s*s+i*i);let r=Math.atan2(i,s);return r<-.5*sc&&(r+=ic),{angle:r,distance:n}}function yc(t){return(t%ic+ic)%ic}function _c(t,e,s,i){const n=yc(t),r=yc(e),o=yc(s),a=yc(r-n),l=yc(o-n),c=yc(n-r),h=yc(n-o);return n===r||n===o||i&&r===o||a>l&&c<h}function xc(t,e,s){return Math.max(e,Math.min(s,t))}function wc(t,e,s,i=1e-6){return t>=Math.min(e,s)-i&&t<=Math.max(e,s)+i}function kc(t,e,s){s=s||(s=>t[s]<e);let i,n=t.length-1,r=0;for(;n-r>1;)i=r+n>>1,s(i)?r=i:n=i;return{lo:r,hi:n}}const Sc=(t,e,s,i)=>kc(t,s,i?i=>{const n=t[i][e];return n<s||n===s&&t[i+1][e]===s}:i=>t[i][e]<s),Tc=(t,e,s)=>kc(t,s,(i=>t[i][e]>=s));const Oc=["push","pop","shift","splice","unshift"];function Pc(t,e){const s=t._chartjs;if(!s)return;const i=s.listeners,n=i.indexOf(e);-1!==n&&i.splice(n,1),i.length>0||(Oc.forEach((e=>{delete t[e]})),delete t._chartjs)}function Cc(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Mc="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Ec(t,e){let s=[],i=!1;return function(...n){s=n,i||(i=!0,Mc.call(window,(()=>{i=!1,t.apply(e,s)})))}}const Ac=t=>"start"===t?"left":"end"===t?"right":"center",Rc=(t,e,s)=>"start"===t?e:"end"===t?s:(e+s)/2,jc=t=>0===t||1===t,Ic=(t,e,s)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*ic/s),Dc=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*ic/s)+1,Lc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*oc),easeOutSine:t=>Math.sin(t*oc),easeInOutSine:t=>-.5*(Math.cos(sc*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>jc(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jc(t)?t:Ic(t,.075,.3),easeOutElastic:t=>jc(t)?t:Dc(t,.075,.3),easeInOutElastic(t){const e=.1125;return jc(t)?t:t<.5?.5*Ic(2*t,e,.45):.5+.5*Dc(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Lc.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,s=2.75;return t<1/s?e*t*t:t<2/s?e*(t-=1.5/s)*t+.75:t<2.5/s?e*(t-=2.25/s)*t+.9375:e*(t-=2.625/s)*t+.984375},easeInOutBounce:t=>t<.5?.5*Lc.easeInBounce(2*t):.5*Lc.easeOutBounce(2*t-1)+.5};function $c(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Fc(t){return $c(t)?t:new Al(t)}function Nc(t){return $c(t)?t:new Al(t).saturate(.5).darken(.1).hexString()}const Uc=["x","y","borderWidth","radius","tension"],Vc=["color","borderColor","backgroundColor"];const zc=new Map;function Bc(t,e,s){return function(t,e){e=e||{};const s=t+JSON.stringify(e);let i=zc.get(s);return i||(i=new Intl.NumberFormat(t,e),zc.set(s,i)),i}(e,s).format(t)}const Hc={values:t=>Dl(t)?t:""+t,numeric(t,e,s){if(0===t)return"0";const i=this.chart.options.locale;let n,r=t;if(s.length>1){const e=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(e<1e-4||e>1e15)&&(n="scientific"),r=function(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t));return s}(t,s)}const o=cc(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Bc(t,i,l)},logarithmic(t,e,s){if(0===t)return"0";const i=s[e].significand||t/Math.pow(10,Math.floor(cc(t)));return[1,2,3,5,10,15].includes(i)||e>.8*s.length?Hc.numeric.call(this,t,e,s):""}};var Wc={formatters:Hc};const qc=Object.create(null),Kc=Object.create(null);function Gc(t,e){if(!e)return t;const s=e.split(".");for(let i=0,n=s.length;i<n;++i){const e=s[i];t=t[e]||(t[e]=Object.create(null))}return t}function Jc(t,e,s){return"string"==typeof e?Kl(Gc(t,e),s):Kl(Gc(t,""),e)}class Yc{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Nc(e.backgroundColor),this.hoverBorderColor=(t,e)=>Nc(e.borderColor),this.hoverColor=(t,e)=>Nc(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Jc(this,t,e)}get(t){return Gc(this,t)}describe(t,e){return Jc(Kc,t,e)}override(t,e){return Jc(qc,t,e)}route(t,e,s,i){const n=Gc(this,t),r=Gc(this,s),o="_"+e;Object.defineProperties(n,{[o]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=r[i];return Ll(t)?Object.assign({},e,t):Nl(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Xc=new Yc({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Vc},numbers:{type:"number",properties:Uc}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Qc(t,e,s,i,n){let r=e[n];return r||(r=e[n]=t.measureText(n).width,s.push(n)),r>i&&(i=r),i}function Zc(t,e,s,i){let n=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=s.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=s[l],null==u||Dl(u)){if(Dl(u))for(c=0,h=u.length;c<h;c++)d=u[c],null==d||Dl(d)||(o=Qc(t,n,r,o,d))}else o=Qc(t,n,r,o,u);t.restore();const f=r.length/2;if(f>s.length){for(l=0;l<f;l++)delete n[r[l]];r.splice(0,f)}return o}function th(t,e,s){const i=t.currentDevicePixelRatio,n=0!==s?Math.max(s/2,.5):0;return Math.round((e-n)*i)/i+n}function eh(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sh(t,e,s,i){ih(t,e,s,i,null)}function ih(t,e,s,i,n){let r,o,a,l,c,h,u,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*rc;if(f&&"object"==typeof f&&(r=f.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(s,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:n?t.ellipse(s,i,n/2,g,0,0,ic):t.arc(s,i,g,0,ic),t.closePath();break;case"triangle":h=n?n/2:g,t.moveTo(s+Math.sin(m)*h,i-Math.cos(m)*g),m+=lc,t.lineTo(s+Math.sin(m)*h,i-Math.cos(m)*g),m+=lc,t.lineTo(s+Math.sin(m)*h,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+ac)*l,u=Math.cos(m+ac)*(n?n/2-c:l),a=Math.sin(m+ac)*l,d=Math.sin(m+ac)*(n?n/2-c:l),t.arc(s-u,i-a,c,m-sc,m-oc),t.arc(s+d,i-o,c,m-oc,m),t.arc(s+u,i+a,c,m,m+oc),t.arc(s-d,i+o,c,m+oc,m+sc),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,h=n?n/2:l,t.rect(s-h,i-l,2*h,2*l);break}m+=ac;case"rectRot":u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(s-u,i-a),t.lineTo(s+d,i-o),t.lineTo(s+u,i+a),t.lineTo(s-d,i+o),t.closePath();break;case"crossRot":m+=ac;case"cross":u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(s-u,i-a),t.lineTo(s+u,i+a),t.moveTo(s+d,i-o),t.lineTo(s-d,i+o);break;case"star":u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(s-u,i-a),t.lineTo(s+u,i+a),t.moveTo(s+d,i-o),t.lineTo(s-d,i+o),m+=ac,u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(s-u,i-a),t.lineTo(s+u,i+a),t.moveTo(s+d,i-o),t.lineTo(s-d,i+o);break;case"line":o=n?n/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(s-o,i-a),t.lineTo(s+o,i+a);break;case"dash":t.moveTo(s,i),t.lineTo(s+Math.cos(m)*(n?n/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function nh(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function rh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function oh(t){t.restore()}function ah(t,e,s,i,n){if(n.strikethrough||n.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function lh(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function ch(t,e,s,i,n,r={}){const o=Dl(e)?e:[e],a=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(t.save(),t.font=n.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Il(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&lh(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Il(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,i,r.maxWidth)),t.fillText(c,s,i,r.maxWidth),ah(t,s,i,c,r),i+=Number(n.lineHeight);t.restore()}function hh(t,e){const{x:s,y:i,w:n,h:r,radius:o}=e;t.arc(s+o.topLeft,i+o.topLeft,o.topLeft,1.5*sc,sc,!0),t.lineTo(s,i+r-o.bottomLeft),t.arc(s+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,sc,oc,!0),t.lineTo(s+n-o.bottomRight,i+r),t.arc(s+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,oc,0,!0),t.lineTo(s+n,i+o.topRight),t.arc(s+n-o.topRight,i+o.topRight,o.topRight,0,-oc,!0),t.lineTo(s+o.topLeft,i)}const uh=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dh=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fh(t,e){const s=(""+t).match(uh);if(!s||"normal"===s[1])return 1.2*e;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100}return e*t}function ph(t,e){const s={},i=Ll(e),n=i?Object.keys(e):e,r=Ll(t)?i?s=>Nl(t[s],t[e[s]]):e=>t[e]:()=>t;for(const o of n)s[o]=+r(o)||0;return s}function gh(t){return ph(t,{top:"y",right:"x",bottom:"y",left:"x"})}function mh(t){return ph(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bh(t){const e=gh(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vh(t,e){t=t||{},e=e||Xc.font;let s=Nl(t.size,e.size);"string"==typeof s&&(s=parseInt(s,10));let i=Nl(t.style,e.style);i&&!(""+i).match(dh)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:Nl(t.family,e.family),lineHeight:fh(Nl(t.lineHeight,e.lineHeight),s),size:s,style:i,weight:Nl(t.weight,e.weight),string:""};return n.string=function(t){return!t||Il(t.size)||Il(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(n),n}function yh(t,e,s,i){let n,r,o,a=!0;for(n=0,r=t.length;n<r;++n)if(o=t[n],void 0!==o&&(void 0!==e&&"function"==typeof o&&(o=o(e),a=!1),void 0!==s&&Dl(o)&&(o=o[s%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function _h(t,e){return Object.assign(Object.create(t),e)}function xh(t,e=[""],s,i,n=()=>t[0]){const r=s||t;void 0===i&&(i=Rh("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:n,override:s=>xh([s,...t],e,r,i)};return new Proxy(o,{deleteProperty:(e,s)=>(delete e[s],delete e._keys,delete t[0][s],!0),get:(s,i)=>Oh(s,i,(()=>function(t,e,s,i){let n;for(const r of e)if(n=Rh(Sh(r,t),s),void 0!==n)return Th(t,n)?Eh(s,i,t,n):n}(i,e,t,s))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>jh(t).includes(e),ownKeys:t=>jh(t),set(t,e,s){const i=t._storage||(t._storage=n());return t[e]=i[e]=s,delete t._keys,!0}})}function wh(t,e,s,i){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:kh(t,i),setContext:e=>wh(t,e,s,i),override:n=>wh(t.override(n),e,s,i)};return new Proxy(n,{deleteProperty:(e,s)=>(delete e[s],delete t[s],!0),get:(t,e,s)=>Oh(t,e,(()=>function(t,e,s){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=t;let a=i[e];tc(a)&&o.isScriptable(e)&&(a=function(t,e,s,i){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);a.delete(t),Th(t,l)&&(l=Eh(n._scopes,n,t,l));return l}(e,a,t,s));Dl(a)&&a.length&&(a=function(t,e,s,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=s;if(void 0!==r.index&&i(t))return e[r.index%e.length];if(Ll(e[0])){const s=e,i=n._scopes.filter((t=>t!==s));e=[];for(const l of s){const s=Eh(i,n,t,l);e.push(wh(s,r,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));Th(e,a)&&(a=wh(a,n,r&&r[e],o));return a}(t,e,s))),getOwnPropertyDescriptor:(e,s)=>e._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,s)=>Reflect.has(t,s),ownKeys:()=>Reflect.ownKeys(t),set:(e,s,i)=>(t[s]=i,delete e[s],!0)})}function kh(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:s,indexable:i,isScriptable:tc(s)?s:()=>s,isIndexable:tc(i)?i:()=>i}}const Sh=(t,e)=>t?t+Ql(e):e,Th=(t,e)=>Ll(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Oh(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=s();return t[e]=i,i}function Ph(t,e,s){return tc(t)?t(e,s):t}const Ch=(t,e)=>!0===t?e:"string"==typeof t?Xl(e,t):void 0;function Mh(t,e,s,i,n){for(const r of e){const e=Ch(s,r);if(e){t.add(e);const r=Ph(e._fallback,s,n);if(void 0!==r&&r!==s&&r!==i)return r}else if(!1===e&&void 0!==i&&s!==i)return null}return!1}function Eh(t,e,s,i){const n=e._rootScopes,r=Ph(e._fallback,s,i),o=[...t,...n],a=new Set;a.add(i);let l=Ah(a,o,s,r||s,i);return null!==l&&((void 0===r||r===s||(l=Ah(a,o,r,l,i),null!==l))&&xh(Array.from(a),[""],n,r,(()=>function(t,e,s){const i=t._getTarget();e in i||(i[e]={});const n=i[e];if(Dl(n)&&Ll(s))return s;return n||{}}(e,s,i))))}function Ah(t,e,s,i,n){for(;s;)s=Mh(t,e,s,i,n);return s}function Rh(t,e){for(const s of e){if(!s)continue;const e=s[t];if(void 0!==e)return e}}function jh(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const s of t)for(const t of Object.keys(s).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Ih(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Dh(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Lh(t,e,s){let i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[s])):i=t,i}const $h=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Fh=["top","right","bottom","left"];function Nh(t,e,s){const i={};s=s?"-"+s:"";for(let n=0;n<4;n++){const r=Fh[n];i[r]=parseFloat(t[e+"-"+r+s])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Uh(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:i}=e,n=$h(s),r="border-box"===n.boxSizing,o=Nh(n,"padding"),a=Nh(n,"border","width"),{x:l,y:c,box:h}=function(t,e){const s=t.touches,i=s&&s.length?s[0]:t,{offsetX:n,offsetY:r}=i;let o,a,l=!1;if(((t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot))(n,r,t.target))o=n,a=r;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,s),u=o.left+(h&&a.left),d=o.top+(h&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/f*s.width/i),y:Math.round((c-d)/p*s.height/i)}}const Vh=t=>Math.round(10*t)/10;function zh(t,e,s,i){const n=$h(t),r=Nh(n,"margin"),o=Lh(n.maxWidth,t,"clientWidth")||nc,a=Lh(n.maxHeight,t,"clientHeight")||nc,l=function(t,e,s){let i,n;if(void 0===e||void 0===s){const r=t&&Dh(t);if(r){const t=r.getBoundingClientRect(),o=$h(r),a=Nh(o,"border","width"),l=Nh(o,"padding");e=t.width-l.width-a.width,s=t.height-l.height-a.height,i=Lh(o.maxWidth,r,"clientWidth"),n=Lh(o.maxHeight,r,"clientHeight")}else e=t.clientWidth,s=t.clientHeight}return{width:e,height:s,maxWidth:i||nc,maxHeight:n||nc}}(t,e,s);let{width:c,height:h}=l;if("content-box"===n.boxSizing){const t=Nh(n,"border","width"),e=Nh(n,"padding");c-=e.width+t.width,h-=e.height+t.height}c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=Vh(Math.min(c,o,l.maxWidth)),h=Vh(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Vh(c/2));return(void 0!==e||void 0!==s)&&i&&l.height&&h>l.height&&(h=l.height,c=Vh(Math.floor(h*i))),{width:c,height:h}}function Bh(t,e,s){const i=e||1,n=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||o.height!==n||o.width!==r)&&(t.currentDevicePixelRatio=i,o.height=n,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0)}const Hh=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ih()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(Ay){}return t}();function Wh(t,e){const s=function(t,e){return $h(t).getPropertyValue(e)}(t,e),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qh(t,e,s){return t?function(t,e){return{x:s=>t+t+e-s,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,s):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Kh(t,e){let s,i;"ltr"!==e&&"rtl"!==e||(s=t.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Gh(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}
/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Jh{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,i){const n=e.listeners[i],r=e.duration;n.forEach((i=>i({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(s-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=Mc.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((s,i)=>{if(!s.running||!s.items.length)return;const n=s.items;let r,o=n.length-1,a=!1;for(;o>=0;--o)r=n[o],r._active?(r._total>s.duration&&(s.duration=r._total),r.tick(t),a=!0):(n[o]=n[n.length-1],n.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),n.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Yh=new Jh;const Xh="transparent",Qh={boolean:(t,e,s)=>s>.5?e:t,color(t,e,s){const i=Fc(t||Xh),n=i.valid&&Fc(e||Xh);return n&&n.valid?n.mix(i,s).hexString():e},number:(t,e,s)=>t+(e-t)*s};class Zh{constructor(t,e,s,i){const n=e[s];i=yh([t.to,i,n,t.from]);const r=yh([t.from,n,i]);this._active=!0,this._fn=t.fn||Qh[t.type||typeof r],this._easing=Lc[t.easing]||Lc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const i=this._target[this._prop],n=s-this._start,r=this._duration-n;this._start=s,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=yh([t.to,e,i,t.from]),this._from=yh([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,i=this._prop,n=this._from,r=this._loop,o=this._to;let a;if(this._active=n!==o&&(r||e<s),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=n:(a=e/s%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(n,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,s)=>{t.push({res:e,rej:s})}))}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][e]()}}class tu{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ll(t))return;const e=Object.keys(Xc.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const n=t[i];if(!Ll(n))return;const r={};for(const t of e)r[t]=n[t];(Dl(n.properties)&&n.properties||[i]).forEach((t=>{t!==i&&s.has(t)||s.set(t,r)}))}))}_animateOptions(t,e){const s=e.options,i=function(t,e){if(!e)return;let s=t.options;if(!s)return void(t.options=e);s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(t,s);if(!i)return[];const n=this._createAnimations(i,s);return s.$shared&&function(t,e){const s=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const e=t[i[n]];e&&e.active()&&s.push(e.wait())}return Promise.all(s)}(t.options.$animations,s).then((()=>{t.options=s}),(()=>{})),n}_createAnimations(t,e){const s=this._properties,i=[],n=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let h=n[l];const u=s.get(l);if(h){if(u&&h.active()){h.update(u,c,o);continue}h.cancel()}u&&u.duration?(n[l]=h=new Zh(u,t,l,c),i.push(h)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const s=this._createAnimations(t,e);return s.length?(Yh.add(this._chart,s),!0):void 0}}function eu(t,e){const s=t&&t.options||{},i=s.reverse,n=void 0===s.min?e:0,r=void 0===s.max?e:0;return{start:i?r:n,end:i?n:r}}function su(t,e){const s=[],i=t._getSortedDatasetMetas(e);let n,r;for(n=0,r=i.length;n<r;++n)s.push(i[n].index);return s}function iu(t,e,s,i={}){const n=t.keys,r="single"===i.mode;let o,a,l,c;if(null===e)return;let h=!1;for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===s){if(h=!0,i.all)continue;break}c=t.values[l],$l(c)&&(r||0===e||hc(e)===hc(c))&&(e+=c)}return h||i.all?e:0}function nu(t,e){const s=t&&t.options.stacked;return s||void 0===s&&void 0!==e.stack}function ru(t,e,s){const i=t[e]||(t[e]={});return i[s]||(i[s]={})}function ou(t,e,s,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const e=t[n.index];if(s&&e>0||!s&&e<0)return n.index}return null}function au(t,e){const{chart:s,_cachedMeta:i}=t,n=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,h=function(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}(r,o,i),u=e.length;let d;for(let f=0;f<u;++f){const t=e[f],{[l]:s,[c]:r}=t;d=(t._stacks||(t._stacks={}))[c]=ru(n,h,s),d[a]=r,d._top=ou(d,o,!0,i.type),d._bottom=ou(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=r}}function lu(t,e){const s=t.scales;return Object.keys(s).filter((t=>s[t].axis===e)).shift()}function cu(t,e){const s=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][s])return;delete e[i][s],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[s]&&delete e[i]._visualValues[s]}}}const hu=t=>"reset"===t||"none"===t,uu=(t,e)=>e?t:Object.assign({},t);class du{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=nu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&cu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),i=(t,e,s,i)=>"x"===t?e:"r"===t?i:s,n=e.xAxisID=Nl(s.xAxisID,lu(t,"x")),r=e.yAxisID=Nl(s.yAxisID,lu(t,"y")),o=e.rAxisID=Nl(s.rAxisID,lu(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,n,r,o),c=e.vAxisID=i(a,r,n,o);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Pc(this._data,this),t._stacked&&cu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Ll(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:s,vScale:i}=e,n="x"===s.axis?"x":"y",r="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[n]:h,[r]:t[h]};return a}(e,t)}else if(s!==e){if(s){Pc(s,this);const t=this._cachedMeta;cu(t),t._parsed=[]}e&&Object.isExtensible(e)&&(n=this,(i=e)._chartjs?i._chartjs.listeners.push(n):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Oc.forEach((t=>{const e="_onData"+Ql(t),s=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...t){const n=s.apply(this,t);return i._chartjs.listeners.forEach((s=>{"function"==typeof s[e]&&s[e](...t)})),n}})})))),this._syncList=[],this._data=e}var i,n}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const n=e._stacked;e._stacked=nu(e.vScale,e),e.stack!==s.stack&&(i=!0,cu(e),e.stack=s.stack),this._resyncElements(t),(i||n!==e._stacked)&&(au(this,e._parsed),e._stacked=nu(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:i}=this,{iScale:n,_stacked:r}=s,o=n.axis;let a,l,c,h=0===t&&e===i.length||s._sorted,u=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=i,s._sorted=!0,c=i;else{c=Dl(i[t])?this.parseArrayData(s,i,t,e):Ll(i[t])?this.parseObjectData(s,i,t,e):this.parsePrimitiveData(s,i,t,e);const n=()=>null===l[o]||u&&l[o]<u[o];for(a=0;a<e;++a)s._parsed[a+t]=l=c[a],h&&(n()&&(h=!1),u=l);s._sorted=h}r&&au(this,c)}parsePrimitiveData(t,e,s,i){const{iScale:n,vScale:r}=t,o=n.axis,a=r.axis,l=n.getLabels(),c=n===r,h=new Array(i);let u,d,f;for(u=0,d=i;u<d;++u)f=u+s,h[u]={[o]:c||n.parse(l[f],f),[a]:r.parse(e[f],f)};return h}parseArrayData(t,e,s,i){const{xScale:n,yScale:r}=t,o=new Array(i);let a,l,c,h;for(a=0,l=i;a<l;++a)c=a+s,h=e[c],o[a]={x:n.parse(h[0],c),y:r.parse(h[1],c)};return o}parseObjectData(t,e,s,i){const{xScale:n,yScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,h,u,d;for(c=0,h=i;c<h;++c)u=c+s,d=e[u],l[c]={x:n.parse(Xl(d,o),u),y:r.parse(Xl(d,a),u)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const i=this.chart,n=this._cachedMeta,r=e[t.axis];return iu({keys:su(i,!0),values:e._stacks[t.axis]._visualValues},r,n.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const n=s[e.axis];let r=null===n?NaN:n;const o=i&&s._stacks[e.axis];i&&o&&(i.values=o,r=iu(i,n,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const s=this._cachedMeta,i=s._parsed,n=s._sorted&&t===s.iScale,r=i.length,o=this._getOtherScale(t),a=((t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:su(s,!0),values:null})(e,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=function(t){const{min:e,max:s,minDefined:i,maxDefined:n}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}(o);let u,d;function f(){d=i[u];const e=d[o.axis];return!$l(d[t.axis])||c>e||h<e}for(u=0;u<r&&(f()||(this.updateRangeFromParsed(l,t,d,a),!n));++u);if(n)for(u=r-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let i,n,r;for(i=0,n=e.length;i<n;++i)r=e[i][t.axis],$l(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,i=e.vScale,n=this.getParsed(t);return{label:s?""+s.getLabelForValue(n[s.axis]):"",value:i?""+i.getLabelForValue(n[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,s,i,n;return Ll(t)?(e=t.top,s=t.right,i=t.bottom,n=t.left):e=s=i=n=t,{top:e,right:s,bottom:i,left:n,disabled:!1===t}}(Nl(this.options.clip,function(t,e,s){if(!1===s)return!1;const i=eu(t,s),n=eu(e,s);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,i=s.data||[],n=e.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(t,n,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?r.push(e):e.draw(t,n))}for(c=0;c<r.length;++c)r[c].draw(t,n)}getStyle(t,e){const s=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,s){return _h(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=i.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return _h(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=i,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=s,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const i="active"===e,n=this._cachedDataOpts,r=t+"-"+e,o=n[r],a=this.enableOptionSharing&&Zl(s);if(o)return uu(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],u=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Xc.elements[t]),f=l.resolveNamedOptions(u,d,(()=>this.getContext(s,i,e)),h);return f.$shared&&(f.$shared=a,n[r]=Object.freeze(uu(f,a))),f}_resolveAnimations(t,e,s){const i=this.chart,n=this._cachedDataOpts,r=`animation-${e}`,o=n[r];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,n=i.datasetAnimationScopeKeys(this._type,e),r=i.getOptionScopes(this.getDataset(),n);a=i.createResolver(r,this.getContext(t,s,e))}const l=new tu(i,a&&a.animations);return a&&a._cacheable&&(n[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||hu(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),i=this._sharedOptions,n=this.getSharedOptions(s),r=this.includeOptions(e,n)||n!==i;return this.updateSharedOptions(n,e,s),{sharedOptions:n,includeOptions:r}}updateElement(t,e,s,i){hu(i)?Object.assign(t,s):this._resolveAnimations(e,i).update(t,s)}updateSharedOptions(t,e,s){t&&!hu(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,i){t.active=i;const n=this.getStyle(e,i);this._resolveAnimations(e,s,i).update(t,{options:!i&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=s.length,n=e.length,r=Math.min(n,i);r&&this.parse(0,r),n>i?this._insertElements(i,n-i,t):n<i&&this._removeElements(n,i-n)}_insertElements(t,e,s=!0){const i=this._cachedMeta,n=i.data,r=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=r;o--)t[o]=t[o-e]};for(a(n),o=t;o<r;++o)n[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),s&&this.updateElements(n,t,e,"reset")}updateElements(t,e,s,i){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,e);s._stacked&&cu(s,i)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,i]=t;this[e](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fu(t){const e=t.iScale,s=function(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,n=s.length;e<n;e++)i=i.concat(s[e].controller.getAllParsedValues(t));t._cache.$bar=Cc(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,n,r,o,a=e._length;const l=()=>{32767!==r&&-32768!==r&&(Zl(o)&&(a=Math.min(a,Math.abs(r-o)||a)),o=r)};for(i=0,n=s.length;i<n;++i)r=e.getPixelForValue(s[i]),l();for(o=void 0,i=0,n=e.ticks.length;i<n;++i)r=e.getPixelForTick(i),l();return a}function pu(t,e,s,i){return Dl(t)?function(t,e,s,i){const n=s.parse(t[0],i),r=s.parse(t[1],i),o=Math.min(n,r),a=Math.max(n,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:n,end:r,min:o,max:a}}(t,e,s,i):e[s.axis]=s.parse(t,i),e}function gu(t,e,s,i){const n=t.iScale,r=t.vScale,o=n.getLabels(),a=n===r,l=[];let c,h,u,d;for(c=s,h=s+i;c<h;++c)d=e[c],u={},u[n.axis]=a||n.parse(o[c],c),l.push(pu(d,u,r,c));return l}function mu(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function bu(t,e,s,i){let n=e.borderSkipped;const r={};if(!n)return void(t.borderSkipped=r);if(!0===n)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:h}=function(t){let e,s,i,n,r;return t.horizontal?(e=t.base>t.x,s="left",i="right"):(e=t.base<t.y,s="bottom",i="top"),e?(n="end",r="start"):(n="start",r="end"),{start:s,end:i,reverse:e,top:n,bottom:r}}(t);"middle"===n&&s&&(t.enableBorderRadius=!0,(s._top||0)===i?n=c:(s._bottom||0)===i?n=h:(r[vu(h,o,a,l)]=!0,n=c)),r[vu(n,o,a,l)]=!0,t.borderSkipped=r}function vu(t,e,s,i){var n,r,o;return i?(o=s,t=yu(t=(n=t)===(r=e)?o:n===o?r:n,s,e)):t=yu(t,e,s),t}function yu(t,e,s){return"start"===t?e:"end"===t?s:t}function _u(t,{inflateAmount:e},s){t.inflateAmount="auto"===e?1===s?.33:0:e}i(du,"defaults",{}),i(du,"datasetElementType",null),i(du,"dataElementType",null);class xu extends du{parsePrimitiveData(t,e,s,i){return gu(t,e,s,i)}parseArrayData(t,e,s,i){return gu(t,e,s,i)}parseObjectData(t,e,s,i){const{iScale:n,vScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===n.axis?o:a,c="x"===r.axis?o:a,h=[];let u,d,f,p;for(u=s,d=s+i;u<d;++u)p=e[u],f={},f[n.axis]=n.parse(Xl(p,l),u),h.push(pu(Xl(p,c),f,r,u));return h}updateRangeFromParsed(t,e,s,i){super.updateRangeFromParsed(t,e,s,i);const n=s._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:i}=e,n=this.getParsed(t),r=n._custom,o=mu(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(n[i.axis]);return{label:""+s.getLabelForValue(n[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,i){const n="reset"===i,{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,i);for(let d=e;d<e+s;d++){const e=this.getParsed(d),s=n||Il(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:s.base,enableBorderRadius:!p||mu(e._custom)||r===p._top||r===p._bottom,x:l?s.head:f.center,y:l?f.center:s.head,height:l?f.size:Math.abs(s.size),width:l?Math.abs(s.size):f.size};u&&(g.options=h||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;bu(g,m,p,r),_u(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),n=s.options.stacked,r=[],o=this._cachedMeta.controller.getParsed(e),a=o&&o[s.axis],l=t=>{const e=t._parsed.find((t=>t[s.axis]===a)),i=e&&e[t.vScale.axis];if(Il(i)||isNaN(i))return!0};for(const c of i)if((void 0===e||!l(c))&&((!1===n||-1===r.indexOf(c.stack)||void 0===n&&void 0===c.stack)&&r.push(c.stack),c.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,s){const i=this._getStacks(t,s),n=void 0!==e?i.indexOf(e):-1;return-1===n?i.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,i=[];let n,r;for(n=0,r=e.data.length;n<r;++n)i.push(s.getPixelForValue(this.getParsed(n)[s.axis],n));const o=t.barThickness;return{min:o||fu(e),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:i},options:{base:n,minBarLength:r}}=this,o=n||0,a=this.getParsed(t),l=a._custom,c=mu(l);let h,u,d=a[e.axis],f=0,p=s?this.applyStack(e,a,s):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&hc(d)!==hc(l.barEnd)&&(f=0),f+=d);const g=Il(n)||c?f:n;let m=e.getPixelForValue(g);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,u=h-m,Math.abs(u)<r){u=function(t,e,s){return 0!==t?hc(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}(u,e,o)*r,d===o&&(m-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),l=Math.min(t,n),f=Math.max(t,n);m=Math.max(Math.min(m,f),l),h=m+u,s&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(h)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=hc(u)*e.getLineWidthForValue(o)/2;m+=t,u-=t}return{size:u,base:m,head:h,center:h+u/2}}_calculateBarIndexPixels(t,e){const s=e.scale,i=this.options,n=i.skipNull,r=Nl(i.maxBarThickness,1/0);let o,a;if(e.grouped){const s=n?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,s,i){const n=e.pixels,r=n[t];let o=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null;const l=s.categoryPercentage;null===o&&(o=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:s.barPercentage,start:c}}(t,e,i,s):function(t,e,s,i){const n=s.barThickness;let r,o;return Il(n)?(r=e.min*s.categoryPercentage,o=s.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}(t,e,i,s),c=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(r,l.chunk*l.ratio)}else o=s.getPixelForValue(this.getParsed(t)[s.axis],t),a=Math.min(r,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,i=s.length;let n=0;for(;n<i;++n)null===this.getParsed(n)[e.axis]||s[n].hidden||s[n].draw(this._ctx)}}i(xu,"id","bar"),i(xu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),i(xu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class wu extends du{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=s;else{let n,r,o=t=>+s[t];if(Ll(s[t])){const{key:t="value"}=this._parsing;o=e=>+Xl(s[e],t)}for(n=t,r=t+e;n<r;++n)i._parsed[n]=o(n)}}_getRotation(){return gc(this.options.rotation-90)}_getCircumference(){return gc(this.options.circumference)}_getRotationExtents(){let t=ic,e=-ic;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,n=i._getRotation(),r=i._getCircumference();t=Math.min(t,n),e=Math.max(e,n+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,i=this._cachedMeta,n=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-r)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const h=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,s){let i=1,n=1,r=0,o=0;if(e<ic){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>_c(t,a,l,!0)?1:Math.max(e,e*s,i,i*s),p=(t,e,i)=>_c(t,a,l,!0)?-1:Math.min(e,e*s,i,i*s),g=f(0,c,u),m=f(oc,h,d),b=p(sc,c,u),v=p(sc+oc,h,d);i=(g-b)/2,n=(m-v)/2,r=-(g+b)/2,o=-(m+v)/2}return{ratioX:i,ratioY:n,offsetX:r,offsetY:o}}(d,u,a),b=(s.width-r)/f,v=(s.height-r)/p,y=Math.max(Math.min(b,v)/2,0),_=Ul(this.options.radius,y),x=(_-Math.max(_*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=m*_,i.total=this.calculateTotal(),this.outerRadius=_-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*h,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const s=this.options,i=this._cachedMeta,n=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*n/ic)}updateElements(t,e,s,i){const n="reset"===i,r=this.chart,o=r.chartArea,a=r.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,h=n&&a.animateScale,u=h?0:this.innerRadius,d=h?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,n);for(g=e;g<e+s;++g){const e=this._circumference(g,n),s=t[g],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:u};p&&(r.options=f||this.resolveDataElementOptions(g,s.active?"active":i)),m+=e,this.updateElement(s,g,r,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s,i=0;for(s=0;s<e.length;s++){const n=t._parsed[s];null===n||isNaN(n)||!this.chart.getDataVisibility(s)||e[s].hidden||(i+=Math.abs(n))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ic*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],n=Bc(e._parsed[t],s.options.locale);return{label:i[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const s=this.chart;let i,n,r,o,a;if(!t)for(i=0,n=s.data.datasets.length;i<n;++i)if(s.isDatasetVisible(i)){r=s.getDatasetMeta(i),t=r.data,o=r.controller;break}if(!t)return 0;for(i=0,n=t.length;i<n;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,i=t.length;s<i;++s){const t=this.resolveDataElementOptions(s);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Nl(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}i(wu,"id","doughnut"),i(wu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),i(wu,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),i(wu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map(((e,n)=>{const r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class ku extends wu{}function Su(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}i(ku,"id","pie"),i(ku,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Tu{constructor(t){i(this,"options"),this.options=t||{}}static override(t){Object.assign(Tu.prototype,t)}init(){}formats(){return Su()}parse(){return Su()}format(){return Su()}add(){return Su()}diff(){return Su()}startOf(){return Su()}endOf(){return Su()}}var Ou=Tu;function Pu(t,e,s,i){const{controller:n,data:r,_sorted:o}=t,a=n._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&r.length){const o=a._reversePixels?Tc:Sc;if(!i){const i=o(r,e,s);if(l){const{vScale:e}=n._cachedMeta,{_parsed:s}=t,r=s.slice(0,i.lo+1).reverse().findIndex((t=>!Il(t[e.axis])));i.lo-=Math.max(0,r);const o=s.slice(i.hi).findIndex((t=>!Il(t[e.axis])));i.hi+=Math.max(0,o)}return i}if(n._sharedOptions){const t=r[0],i="function"==typeof t.getRange&&t.getRange(e);if(i){const t=o(r,e,s-i),n=o(r,e,s+i);return{lo:t.lo,hi:n.hi}}}}return{lo:0,hi:r.length-1}}function Cu(t,e,s,i,n){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:t,data:s}=r[a],{lo:l,hi:c}=Pu(r[a],e,o,n);for(let e=l;e<=c;++e){const n=s[e];n.skip||i(n,t,e)}}}function Mu(t,e,s,i,n){const r=[];if(!n&&!t.isPointInArea(e))return r;return Cu(t,s,e,(function(s,o,a){(n||nh(s,t.chartArea,0))&&s.inRange(e.x,e.y,i)&&r.push({element:s,datasetIndex:o,index:a})}),!0),r}function Eu(t,e,s,i,n,r){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),s=-1!==t.indexOf("y");return function(t,i){const n=e?Math.abs(t.x-i.x):0,r=s?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}}(s);let l=Number.POSITIVE_INFINITY;return Cu(t,s,e,(function(s,c,h){const u=s.inRange(e.x,e.y,n);if(i&&!u)return;const d=s.getCenterPoint(n);if(!(!!r||t.isPointInArea(d))&&!u)return;const f=a(e,d);f<l?(o=[{element:s,datasetIndex:c,index:h}],l=f):f===l&&o.push({element:s,datasetIndex:c,index:h})})),o}function Au(t,e,s,i,n,r){return r||t.isPointInArea(e)?"r"!==s||i?Eu(t,e,s,i,n,r):function(t,e,s,i){let n=[];return Cu(t,s,e,(function(t,s,r){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=vc(t,{x:e.x,y:e.y});_c(l,o,a)&&n.push({element:t,datasetIndex:s,index:r})})),n}(t,e,s,n):[]}function Ru(t,e,s,i,n){const r=[],o="x"===s?"inXRange":"inYRange";let a=!1;return Cu(t,s,e,((t,i,l)=>{t[o]&&t[o](e[s],n)&&(r.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,n))})),i&&!a?[]:r}var ju={evaluateInteractionItems:Cu,modes:{index(t,e,s,i){const n=Uh(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?Mu(t,n,r,i,o):Au(t,n,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,s=t.data[e];s&&!s.skip&&l.push({element:s,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,s,i){const n=Uh(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?Mu(t,n,r,i,o):Au(t,n,r,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,s=t.getDatasetMeta(e).data;a=[];for(let t=0;t<s.length;++t)a.push({element:s[t],datasetIndex:e,index:t})}return a},point:(t,e,s,i)=>Mu(t,Uh(e,t),s.axis||"xy",i,s.includeInvisible||!1),nearest(t,e,s,i){const n=Uh(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return Au(t,n,r,s.intersect,i,o)},x:(t,e,s,i)=>Ru(t,Uh(e,t),"x",s.intersect,i),y:(t,e,s,i)=>Ru(t,Uh(e,t),"y",s.intersect,i)}};const Iu=["left","top","right","bottom"];function Du(t,e){return t.filter((t=>t.pos===e))}function Lu(t,e){return t.filter((t=>-1===Iu.indexOf(t.pos)&&t.box.axis===e))}function $u(t,e){return t.sort(((t,s)=>{const i=e?s:t,n=e?t:s;return i.weight===n.weight?i.index-n.index:i.weight-n.weight}))}function Fu(t,e){const s=function(t){const e={};for(const s of t){const{stack:t,pos:i,stackWeight:n}=s;if(!t||!Iu.includes(i))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=n}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:o}=a.box,l=s[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=n):(a.width=i,a.height=c?c*n:o&&e.availableHeight)}return s}function Nu(t,e,s,i){return Math.max(t[s],e[s])+Math.max(t[i],e[i])}function Uu(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Vu(t,e,s,i){const{pos:n,box:r}=s,o=t.maxPadding;if(!Ll(n)){s.size&&(t[n]-=s.size);const e=i[s.stack]||{size:0,count:1};e.size=Math.max(e.size,s.horizontal?r.height:r.width),s.size=e.size/e.count,t[n]+=s.size}r.getPadding&&Uu(o,r.getPadding());const a=Math.max(0,e.outerWidth-Nu(o,t,"left","right")),l=Math.max(0,e.outerHeight-Nu(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:h}:{same:h,other:c}}function zu(t,e){const s=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],s[t])})),i}return i(t?["left","right"]:["top","bottom"])}function Bu(t,e,s,i){const n=[];let r,o,a,l,c,h;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,zu(a.horizontal,e));const{same:o,other:u}=Vu(e,s,a,i);c|=o&&n.length,h=h||u,l.fullSize||n.push(a)}return c&&Bu(n,e,s,i)||h}function Hu(t,e,s,i,n){t.top=s,t.left=e,t.right=e+i,t.bottom=s+n,t.width=i,t.height=n}function Wu(t,e,s,i){const n=s.padding;let{x:r,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,r=l.size||t.height;Zl(l.start)&&(o=l.start),t.fullSize?Hu(t,n.left,o,s.outerWidth-n.right-n.left,r):Hu(t,e.left+l.placed,o,i,r),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;Zl(l.start)&&(r=l.start),t.fullSize?Hu(t,r,n.top,o,s.outerHeight-n.bottom-n.top):Hu(t,r,e.top+l.placed,o,i),l.start=r,l.placed+=i,r=t.right}}e.x=r,e.y=o}var qu={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;-1!==s&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,i){if(!t)return;const n=bh(t.options.layout.padding),r=Math.max(e-n.width,0),o=Math.max(s-n.height,0),a=function(t){const e=function(t){const e=[];let s,i,n,r,o,a;for(s=0,i=(t||[]).length;s<i;++s)n=t[s],({position:r,options:{stack:o,stackWeight:a=1}}=n),e.push({index:s,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return e}(t),s=$u(e.filter((t=>t.box.fullSize)),!0),i=$u(Du(e,"left"),!0),n=$u(Du(e,"right")),r=$u(Du(e,"top"),!0),o=$u(Du(e,"bottom")),a=Lu(e,"x"),l=Lu(e,"y");return{fullSize:s,leftAndTop:i.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:Du(e,"chartArea"),vertical:i.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;zl(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const h=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,u=Object.freeze({outerWidth:e,outerHeight:s,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},n);Uu(d,bh(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),p=Fu(l.concat(c),u);Bu(a.fullSize,f,u,p),Bu(l,f,u,p),Bu(c,f,u,p)&&Bu(l,f,u,p),function(t){const e=t.maxPadding;function s(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}(f),Wu(a.leftAndTop,f,u,p),f.x+=f.w,f.y+=f.h,Wu(a.rightAndBottom,f,u,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},zl(a.chartArea,(e=>{const s=e.box;Object.assign(s,t.chartArea),s.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Ku{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return!0}updateConfig(t){}}class Gu extends Ku{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ju="$chartjs",Yu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xu=t=>null===t||""===t;const Qu=!!Hh&&{passive:!0};function Zu(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Qu)}function td(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function ed(t,e,s){const i=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const s of t)e=e||td(s.addedNodes,i),e=e&&!td(s.removedNodes,i);e&&s()}));return n.observe(document,{childList:!0,subtree:!0}),n}function sd(t,e,s){const i=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const s of t)e=e||td(s.removedNodes,i),e=e&&!td(s.addedNodes,i);e&&s()}));return n.observe(document,{childList:!0,subtree:!0}),n}const id=new Map;let nd=0;function rd(){const t=window.devicePixelRatio;t!==nd&&(nd=t,id.forEach(((e,s)=>{s.currentDevicePixelRatio!==t&&e()})))}function od(t,e,s){const i=t.canvas,n=i&&Dh(i);if(!n)return;const r=Ec(((t,e)=>{const i=n.clientWidth;s(t,e),i<n.clientWidth&&s()}),window),o=new ResizeObserver((t=>{const e=t[0],s=e.contentRect.width,i=e.contentRect.height;0===s&&0===i||r(s,i)}));return o.observe(n),function(t,e){id.size||window.addEventListener("resize",rd),id.set(t,e)}(t,r),o}function ad(t,e,s){s&&s.disconnect(),"resize"===e&&function(t){id.delete(t),id.size||window.removeEventListener("resize",rd)}(t)}function ld(t,e,s){const i=t.canvas,n=Ec((e=>{null!==t.ctx&&s(function(t,e){const s=Yu[t.type]||t.type,{x:i,y:n}=Uh(t,e);return{type:s,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==n?n:null}}(e,t))}),t);return function(t,e,s){t&&t.addEventListener(e,s,Qu)}(i,e,n),n}class cd extends Ku{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(function(t,e){const s=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[Ju]={initial:{height:i,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Xu(n)){const e=Wh(t,"width");void 0!==e&&(t.width=e)}if(Xu(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Wh(t,"height");void 0!==e&&(t.height=e)}}(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Ju])return!1;const s=e[Ju].initial;["height","width"].forEach((t=>{const i=s[t];Il(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=s.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[Ju],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),n={attach:ed,detach:sd,resize:od}[e]||ld;i[e]=n(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];if(!i)return;({attach:ad,detach:ad,resize:ad}[e]||Zu)(t,e,i),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return zh(t,e,s,i)}isAttached(t){const e=t&&Dh(t);return!(!e||!e.isConnected)}}let hd=(t=class{constructor(){i(this,"x"),i(this,"y"),i(this,"active",!1),i(this,"options"),i(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return fc(this.x)&&fc(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach((t=>{i[t]=s[t]&&s[t].active()?s[t]._to:this[t]})),i}},i(t,"defaults",{}),i(t,"defaultRoutes"),t);function ud(t,e){const s=t.options.ticks,i=function(t){const e=t.options.offset,s=t._tickSize(),i=t._length/s+(e?0:1),n=t._maxLength/s;return Math.floor(Math.min(i,n))}(t),n=Math.min(s.maxTicksLimit||i,i),r=s.major.enabled?function(t){const e=[];let s,i;for(s=0,i=t.length;s<i;s++)t[s].major&&e.push(s);return e}(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return function(t,e,s,i){let n,r=0,o=s[0];for(i=Math.ceil(i),n=0;n<t.length;n++)n===o&&(e.push(t[n]),r++,o=s[r*i])}(e,c,r,o/n),c;const h=function(t,e,s){const i=function(t){const e=t.length;let s,i;if(e<2)return!1;for(i=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==i)return!1;return i}(t),n=e.length/s;if(!i)return Math.max(n,1);const r=function(t){const e=[],s=Math.sqrt(t);let i;for(i=1;i<s;i++)t%i==0&&(e.push(i),e.push(t/i));return s===(0|s)&&e.push(s),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let o=0,a=r.length-1;o<a;o++){const t=r[o];if(t>n)return t}return Math.max(n,1)}(r,e,n);if(o>0){let t,s;const i=o>1?Math.round((l-a)/(o-1)):null;for(dd(e,c,h,Il(i)?0:a-i,a),t=0,s=o-1;t<s;t++)dd(e,c,h,r[t],r[t+1]);return dd(e,c,h,l,Il(i)?e.length:l+i),c}return dd(e,c,h),c}function dd(t,e,s,i,n){const r=Nl(i,0),o=Math.min(Nl(n,t.length),t.length);let a,l,c,h=0;for(s=Math.ceil(s),n&&(a=n-i,s=a/Math.floor(a/s)),c=r;c<0;)h++,c=Math.round(r+h*s);for(l=Math.max(r,0);l<o;l++)l===c&&(e.push(t[l]),h++,c=Math.round(r+h*s))}const fd=(t,e,s)=>"top"===e||"left"===e?t[e]+s:t[e]-s,pd=(t,e)=>Math.min(e||t,t);function gd(t,e){const s=[],i=t.length/e,n=t.length;let r=0;for(;r<n;r+=i)s.push(t[Math.floor(r)]);return s}function md(t,e,s){const i=t.ticks.length,n=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(n);if(!(s&&(l=1===i?Math.max(c-r,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(n-1))/2,c+=n<e?l:-l,c<r-a||c>o+a)))return c}function bd(t){return t.drawTicks?t.tickLength:0}function vd(t,e){if(!t.display)return 0;const s=vh(t.font,e),i=bh(t.padding);return(Dl(t.text)?t.text.length:1)*s.lineHeight+i.height}function yd(t,e,s){let i=Ac(t);return(s&&"right"!==e||!s&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class _d extends hd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:i}=this;return t=Fl(t,Number.POSITIVE_INFINITY),e=Fl(e,Number.NEGATIVE_INFINITY),s=Fl(s,Number.POSITIVE_INFINITY),i=Fl(i,Number.NEGATIVE_INFINITY),{min:Fl(t,s),max:Fl(e,i),minDefined:$l(t),maxDefined:$l(e)}}getMinMax(t){let e,{min:s,max:i,minDefined:n,maxDefined:r}=this.getUserBounds();if(n&&r)return{min:s,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),n||(s=Math.min(s,e.min)),r||(i=Math.max(i,e.max));return s=r&&s>i?i:s,i=n&&s>i?s:i,{min:Fl(s,Fl(i,s)),max:Fl(i,Fl(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vl(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:i,grace:n,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,s){const{min:i,max:n}=t,r=Ul(e,(n-i)/2),o=(t,e)=>s&&0===t?0:t+e;return{min:o(i,-Math.abs(r)),max:o(n,r)}}(this,n,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?gd(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=ud(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,s=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,s=!s),this._startPixel=t,this._endPixel=e,this._reversePixels=s,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vl(this.options.afterUpdate,[this])}beforeSetDimensions(){Vl(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vl(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Vl(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vl(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,i,n;for(s=0,i=t.length;s<i;s++)n=t[s],n.label=Vl(e.callback,[n.value,s,t],this)}afterTickToLabelConversion(){Vl(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vl(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=pd(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,n=e.maxRotation;let r,o,a,l=i;if(!this._isVisible()||!e.display||i>=n||s<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),h=c.widest.width,u=c.highest.height,d=xc(this.chart.width-h,0,this.maxWidth);r=t.offset?this.maxWidth/s:d/(s-1),h+6>r&&(r=d/(s-(t.offset?.5:1)),o=this.maxHeight-bd(t.grid)-e.padding-vd(t.title,this.chart.options.font),a=Math.sqrt(h*h+u*u),l=mc(Math.min(Math.asin(xc((c.highest.height+6)/r,-1,1)),Math.asin(xc(o/a,-1,1))-Math.asin(xc(u/a,-1,1)))),l=Math.max(i,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){Vl(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vl(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:n}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const r=vd(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=bd(n)+r):(t.height=this.maxHeight,t.width=bd(n)+r),s.display&&this.ticks.length){const{first:e,last:i,widest:n,highest:r}=this._getLabelSizes(),a=2*s.padding,l=gc(this.labelRotation),c=Math.cos(l),h=Math.sin(l);if(o){const e=s.mirror?0:h*n.width+c*r.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=s.mirror?0:c*n.width+h*r.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,h,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,i){const{ticks:{align:n,padding:r},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,u=0;a?l?(h=i*t.width,u=s*e.height):(h=s*t.height,u=i*e.width):"start"===n?u=e.width:"end"===n?h=t.width:"inner"!==n&&(h=t.width/2,u=e.width/2),this.paddingLeft=Math.max((h-o+r)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let s=e.height/2,i=t.height/2;"start"===n?(s=0,i=t.height):"end"===n&&(s=e.height,i=0),this.paddingTop=s+r,this.paddingBottom=i+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vl(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,s=t.length;e<s;e++)Il(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=gd(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:i,_longestTextCache:n}=this,r=[],o=[],a=Math.floor(e/pd(e,s));let l,c,h,u,d,f,p,g,m,b,v,y=0,_=0;for(l=0;l<e;l+=a){if(u=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=n[f]=n[f]||{data:{},gc:[]},g=d.lineHeight,m=b=0,Il(u)||Dl(u)){if(Dl(u))for(c=0,h=u.length;c<h;++c)v=u[c],Il(v)||Dl(v)||(m=Qc(i,p.data,p.gc,m,v),b+=g)}else m=Qc(i,p.data,p.gc,m,u),b=g;r.push(m),o.push(b),y=Math.max(m,y),_=Math.max(b,_)}!function(t,e){zl(t,(t=>{const s=t.gc,i=s.length/2;let n;if(i>e){for(n=0;n<i;++n)delete t.data[s[n]];s.splice(0,i)}}))}(n,e);const x=r.indexOf(y),w=o.indexOf(_),k=t=>({width:r[t]||0,height:o[t]||0});return{first:k(0),last:k(e-1),widest:k(x),highest:k(w),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return xc(this._alignToPixels?th(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=function(t,e,s){return _h(t,{tick:s,index:e,type:"tick"})}(this.getContext(),t,s))}return this.$context||(this.$context=_h(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=gc(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),n=this._getLabelSizes(),r=t.autoSkipPadding||0,o=n?n.widest.width+r:0,a=n?n.highest.height+r:0;return this.isHorizontal()?a*s>o*i?o/s:a/i:a*i<o*s?a/s:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,i=this.options,{grid:n,position:r,border:o}=i,a=n.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),h=bd(n),u=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return th(s,t,f)};let m,b,v,y,_,x,w,k,S,T,O,P;if("top"===r)m=g(this.bottom),x=this.bottom-h,k=m-p,T=g(t.top)+p,P=t.bottom;else if("bottom"===r)m=g(this.top),T=t.top,P=g(t.bottom)-p,x=m+p,k=this.top+h;else if("left"===r)m=g(this.right),_=this.right-h,w=m-p,S=g(t.left)+p,O=t.right;else if("right"===r)m=g(this.left),S=t.left,O=g(t.right)-p,_=m+p,w=this.left+h;else if("x"===e){if("center"===r)m=g((t.top+t.bottom)/2+.5);else if(Ll(r)){const t=Object.keys(r)[0],e=r[t];m=g(this.chart.scales[t].getPixelForValue(e))}T=t.top,P=t.bottom,x=m+p,k=x+h}else if("y"===e){if("center"===r)m=g((t.left+t.right)/2);else if(Ll(r)){const t=Object.keys(r)[0],e=r[t];m=g(this.chart.scales[t].getPixelForValue(e))}_=m-p,w=_-h,S=t.left,O=t.right}const C=Nl(i.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/C));for(b=0;b<c;b+=M){const t=this.getContext(b),e=n.setContext(t),i=o.setContext(t),r=e.lineWidth,c=e.color,h=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=md(this,b,a),void 0!==v&&(y=th(s,v,r),l?_=w=S=O=y:x=k=T=P=y,u.push({tx1:_,ty1:x,tx2:w,ty2:k,x1:S,y1:T,x2:O,y2:P,width:r,color:c,borderDash:h,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,u}_computeLabelItems(t){const e=this.axis,s=this.options,{position:i,ticks:n}=s,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:h}=n,u=bd(s.grid),d=u+c,f=h?-c:d,p=-gc(this.labelRotation),g=[];let m,b,v,y,_,x,w,k,S,T,O,P,C="middle";if("top"===i)x=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(u);w=t.textAlign,_=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(u);w=t.textAlign,_=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(Ll(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)_=(t.left+t.right)/2-d;else if(Ll(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===e&&("start"===a?C="top":"end"===a&&(C="bottom"));const M=this._getLabelSizes();for(m=0,b=o.length;m<b;++m){v=o[m],y=v.label;const t=n.setContext(this.getContext(m));k=this.getPixelForTick(m)+n.labelOffset,S=this._resolveTickFontOptions(m),T=S.lineHeight,O=Dl(y)?y.length:1;const e=O/2,s=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let u,d=w;if(r?(_=k,"inner"===w&&(d=m===b-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),P="top"===i?"near"===l||0!==p?-O*T+T/2:"center"===l?-M.highest.height/2-e*T+T:-M.highest.height+T/2:"near"===l||0!==p?T/2:"center"===l?M.highest.height/2-e*T:M.highest.height-O*T,h&&(P*=-1),0===p||t.showLabelBackdrop||(_+=T/2*Math.sin(p))):(x=k,P=(1-O)*T/2),t.showLabelBackdrop){const e=bh(t.backdropPadding),s=M.heights[m],i=M.widths[m];let n=P-e.top,r=0-e.left;switch(C){case"middle":n-=s/2;break;case"bottom":n-=s}switch(w){case"center":r-=i/2;break;case"right":r-=i;break;case"inner":m===b-1?r-=i:m>0&&(r-=i/2)}u={left:r,top:n,width:i+e.width,height:s+e.height,color:t.backdropColor}}g.push({label:y,font:S,textOffset:P,options:{rotation:p,color:s,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:C,translation:[_,x],backdrop:u}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-gc(this.labelRotation))return"top"===t?"left":"right";let s="center";return"start"===e.align?s="left":"end"===e.align?s="right":"inner"===e.align&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:n}}=this.options,r=t+n,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+n,"near"===s?a="left":"center"===s?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-r,"near"===s?a="right":"center"===s?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+n,"near"===s?a="right":"center"===s?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+r,"near"===s?a="left":"center"===s?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:n,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,n,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex((e=>e.value===t));if(s>=0){return e.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,r;const o=(t,e,i)=>{i.width&&i.color&&(s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.setLineDash(i.borderDash||[]),s.lineDashOffset=i.borderDashOffset,s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(e.x,e.y),s.stroke(),s.restore())};if(e.display)for(n=0,r=i.length;n<r;++n){const t=i[n];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,n=s.setContext(this.getContext()),r=s.display?n.width:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,h,u;this.isHorizontal()?(l=th(t,this.left,r)-r/2,c=th(t,this.right,o)+o/2,h=u=a):(h=th(t,this.top,r)-r/2,u=th(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(l,h),e.lineTo(c,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,s=this._computeLabelArea();s&&rh(e,s);const i=this.getLabelItems(t);for(const n of i){const t=n.options,s=n.font;ch(e,n.label,0,n.textOffset,s,t)}s&&oh(e)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const n=vh(s.font),r=bh(s.padding),o=s.align;let a=n.lineHeight/2;"bottom"===e||"center"===e||Ll(e)?(a+=r.bottom,Dl(s.text)&&(a+=n.lineHeight*(s.text.length-1))):a+=r.top;const{titleX:l,titleY:c,maxWidth:h,rotation:u}=function(t,e,s,i){const{top:n,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let u,d,f,p=0;const g=o-n,m=a-r;if(t.isHorizontal()){if(d=Rc(i,r,a),Ll(s)){const t=Object.keys(s)[0],i=s[t];f=h[t].getPixelForValue(i)+g-e}else f="center"===s?(c.bottom+c.top)/2+g-e:fd(t,s,e);u=a-r}else{if(Ll(s)){const t=Object.keys(s)[0],i=s[t];d=h[t].getPixelForValue(i)-m+e}else d="center"===s?(c.left+c.right)/2-m+e:fd(t,s,e);f=Rc(i,o,n),p="left"===s?-oc:oc}return{titleX:d,titleY:f,maxWidth:u,rotation:p}}(this,a,e,o);ch(t,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:u,textAlign:yd(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Nl(t.grid&&t.grid.z,-1),i=Nl(t.border&&t.border.z,0);return this._isVisible()&&this.draw===_d.prototype.draw?[{z:s,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let n,r;for(n=0,r=e.length;n<r;++n){const r=e[n];r[s]!==this.id||t&&r.type!==t||i.push(r)}return i}_resolveTickFontOptions(t){return vh(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class xd{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;(function(t){return"id"in t&&"defaults"in t})(e)&&(s=this.register(e));const i=this.items,n=t.id,r=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in i||(i[n]=t,function(t,e,s){const i=Kl(Object.create(null),[s?Xc.get(s):{},Xc.get(e),t.defaults]);Xc.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((s=>{const i=s.split("."),n=i.pop(),r=[t].concat(i).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");Xc.route(r,n,l,a)}))}(e,t.defaultRoutes);t.descriptors&&Xc.describe(e,t.descriptors)}(t,r,s),this.override&&Xc.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in Xc[i]&&(delete Xc[i][s],this.override&&delete qc[s])}}class wd{constructor(){this.controllers=new xd(du,"datasets",!0),this.elements=new xd(hd,"elements"),this.plugins=new xd(Object,"plugins"),this.scales=new xd(_d,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach((e=>{const i=s||this._getRegistryForType(e);s||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):zl(e,(e=>{const i=s||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,s){const i=Ql(t);Vl(s["before"+i],[],s),e[t](s),Vl(s["after"+i],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var kd=new wd;class Sd{constructor(){this._init=[]}notify(t,e,s,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(n,t,e,s);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,s,i){i=i||{};for(const n of t){const t=n.plugin;if(!1===Vl(t[s],[e,i,n.options],t)&&i.cancelable)return!1}return!0}invalidate(){Il(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,i=Nl(s.options&&s.options.plugins,{}),n=function(t){const e={},s=[],i=Object.keys(kd.plugins.items);for(let r=0;r<i.length;r++)s.push(kd.getPlugin(i[r]));const n=t.plugins||[];for(let r=0;r<n.length;r++){const t=n[r];-1===s.indexOf(t)&&(s.push(t),e[t.id]=!0)}return{plugins:s,localIds:e}}(s);return!1!==i||e?function(t,{plugins:e,localIds:s},i,n){const r=[],o=t.getContext();for(const a of e){const e=a.id,l=Td(i[e],n);null!==l&&r.push({plugin:a,options:Od(t.config,{plugin:a,local:s[e]},l,o)})}return r}(t,n,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,s),t,"stop"),this._notify(i(s,e),t,"start")}}function Td(t,e){return e||!1!==t?!0===t?{}:t:null}function Od(t,{plugin:e,local:s},i,n){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pd(t,e){const s=Xc.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function Cd(t){if("x"===t||"y"===t||"r"===t)return t}function Md(t,...e){if(Cd(t))return t;for(const i of e){const e=i.axis||("top"===(s=i.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||t.length>1&&Cd(t[0].toLowerCase());if(e)return e}var s;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ed(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function Ad(t,e){const s=qc[t.type]||{scales:{}},i=e.scales||{},n=Pd(t.type,e),r=Object.create(null);return Object.keys(i).forEach((e=>{const o=i[e];if(!Ll(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=Md(e,o,function(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(s.length)return Ed(t,"x",s[0])||Ed(t,"y",s[0])}return{}}(e,t),Xc.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,n),c=s.scales||{};r[e]=Gl(Object.create(null),[{axis:a},o,c[a],c[l]])})),t.data.datasets.forEach((s=>{const n=s.type||t.type,o=s.indexAxis||Pd(n,e),a=(qc[n]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let s=t;return"_index_"===t?s=e:"_value_"===t&&(s="x"===e?"y":"x"),s}(t,o),n=s[e+"AxisID"]||e;r[n]=r[n]||Object.create(null),Gl(r[n],[{axis:e},i[n],a[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];Gl(e,[Xc.scales[e.type],Xc.scale])})),r}function Rd(t){const e=t.options||(t.options={});e.plugins=Nl(e.plugins,{}),e.scales=Ad(t,e)}function jd(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Id=new Map,Dd=new Set;function Ld(t,e){let s=Id.get(t);return s||(s=e(),Id.set(t,s),Dd.add(s)),s}const $d=(t,e,s)=>{const i=Xl(e,s);void 0!==i&&t.add(i)};class Fd{constructor(t){this._config=function(t){return(t=t||{}).data=jd(t.data),Rd(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jd(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Rd(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ld(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return Ld(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return Ld(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return Ld(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const s=this._scopeCache;let i=s.get(t);return i&&!e||(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:n}=this,r=this._cachedScopes(t,s),o=r.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>$d(a,t,e)))),e.forEach((t=>$d(a,i,t))),e.forEach((t=>$d(a,qc[n]||{},t))),e.forEach((t=>$d(a,Xc,t))),e.forEach((t=>$d(a,Kc,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Dd.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,qc[e]||{},Xc.datasets[e]||{},{type:e},Xc,Kc]}resolveNamedOptions(t,e,s,i=[""]){const n={$shared:!0},{resolver:r,subPrefixes:o}=Nd(this._resolverCache,t,i);let a=r;if(function(t,e){const{isScriptable:s,isIndexable:i}=kh(t);for(const n of e){const e=s(n),r=i(n),o=(r||e)&&t[n];if(e&&(tc(o)||Ud(o))||r&&Dl(o))return!0}return!1}(r,e)){n.$shared=!1;a=wh(r,s=tc(s)?s():s,this.createResolver(t,s,o))}for(const l of e)n[l]=a[l];return n}createResolver(t,e,s=[""],i){const{resolver:n}=Nd(this._resolverCache,t,s);return Ll(e)?wh(n,e,void 0,i):n}}function Nd(t,e,s){let i=t.get(e);i||(i=new Map,t.set(e,i));const n=s.join();let r=i.get(n);if(!r){r={resolver:xh(e,s),subPrefixes:s.filter((t=>!t.toLowerCase().includes("hover")))},i.set(n,r)}return r}const Ud=t=>Ll(t)&&Object.getOwnPropertyNames(t).some((e=>tc(t[e])));const Vd=["top","bottom","left","right","chartArea"];function zd(t,e){return"top"===t||"bottom"===t||-1===Vd.indexOf(t)&&"x"===e}function Bd(t,e){return function(s,i){return s[t]===i[t]?s[e]-i[e]:s[t]-i[t]}}function Hd(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Vl(s&&s.onComplete,[t],e)}function Wd(t){const e=t.chart,s=e.options.animation;Vl(s&&s.onProgress,[t],e)}function qd(t){return Ih()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kd={},Gd=t=>{const e=qd(t);return Object.values(Kd).filter((t=>t.canvas===e)).pop()};function Jd(t,e,s){const i=Object.keys(t);for(const n of i){const i=+n;if(i>=e){const r=t[n];delete t[n],(s>0||i>e)&&(t[i+s]=r)}}}function Yd(t,e,s){return t.options.clip?t[s]:e[s]}let Xd=(e=class{static register(...t){kd.add(...t),Qd()}static unregister(...t){kd.remove(...t),Qd()}constructor(t,e){const s=this.config=new Fd(e),i=qd(t),n=Gd(i);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(t){return!Ih()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Gu:cd}(i)),this.platform.updateConfig(s);const o=this.platform.acquireContext(i,r.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=jl(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Sd,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let s;return function(...i){return e?(clearTimeout(s),s=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],Kd[this.id]=this,o&&a?(Yh.listen(this,"complete",Hd),Yh.listen(this,"progress",Wd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,_aspectRatio:n}=this;return Il(t)?e&&n?n:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return kd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eh(this.canvas,this.ctx),this}stop(){return Yh.stop(this),this}resize(t,e){Yh.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,i=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,e,n),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Bh(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),Vl(s.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){zl(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const s=e[t],i=Md(t,s),n="r"===i,r="x"===i;return{options:s,dposition:n?"chartArea":r?"bottom":"left",dtype:n?"radialLinear":r?"category":"linear"}})))),zl(n,(e=>{const n=e.options,r=n.id,o=Md(r,n),a=Nl(n.type,e.dtype);void 0!==n.position&&zd(n.position,o)===zd(e.dposition)||(n.position=e.dposition),i[r]=!0;let l=null;if(r in s&&s[r].type===a)l=s[r];else{l=new(kd.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),s[l.id]=l}l.init(n,t)})),zl(i,((t,e)=>{t||delete s[e]})),zl(s,(t=>{qu.configure(this,t,t.options),qu.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort(((t,e)=>t.index-e.index)),s>e){for(let t=e;t<s;++t)this._destroyDatasetMeta(t);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Bd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,s)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(s)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=e.length;s<i;s++){const i=e[s];let n=this.getDatasetMeta(s);const r=i.type||this.config.type;if(n.type&&n.type!==r&&(this._destroyDatasetMeta(s),n=this.getDatasetMeta(s)),n.type=r,n.indexAxis=i.indexAxis||Pd(r,this.options),n.order=i.order||0,n.index=s,n.label=""+i.label,n.visible=this.isDatasetVisible(s),n.controller)n.controller.updateIndex(s),n.controller.linkScales();else{const e=kd.getController(r),{datasetElementType:i,dataElementType:o}=Xc.datasets[r];Object.assign(e,{dataElementType:kd.getElement(o),datasetElementType:i&&kd.getElement(i)}),n.controller=new e(this,s),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){zl(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===n.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||zl(n,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Bd("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){zl(this.scales,(t=>{qu.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);ec(e,s)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:n}of e){Jd(t,i,"_removeElements"===s?-n:n)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=s(0);for(let n=1;n<e;n++)if(!ec(i,s(n)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qu.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],zl(this.boxes,(t=>{s&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,tc(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(s.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Yh.has(this)?this.attached&&!Yh.running(this)&&Yh.start(this):(this.draw(),Hd({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let i,n;for(i=0,n=e.length;i<n;++i){const n=e[i];t&&!n.visible||s.push(n)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,i=!s.disabled,n=function(t,e){const{xScale:s,yScale:i}=t;return s&&i?{left:Yd(s,e,"left"),right:Yd(s,e,"right"),top:Yd(i,e,"top"),bottom:Yd(i,e,"bottom")}:e}(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(i&&rh(e,{left:!1===s.left?0:n.left-s.left,right:!1===s.right?this.width:n.right+s.right,top:!1===s.top?0:n.top-s.top,bottom:!1===s.bottom?this.height:n.bottom+s.bottom}),t.controller.draw(),i&&oh(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return nh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,i){const n=ju.modes[e];return"function"==typeof n?n(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let i=s.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=_h(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return"boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const i=s?"show":"hide",n=this.getDatasetMeta(t),r=n.controller._resolveAnimations(void 0,i);Zl(e)?(n.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),r.update(n,{visible:s}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Yh.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),eh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(s,i)=>{e.addEventListener(this,s,i),t[s]=i},i=(t,e,s)=>{t.offsetX=e,t.offsetY=s,this._eventHandler(t)};zl(this.options.events,(t=>s(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(s,i)=>{e.addEventListener(this,s,i),t[s]=i},i=(s,i)=>{t[s]&&(e.removeEventListener(this,s,i),delete t[s])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const o=()=>{i("attach",o),this.attached=!0,this.resize(),s("resize",n),s("detach",r)};r=()=>{this.attached=!1,i("resize",n),this._stop(),this._resize(0,0),s("attach",o)},e.isAttached(this.canvas)?o():r()}unbindEvents(){zl(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},zl(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const i=s?"set":"remove";let n,r,o,a;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){r=t[o];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map((({datasetIndex:t,index:e})=>{const s=this.getDatasetMeta(t);if(!s)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:s.data[e],index:e}}));!Bl(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,s){const i=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=n(e,t),o=s?t:n(t,e);r.length&&this.updateHoverStyle(r,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",s,i))return;const n=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(n||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:i=[],options:n}=this,r=e,o=this._getActiveElements(t,i,s,r),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,s,i){return s&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,s,a);s&&(this._lastEvent=null,Vl(n.onHover,[t,o,this],this),a&&Vl(n.onClick,[t,o,this],this));const c=!Bl(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,s,i){if("mouseout"===t.type)return[];if(!s)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,i)}},i(e,"defaults",Xc),i(e,"instances",Kd),i(e,"overrides",qc),i(e,"registry",kd),i(e,"version","4.4.8"),i(e,"getChart",Gd),e);function Qd(){return zl(Xd.instances,(t=>t._plugins.invalidate()))}function Zd(t,e,s,i){const n=ph(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(s-e)/2,o=Math.min(r,i*e/2),a=t=>{const e=(s-Math.min(r,t))*i/2;return xc(t,0,Math.min(r,e))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:xc(n.innerStart,0,o),innerEnd:xc(n.innerEnd,0,o)}}function tf(t,e,s,i){return{x:s+t*Math.cos(e),y:i+t*Math.sin(e)}}function ef(t,e,s,i,n,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,u=Math.max(e.outerRadius+i+s-c,0),d=h>0?h+i+s+c:0;let f=0;const p=n-l;if(i){const t=((h>0?h-i:0)+(u>0?u-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*u-s/sc)/u)/2,m=l+g+f,b=n-g-f,{outerStart:v,outerEnd:y,innerStart:_,innerEnd:x}=Zd(e,d,u,b-m),w=u-v,k=u-y,S=m+v/w,T=b-y/k,O=d+_,P=d+x,C=m+_/O,M=b-x/P;if(t.beginPath(),r){const e=(S+T)/2;if(t.arc(o,a,u,S,e),t.arc(o,a,u,e,T),y>0){const e=tf(k,T,o,a);t.arc(e.x,e.y,y,T,b+oc)}const s=tf(P,b,o,a);if(t.lineTo(s.x,s.y),x>0){const e=tf(P,M,o,a);t.arc(e.x,e.y,x,b+oc,M+Math.PI)}const i=(b-x/d+(m+_/d))/2;if(t.arc(o,a,d,b-x/d,i,!0),t.arc(o,a,d,i,m+_/d,!0),_>0){const e=tf(O,C,o,a);t.arc(e.x,e.y,_,C+Math.PI,m-oc)}const n=tf(w,m,o,a);if(t.lineTo(n.x,n.y),v>0){const e=tf(w,S,o,a);t.arc(e.x,e.y,v,m-oc,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*u+o,s=Math.sin(S)*u+a;t.lineTo(e,s);const i=Math.cos(T)*u+o,n=Math.sin(T)*u+a;t.lineTo(i,n)}t.closePath()}function sf(t,e,s,i,n){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(u||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let p=e.endAngle;if(r){ef(t,e,s,i,p,n);for(let e=0;e<r;++e)t.stroke();isNaN(a)||(p=o+(a%ic||ic))}f&&function(t,e,s){const{startAngle:i,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=n/a;t.beginPath(),t.arc(r,o,a,i-c,s+c),l>n?(c=n/l,t.arc(r,o,l,s+c,i-c,!0)):t.arc(r,o,n,s+oc,i-oc),t.closePath(),t.clip()}(t,e,p),r||(ef(t,e,s,i,p,n),t.stroke())}class nf extends hd{constructor(t){super(),i(this,"circumference"),i(this,"endAngle"),i(this,"fullCircles"),i(this,"innerRadius"),i(this,"outerRadius"),i(this,"pixelMargin"),i(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.getProps(["x","y"],s),{angle:n,distance:r}=vc(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,d=Nl(h,a-o),f=_c(n,o,a)&&o!==a,p=d>=ic||f,g=wc(r,l+u,c+u);return p&&g}getCenterPoint(t){const{x:e,y:s,startAngle:i,endAngle:n,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(i+n)/2,h=(r+o+l+a)/2;return{x:e+Math.cos(c)*h,y:s+Math.sin(c)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,i=(e.offset||0)/4,n=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=s>ic?Math.floor(s/ic):0,0===s||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(sc,s||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,s,i,n){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){ef(t,e,s,i,l,n);for(let e=0;e<r;++e)t.fill();isNaN(a)||(l=o+(a%ic||ic))}ef(t,e,s,i,l,n),t.fill()}(t,this,a,n,r),sf(t,this,a,n,r),t.restore()}}function rf(t,e){const{x:s,y:i,base:n,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,u;return t.horizontal?(u=o/2,a=Math.min(s,n),l=Math.max(s,n),c=i-u,h=i+u):(u=r/2,a=s-u,l=s+u,c=Math.min(i,n),h=Math.max(i,n)),{left:a,top:c,right:l,bottom:h}}function of(t,e,s,i){return t?0:xc(e,s,i)}function af(t){const e=rf(t),s=e.right-e.left,i=e.bottom-e.top,n=function(t,e,s){const i=t.options.borderWidth,n=t.borderSkipped,r=gh(i);return{t:of(n.top,r.top,0,s),r:of(n.right,r.right,0,e),b:of(n.bottom,r.bottom,0,s),l:of(n.left,r.left,0,e)}}(t,s/2,i/2),r=function(t,e,s){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,r=mh(n),o=Math.min(e,s),a=t.borderSkipped,l=i||Ll(n);return{topLeft:of(!l||a.top||a.left,r.topLeft,0,o),topRight:of(!l||a.top||a.right,r.topRight,0,o),bottomLeft:of(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:of(!l||a.bottom||a.right,r.bottomRight,0,o)}}(t,s/2,i/2);return{outer:{x:e.left,y:e.top,w:s,h:i,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:s-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function lf(t,e,s,i){const n=null===e,r=null===s,o=t&&!(n&&r)&&rf(t,i);return o&&(n||wc(e,o.left,o.right))&&(r||wc(s,o.top,o.bottom))}function cf(t,e){t.rect(e.x,e.y,e.w,e.h)}function hf(t,e,s={}){const i=t.x!==s.x?-e:0,n=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-i,o=(t.y+t.h!==s.y+s.h?e:0)-n;return{x:t.x+i,y:t.y+n,w:t.w+r,h:t.h+o,radius:t.radius}}i(nf,"id","arc"),i(nf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),i(nf,"defaultRoutes",{backgroundColor:"backgroundColor"}),i(nf,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});class uf extends hd{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:i}}=this,{inner:n,outer:r}=af(this),o=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?hh:cf;var a;t.save(),r.w===n.w&&r.h===n.h||(t.beginPath(),o(t,hf(r,e,n)),t.clip(),o(t,hf(n,-e,r)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),o(t,hf(n,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,s){return lf(this,t,e,s)}inXRange(t,e){return lf(this,t,null,e)}inYRange(t,e){return lf(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:i,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+i)/2:e,y:n?s:(s+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}i(uf,"id","bar"),i(uf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),i(uf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const df=(t,e)=>{let{boxHeight:s=e,boxWidth:i=e}=t;return t.usePointStyle&&(s=Math.min(s,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(e,s)}};class ff extends hd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Vl(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,s)=>t.sort(e,s,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const s=t.labels,i=vh(s.font),n=i.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=df(s,n);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,n,o,a)+10):(c=this.maxHeight,l=this._fitCols(r,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,i){const{ctx:n,maxWidth:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let h=t;n.textAlign="left",n.textBaseline="middle";let u=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=s+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>r)&&(h+=c,l[l.length-(f>0?0:1)]=0,d+=c,u++),a[f]={left:0,top:d,row:u,width:p,height:i},l[l.length-1]+=p+o})),h}_fitCols(t,e,s,i){const{ctx:n,maxHeight:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-t;let h=o,u=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,r)=>{const{itemWidth:g,itemHeight:m}=function(t,e,s,i,n){const r=function(t,e,s,i){let n=t.text;n&&"string"!=typeof n&&(n=n.reduce(((t,e)=>t.length>e.length?t:e)));return e+s.size/2+i.measureText(n).width}(i,t,e,s),o=function(t,e,s){let i=t;"string"!=typeof e.text&&(i=pf(e,s));return i}(n,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}(s,e,n,t,i);r>0&&d+m+2*o>c&&(h+=u+o,l.push({width:u,height:d}),f+=u+o,p++,u=d=0),a[r]={left:f,top:d,col:p,width:g,height:m},u=Math.max(u,g),d+=m+o})),h+=u,l.push({width:u,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:n}}=this,r=qh(n,this.left,this.width);if(this.isHorizontal()){let n=0,o=Rc(s,this.left+i,this.right-this.lineWidths[n]);for(const a of e)n!==a.row&&(n=a.row,o=Rc(s,this.left+i,this.right-this.lineWidths[n])),a.top+=this.top+t+i,a.left=r.leftForLtr(r.x(o),a.width),o+=a.width+i}else{let n=0,o=Rc(s,this.top+t+i,this.bottom-this.columnSizes[n].height);for(const a of e)a.col!==n&&(n=a.col,o=Rc(s,this.top+t+i,this.bottom-this.columnSizes[n].height)),a.top=o,a.left+=this.left+i,a.left=r.leftForLtr(r.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;rh(t,this),this._draw(),oh(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:n,labels:r}=t,o=Xc.color,a=qh(t.rtl,this.left,this.width),l=vh(r.font),{padding:c}=r,h=l.size,u=h/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=df(r,h),m=this.isHorizontal(),b=this._computeTitleHeight();d=m?{x:Rc(n,this.left+c,this.right-s[0]),y:this.top+c+b,line:0}:{x:this.left+c,y:Rc(n,this.top+b+c,this.bottom-e[0].height),line:0},Kh(this.ctx,t.textDirection);const v=g+c;this.legendItems.forEach(((y,_)=>{i.strokeStyle=y.fontColor,i.fillStyle=y.fontColor;const x=i.measureText(y.text).width,w=a.textAlign(y.textAlign||(y.textAlign=r.textAlign)),k=f+u+x;let S=d.x,T=d.y;a.setWidth(this.width),m?_>0&&S+k+c>this.right&&(T=d.y+=v,d.line++,S=d.x=Rc(n,this.left+c,this.right-s[d.line])):_>0&&T+v>this.bottom&&(S=d.x=S+e[d.line].width+c,d.line++,T=d.y=Rc(n,this.top+b+c,this.bottom-e[d.line].height));if(function(t,e,s){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const n=Nl(s.lineWidth,1);if(i.fillStyle=Nl(s.fillStyle,o),i.lineCap=Nl(s.lineCap,"butt"),i.lineDashOffset=Nl(s.lineDashOffset,0),i.lineJoin=Nl(s.lineJoin,"miter"),i.lineWidth=n,i.strokeStyle=Nl(s.strokeStyle,o),i.setLineDash(Nl(s.lineDash,[])),r.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:n},l=a.xPlus(t,f/2);ih(i,o,l,e+u,r.pointStyleWidth&&f)}else{const r=e+Math.max((h-p)/2,0),o=a.leftForLtr(t,f),l=mh(s.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?hh(i,{x:o,y:r,w:f,h:p,radius:l}):i.rect(o,r,f,p),i.fill(),0!==n&&i.stroke()}i.restore()}(a.x(S),T,y),S=((t,e,s,i)=>t===(i?"left":"right")?s:"center"===t?(e+s)/2:e)(w,S+f+u,m?S+k:this.right,t.rtl),function(t,e,s){ch(i,s.text,t,e+g/2,l,{strikethrough:s.hidden,textAlign:a.textAlign(s.textAlign)})}(a.x(S),T,y),m)d.x+=k+c;else if("string"!=typeof y.text){const t=l.lineHeight;d.y+=pf(y,t)+c}else d.y+=v})),Gh(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=vh(e.font),i=bh(e.padding);if(!e.display)return;const n=qh(t.rtl,this.left,this.width),r=this.ctx,o=e.position,a=s.size/2,l=i.top+a;let c,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,h=Rc(t.align,h,this.right-u);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+Rc(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Rc(o,h,h+u);r.textAlign=n.textAlign(Ac(o)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=s.string,ch(r,e.text,d,c,s)}_computeTitleHeight(){const t=this.options.title,e=vh(t.font),s=bh(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,i,n;if(wc(t,this.left,this.right)&&wc(e,this.top,this.bottom))for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(i=n[s],wc(t,i.left,i.left+i.width)&&wc(e,i.top,i.top+i.height))return this.legendItems[s];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=(n=s,null!==(i=r)&&null!==n&&i.datasetIndex===n.datasetIndex&&i.index===n.index);r&&!o&&Vl(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!o&&Vl(e.onHover,[t,s,this],this)}else s&&Vl(e.onClick,[t,s,this],this);var i,n}}function pf(t,e){return e*(t.text?t.text.length:0)}var gf={id:"legend",_element:ff,start(t,e,s){const i=t.legend=new ff({ctx:t.ctx,options:s,chart:t});qu.configure(t,i,s),qu.addBox(t,i)},stop(t){qu.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const i=t.legend;qu.configure(t,i,s),i.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const i=e.datasetIndex,n=s.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(s?0:void 0),c=bh(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class mf extends hd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Dl(s.text)?s.text.length:1;this._padding=bh(s.padding);const n=i*vh(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:s,bottom:i,right:n,options:r}=this,o=r.align;let a,l,c,h=0;return this.isHorizontal()?(l=Rc(o,s,n),c=e+t,a=n-s):("left"===r.position?(l=s+t,c=Rc(o,i,e),h=-.5*sc):(l=n-t,c=Rc(o,e,i),h=.5*sc),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=vh(e.font),i=s.lineHeight/2+this._padding.top,{titleX:n,titleY:r,maxWidth:o,rotation:a}=this._drawArgs(i);ch(t,e.text,0,0,s,{color:e.color,maxWidth:o,rotation:a,textAlign:Ac(e.align),textBaseline:"middle",translation:[n,r]})}}var bf={id:"title",_element:mf,start(t,e,s){!function(t,e){const s=new mf({ctx:t.ctx,options:e,chart:t});qu.configure(t,s,e),qu.addBox(t,s),t.titleBlock=s}(t,s)},stop(t){const e=t.titleBlock;qu.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const i=t.titleBlock;qu.configure(t,i,s),i.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vf={average(t){if(!t.length)return!1;let e,s,i=new Set,n=0,r=0;for(e=0,s=t.length;e<s;++e){const s=t[e].element;if(s&&s.hasValue()){const t=s.tooltipPosition();i.add(t.x),n+=t.y,++r}}if(0===r||0===i.size)return!1;return{x:[...i].reduce(((t,e)=>t+e))/i.size,y:n/r}},nearest(t,e){if(!t.length)return!1;let s,i,n,r=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(s=0,i=t.length;s<i;++s){const i=t[s].element;if(i&&i.hasValue()){const t=i.getCenterPoint(),s=(l=e,c=t,Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)));s<a&&(a=s,n=i)}}var l,c;if(n){const t=n.tooltipPosition();r=t.x,o=t.y}return{x:r,y:o}}};function yf(t,e){return e&&(Dl(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function _f(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function xf(t,e){const{element:s,datasetIndex:i,index:n}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:t,label:o,parsed:r.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:s}}function wf(t,e){const s=t.chart.ctx,{body:i,footer:n,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=vh(e.bodyFont),c=vh(e.titleFont),h=vh(e.footerFont),u=r.length,d=n.length,f=i.length,p=bh(e.padding);let g=p.height,m=0,b=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(b+=t.beforeBody.length+t.afterBody.length,u&&(g+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*h.lineHeight+(d-1)*e.footerSpacing);let v=0;const y=function(t){m=Math.max(m,s.measureText(t).width+v)};return s.save(),s.font=c.string,zl(t.title,y),s.font=l.string,zl(t.beforeBody.concat(t.afterBody),y),v=e.displayColors?o+2+e.boxPadding:0,zl(i,(t=>{zl(t.before,y),zl(t.lines,y),zl(t.after,y)})),v=0,s.font=h.string,zl(t.footer,y),s.restore(),m+=p.width,{width:m,height:g}}function kf(t,e,s,i){const{x:n,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),function(t,e,s,i){const{x:n,width:r}=i,o=s.caretSize+s.caretPadding;return"left"===t&&n+r+o>e.width||"right"===t&&n-r-o<0||void 0}(c,t,e,s)&&(c="center"),c}function Sf(t,e,s){const i=s.yAlign||e.yAlign||function(t,e){const{y:s,height:i}=e;return s<i/2?"top":s>t.height-i/2?"bottom":"center"}(t,s);return{xAlign:s.xAlign||e.xAlign||kf(t,e,s,i),yAlign:i}}function Tf(t,e,s,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=n+r,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=mh(o);let p=function(t,e){let{x:s,width:i}=t;return"right"===e?s-=i:"center"===e&&(s-=i/2),s}(e,a);const g=function(t,e,s){let{y:i,height:n}=t;return"top"===e?i+=s:i-="bottom"===e?n+s:n/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(h,d)+n:"right"===a&&(p+=Math.max(u,f)+n),{x:xc(p,0,i.width-e.width),y:xc(g,0,i.height-e.height)}}function Of(t,e,s){const i=bh(s.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Pf(t){return yf([],_f(t))}function Cf(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const Mf={beforeTitle:Rl,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,i=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return s[e.dataIndex]}return""},afterTitle:Rl,beforeBody:Rl,beforeLabel:Rl,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Il(s)||(e+=s),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Rl,afterBody:Rl,beforeFooter:Rl,footer:Rl,afterFooter:Rl};function Ef(t,e,s,i){const n=t[e].call(s,i);return void 0===n?Mf[e].call(s,i):n}class Af extends hd{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,n=new tu(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,s=this._tooltipItems,_h(t,{tooltip:e,tooltipItems:s,type:"tooltip"})));var t,e,s}getTitle(t,e){const{callbacks:s}=e,i=Ef(s,"beforeTitle",this,t),n=Ef(s,"title",this,t),r=Ef(s,"afterTitle",this,t);let o=[];return o=yf(o,_f(i)),o=yf(o,_f(n)),o=yf(o,_f(r)),o}getBeforeBody(t,e){return Pf(Ef(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return zl(t,(t=>{const e={before:[],lines:[],after:[]},n=Cf(s,t);yf(e.before,_f(Ef(n,"beforeLabel",this,t))),yf(e.lines,Ef(n,"label",this,t)),yf(e.after,_f(Ef(n,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return Pf(Ef(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=Ef(s,"beforeFooter",this,t),n=Ef(s,"footer",this,t),r=Ef(s,"afterFooter",this,t);let o=[];return o=yf(o,_f(i)),o=yf(o,_f(n)),o=yf(o,_f(r)),o}_createItems(t){const e=this._active,s=this.chart.data,i=[],n=[],r=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(xf(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,n)=>t.filter(e,i,n,s)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,s)))),zl(l,(e=>{const s=Cf(t.callbacks,e);i.push(Ef(s,"labelColor",this,e)),n.push(Ef(s,"labelPointStyle",this,e)),r.push(Ef(s,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=n,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const s=this.options.setContext(this.getContext()),i=this._active;let n,r=[];if(i.length){const t=vf[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const e=this._size=wf(this,s),o=Object.assign({},t,e),a=Sf(this.chart,s,o),l=Tf(s,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=r,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,i){const n=this.getCaretPosition(t,s,i);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,s){const{xAlign:i,yAlign:n}=this,{caretSize:r,cornerRadius:o}=s,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:h}=mh(o),{x:u,y:d}=t,{width:f,height:p}=e;let g,m,b,v,y,_;return"center"===n?(y=d+p/2,"left"===i?(g=u,m=g-r,v=y+r,_=y-r):(g=u+f,m=g+r,v=y-r,_=y+r),b=g):(m="left"===i?u+Math.max(a,c)+r:"right"===i?u+f-Math.max(l,h)-r:this.caretX,"top"===n?(v=d,y=v-r,g=m-r,b=m+r):(v=d+p,y=v+r,g=m+r,b=m-r),_=v),{x1:g,x2:m,x3:b,y1:v,y2:y,y3:_}}drawTitle(t,e,s){const i=this.title,n=i.length;let r,o,a;if(n){const l=qh(s.rtl,this.x,this.width);for(t.x=Of(this,s.titleAlign,s),e.textAlign=l.textAlign(s.titleAlign),e.textBaseline="middle",r=vh(s.titleFont),o=s.titleSpacing,e.fillStyle=s.titleColor,e.font=r.string,a=0;a<n;++a)e.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+o,a+1===n&&(t.y+=s.titleMarginBottom-o)}}_drawColorBox(t,e,s,i,n){const r=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:a,boxWidth:l}=n,c=vh(n.bodyFont),h=Of(this,"left",n),u=i.x(h),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(n.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},s=i.leftForLtr(u,l)+l/2,c=f+a/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,sh(t,e,s,c),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,sh(t,e,s,c)}else{t.lineWidth=Ll(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=i.leftForLtr(u,l),s=i.leftForLtr(i.xPlus(u,1),l-2),o=mh(r.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,hh(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),hh(t,{x:s,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=r.backgroundColor,t.fillRect(s,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:i}=this,{bodySpacing:n,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=s,h=vh(s.bodyFont);let u=h.lineHeight,d=0;const f=qh(s.rtl,this.x,this.width),p=function(s){e.fillText(s,f.x(t.x+d),t.y+u/2),t.y+=u+n},g=f.textAlign(r);let m,b,v,y,_,x,w;for(e.textAlign=r,e.textBaseline="middle",e.font=h.string,t.x=Of(this,g,s),e.fillStyle=s.bodyColor,zl(this.beforeBody,p),d=o&&"right"!==g?"center"===r?l/2+c:l+2+c:0,y=0,x=i.length;y<x;++y){for(m=i[y],b=this.labelTextColors[y],e.fillStyle=b,zl(m.before,p),v=m.lines,o&&v.length&&(this._drawColorBox(e,t,y,f,s),u=Math.max(h.lineHeight,a)),_=0,w=v.length;_<w;++_)p(v[_]),u=h.lineHeight;zl(m.after,p)}d=0,u=h.lineHeight,zl(this.afterBody,p),t.y-=n}drawFooter(t,e,s){const i=this.footer,n=i.length;let r,o;if(n){const a=qh(s.rtl,this.x,this.width);for(t.x=Of(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=a.textAlign(s.footerAlign),e.textBaseline="middle",r=vh(s.footerFont),e.fillStyle=s.footerColor,e.font=r.string,o=0;o<n;++o)e.fillText(i[o],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s.footerSpacing}}drawBackground(t,e,s,i){const{xAlign:n,yAlign:r}=this,{x:o,y:a}=t,{width:l,height:c}=s,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=mh(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+h,a),"top"===r&&this.drawCaret(t,e,s,i),e.lineTo(o+l-u,a),e.quadraticCurveTo(o+l,a,o+l,a+u),"center"===r&&"right"===n&&this.drawCaret(t,e,s,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===r&&this.drawCaret(t,e,s,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===r&&"left"===n&&this.drawCaret(t,e,s,i),e.lineTo(o,a+h),e.quadraticCurveTo(o,a,o+h,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,i=s&&s.x,n=s&&s.y;if(i||n){const s=vf[t.position].call(this,this._active,this._eventPosition);if(!s)return;const r=this._size=wf(this,t),o=Object.assign({},s,this._size),a=Sf(e,t,o),l=Tf(t,o,a,e);i._to===l.x&&n._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},n={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=bh(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=s,this.drawBackground(n,t,i,e),Kh(t,e.textDirection),n.y+=r.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),Gh(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,i=t.map((({datasetIndex:t,index:e})=>{const s=this.chart.getDatasetMeta(t);if(!s)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:s.data[e],index:e}})),n=!Bl(s,i),r=this._positionChanged(i,e);(n||r)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,n=this._active||[],r=this._getActiveElements(t,n,e,s),o=this._positionChanged(r,t),a=e||!Bl(r,n)||o;return a&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,s,i){const n=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const r=this.chart.getElementsAtEventForMode(t,n.mode,n,s);return n.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:s,caretY:i,options:n}=this,r=vf[n.position].call(this,t,e);return!1!==r&&(s!==r.x||i!==r.y)}}i(Af,"positioners",vf);var Rf={id:"tooltip",_element:Af,positioners:vf,afterInit(t,e,s){s&&(t.tooltip=new Af({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function jf(t,e,s,i){const n=t.indexOf(e);if(-1===n)return((t,e,s,i)=>("string"==typeof e?(s=t.push(e)-1,i.unshift({index:s,label:e})):isNaN(e)&&(s=null),s))(t,e,s,i);return n!==t.lastIndexOf(e)?s:n}function If(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Df extends _d{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:s,label:i}of e)t[s]===i&&t.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Il(t))return null;const s=this.getLabels();return((t,e)=>null===t?null:xc(Math.round(t),0,e))(e=isFinite(e)&&s[e]===t?e:jf(s,t,Nl(e,t),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=t;r<=e;r++)i.push({value:r});return i}getLabelForValue(t){return If.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Lf(t,e){const s=[],{bounds:i,step:n,min:r,max:o,precision:a,count:l,maxTicks:c,maxDigits:h,includeBounds:u}=t,d=n||1,f=c-1,{min:p,max:g}=e,m=!Il(r),b=!Il(o),v=!Il(l),y=(g-p)/(h+1);let _,x,w,k,S=dc((g-p)/f/d)*d;if(S<1e-14&&!m&&!b)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=dc(k*S/f/d)*d),Il(a)||(_=Math.pow(10,a),S=Math.ceil(S*_)/_),"ticks"===i?(x=Math.floor(p/S)*S,w=Math.ceil(g/S)*S):(x=p,w=g),m&&b&&n&&function(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}((o-r)/n,S/1e3)?(k=Math.round(Math.min((o-r)/S,c)),S=(o-r)/k,x=r,w=o):v?(x=m?r:x,w=b?o:w,k=l-1,S=(w-x)/k):(k=(w-x)/S,k=uc(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const T=Math.max(bc(S),bc(x));_=Math.pow(10,Il(a)?T:a),x=Math.round(x*_)/_,w=Math.round(w*_)/_;let O=0;for(m&&(u&&x!==r?(s.push({value:r}),x<r&&O++,uc(Math.round((x+O*S)*_)/_,r,$f(r,y,t))&&O++):x<r&&O++);O<k;++O){const t=Math.round((x+O*S)*_)/_;if(b&&t>o)break;s.push({value:t})}return b&&u&&w!==o?s.length&&uc(s[s.length-1].value,o,$f(o,y,t))?s[s.length-1].value=o:s.push({value:o}):b&&w!==o||s.push({value:w}),s}function $f(t,e,{horizontal:s,minRotation:i}){const n=gc(i),r=(s?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}i(Df,"id","category"),i(Df,"defaults",{ticks:{callback:If}});class Ff extends _d{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Il(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:n}=this;const r=t=>i=e?i:t,o=t=>n=s?n:t;if(t){const t=hc(i),e=hc(n);t<0&&e<0?o(0):t>0&&e>0&&r(0)}if(i===n){let e=0===n?1:Math.abs(.05*n);o(n+e),t||r(i-e)}this.min=i,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:s,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),s=s||11),s&&(e=Math.min(s,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i=Lf({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&pc(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return Bc(t,this.chart.options.locale,this.options.ticks.format)}}class Nf extends Ff{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$l(t)?t:0,this.max=$l(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=gc(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}i(Nf,"id","linear"),i(Nf,"defaults",{ticks:{callback:Wc.formatters.numeric}});const Uf=t=>Math.floor(cc(t)),Vf=(t,e)=>Math.pow(10,Uf(t)+e);function zf(t){return 1===t/Math.pow(10,Uf(t))}function Bf(t,e,s){const i=Math.pow(10,s),n=Math.floor(t/i);return Math.ceil(e/i)-n}function Hf(t,{min:e,max:s}){e=Fl(t.min,e);const i=[],n=Uf(e);let r=function(t,e){let s=Uf(e-t);for(;Bf(t,e,s)>10;)s++;for(;Bf(t,e,s)<10;)s--;return Math.min(s,Uf(t))}(e,s),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=n>r?Math.pow(10,n):0,c=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,r)),d=Fl(t.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;d<s;)i.push({value:d,major:zf(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),d=Math.round((l+h+u*Math.pow(10,r))*o)/o;const f=Fl(t.max,d);return i.push({value:f,major:zf(f),significand:u}),i}class Wf extends _d{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=Ff.prototype.parse.apply(this,[t,e]);if(0!==s)return $l(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$l(t)?Math.max(0,t):null,this.max=$l(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$l(this._userMin)&&(this.min=t===Vf(this.min,0)?Vf(this.min,-1):Vf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,i=this.max;const n=e=>s=t?s:e,r=t=>i=e?i:t;s===i&&(s<=0?(n(1),r(10)):(n(Vf(s,-1)),r(Vf(i,1)))),s<=0&&n(Vf(i,-1)),i<=0&&r(Vf(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,e=Hf({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&pc(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Bc(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=cc(t),this._valueRange=cc(this.max)-cc(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(cc(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function qf(t){const e=t.ticks;if(e.display&&t.display){const t=bh(e.backdropPadding);return Nl(e.font&&e.font.size,Xc.font.size)+t.height}return 0}function Kf(t,e,s,i,n){return t===i||t===n?{start:e-s/2,end:e+s/2}:t<i||t>n?{start:e-s,end:e}:{start:e,end:e+s}}function Gf(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),i=[],n=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?sc/r:0;for(let u=0;u<r;u++){const r=o.setContext(t.getPointLabelContext(u));n[u]=r.padding;const d=t.getPointPosition(u,t.drawingArea+n[u],a),f=vh(r.font),p=(l=t.ctx,c=f,h=Dl(h=t._pointLabels[u])?h:[h],{w:Zc(l,c.string,h),h:h.length*c.lineHeight});i[u]=p;const g=yc(t.getIndexAngle(u)+a),m=Math.round(mc(g));Jf(s,e,g,Kf(m,d.x,p.w,0,180),Kf(m,d.y,p.h,90,270))}var l,c,h;t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=function(t,e,s){const i=[],n=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:qf(r)/2,additionalAngle:o?sc/n:0};let c;for(let h=0;h<n;h++){l.padding=s[h],l.size=e[h];const n=Yf(t,h,l);i.push(n),"auto"===a&&(n.visible=Xf(n,c),n.visible&&(c=n))}return i}(t,i,n)}function Jf(t,e,s,i,n){const r=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),n.start<e.t?(l=(e.t-n.start)/o,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Yf(t,e,s){const i=t.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=s,l=t.getPointPosition(e,i+n+o,r),c=Math.round(mc(yc(l.angle+oc))),h=function(t,e,s){90===s||270===s?t-=e/2:(s>270||s<90)&&(t-=e);return t}(l.y,a.h,c),u=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,s){"right"===s?t-=e:"center"===s&&(t-=e/2);return t}(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function Xf(t,e){if(!e)return!0;const{left:s,top:i,right:n,bottom:r}=t;return!(nh({x:s,y:i},e)||nh({x:s,y:r},e)||nh({x:n,y:i},e)||nh({x:n,y:r},e))}function Qf(t,e,s){const{left:i,top:n,right:r,bottom:o}=s,{backdropColor:a}=e;if(!Il(a)){const s=mh(e.borderRadius),l=bh(e.backdropPadding);t.fillStyle=a;const c=i-l.left,h=n-l.top,u=r-i+l.width,d=o-n+l.height;Object.values(s).some((t=>0!==t))?(t.beginPath(),hh(t,{x:c,y:h,w:u,h:d,radius:s}),t.fill()):t.fillRect(c,h,u,d)}}function Zf(t,e,s,i){const{ctx:n}=t;if(s)n.arc(t.xCenter,t.yCenter,e,0,ic);else{let s=t.getPointPosition(0,e);n.moveTo(s.x,s.y);for(let r=1;r<i;r++)s=t.getPointPosition(r,e),n.lineTo(s.x,s.y)}}i(Wf,"id","logarithmic"),i(Wf,"defaults",{ticks:{callback:Wc.formatters.logarithmic,major:{enabled:!0}}});class tp extends Ff{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=bh(qf(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=$l(t)&&!isNaN(t)?t:0,this.max=$l(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qf(this.options))}generateTickLabels(t){Ff.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const s=Vl(this.options.pointLabels.callback,[t,e],this);return s||0===s?s:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Gf(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,i))}getIndexAngle(t){return yc(t*(ic/(this._pointLabels.length||1))+gc(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Il(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Il(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return function(t,e,s){return _h(t,{label:s,index:e,type:"pointLabel"})}(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const i=this.getIndexAngle(t)-oc+s;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:i,bottom:n}=this._pointLabelItems[t];return{left:e,top:s,right:i,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),Zf(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:i,border:n}=e,r=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:s,options:{pointLabels:i}}=t;for(let n=e-1;n>=0;n--){const e=t._pointLabelItems[n];if(!e.visible)continue;const r=i.setContext(t.getPointLabelContext(n));Qf(s,r,e);const o=vh(r.font),{x:a,y:l,textAlign:c}=e;ch(s,t._pointLabels[n],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const s=this.getContext(e),o=i.setContext(s),l=n.setContext(s);!function(t,e,s,i,n){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||s<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),Zf(t,s,o,i),r.closePath(),r.stroke(),r.restore())}(this,o,a,r,l)}})),s.display){for(t.save(),o=r-1;o>=0;o--){const i=s.setContext(this.getPointLabelContext(o)),{color:n,lineWidth:r}=i;r&&n&&(t.lineWidth=r,t.strokeStyle=n,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let n,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=s.setContext(this.getContext(o)),l=vh(a.font);if(n=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,r=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=bh(a.backdropPadding);t.fillRect(-r/2-e.left,-n-l.size/2-e.top,r+e.width,l.size+e.height)}ch(t,i.label,0,-n,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}i(tp,"id","radialLinear"),i(tp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),i(tp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),i(tp,"descriptors",{angleLines:{_fallback:"grid"}});const ep={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sp=Object.keys(ep);function ip(t,e){return t-e}function np(t,e){if(Il(e))return null;const s=t._adapter,{parser:i,round:n,isoWeekday:r}=t._parseOpts;let o=e;return"function"==typeof i&&(o=i(o)),$l(o)||(o="string"==typeof i?s.parse(o,i):s.parse(o)),null===o?null:(n&&(o="week"!==n||!fc(r)&&!0!==r?s.startOf(o,n):s.startOf(o,"isoWeek",r)),+o)}function rp(t,e,s,i){const n=sp.length;for(let r=sp.indexOf(t);r<n-1;++r){const t=ep[sp[r]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((s-e)/(n*t.size))<=i)return sp[r]}return sp[n-1]}function op(t,e,s){if(s){if(s.length){const{lo:i,hi:n}=kc(s,e);t[s[i]>=e?s[i]:s[n]]=!0}}else t[e]=!0}function ap(t,e,s){const i=[],n={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],n[a]=o,i.push({value:a,major:!1});return 0!==r&&s?function(t,e,s,i){const n=t._adapter,r=+n.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,i))l=s[a],l>=0&&(e[l].major=!0);return e}(t,i,n,s):i}class lp extends _d{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),i=this._adapter=new Ou(t.adapters.date);i.init(e),Gl(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:np(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds();function a(t){r||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(n=Math.max(n,t.max))}r&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=$l(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),n=$l(n)&&!isNaN(n)?n:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,n-1),this.max=Math.max(i+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const n=this.min,r=function(t,e,s){let i=0,n=t.length;for(;i<n&&t[i]<e;)i++;for(;n>i&&t[n-1]>s;)n--;return i>0||n<t.length?t.slice(i,n):t}(i,n,this.max);return this._unit=e.unit||(s.autoSkip?rp(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,s,i,n){for(let r=sp.length-1;r>=sp.indexOf(s);r--){const s=sp[r];if(ep[s].common&&t._adapter.diff(n,i,s)>=e-1)return s}return sp[s?sp.indexOf(s):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(t){for(let e=sp.indexOf(t)+1,s=sp.length;e<s;++e)if(ep[sp[e]].common)return sp[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&r.reverse(),ap(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,s,i=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,s=this.getDecimalForValue(t[t.length-1]),n=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;i=xc(i,0,r),n=xc(n,0,r),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,e=this.min,s=this.max,i=this.options,n=i.time,r=n.unit||rp(n.minUnit,e,s,this._getLabelCapacity(e)),o=Nl(i.ticks.stepSize,1),a="week"===r&&n.isoWeekday,l=fc(a)||!0===a,c={};let h,u,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":r),t.diff(s,e,r)>1e5*o)throw new Error(e+" and "+s+" are too far apart with stepSize of "+o+" "+r);const f="data"===i.ticks.source&&this.getDataTimestamps();for(h=d,u=0;h<s;h=+t.add(h,o,r),u++)op(c,h,f);return h!==s&&"ticks"!==i.bounds&&1!==u||op(c,h,f),Object.keys(c).sort(ip).map((t=>+t))}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,i=this._unit,n=e||s[i];return this._adapter.format(t,n)}_tickFormatFunction(t,e,s,i){const n=this.options,r=n.ticks.callback;if(r)return Vl(r,[t,e,s],this);const o=n.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],h=l&&o[l],u=s[e],d=l&&h&&u&&u.major;return this._adapter.format(t,i||(d?h:c))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;e<s;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=gc(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(i),r=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:s*n+o*r,h:s*r+o*n}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,n=this._tickFormatFunction(t,0,ap(this,[t],this._majorUnit),i),r=this._getLabelSize(n),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,s=this._cache.data||[];if(s.length)return s;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)s=s.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;e<s;++e)t.push(np(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Cc(t.sort(ip))}}function cp(t,e,s){let i,n,r,o,a=0,l=t.length-1;s?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Sc(t,"pos",e)),({pos:i,time:r}=t[a]),({pos:n,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Sc(t,"time",e)),({time:i,pos:r}=t[a]),({time:n,pos:o}=t[l]));const c=n-i;return c?r+(o-r)*(e-i)/c:r}i(lp,"id","time"),i(lp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class hp extends lp{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=cp(e,this.min),this._tableRange=cp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,i=[],n=[];let r,o,a,l,c;for(r=0,o=t.length;r<o;++r)l=t[r],l>=e&&l<=s&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(r=0,o=i.length;r<o;++r)c=i[r+1],a=i[r-1],l=i[r],Math.round((c+a)/2)!==l&&n.push({time:l,pos:r/(o-1)});return n}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return s.includes(t)&&s.length||s.splice(0,0,t),s.includes(e)&&1!==s.length||s.push(e),s.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return t=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(cp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return cp(this._table,s*this._tableRange+this._minPos,!0)}}i(hp,"id","timeseries"),i(hp,"defaults",lp.defaults);const up={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},dp={ariaLabel:{type:String},ariaDescribedby:{type:String}},fp={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...up,...dp},pp="2"===En[0]?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function gp(t){return ye(t)?_e(t):t}function mp(t,e){t.labels=e}function bp(t,e,s){const i=[];t.datasets=e.map((e=>{const n=t.datasets.find((t=>t[s]===e[s]));return n&&e.data&&!i.includes(n)?(i.push(n),Object.assign(n,e),n):{...e}}))}const vp=cs({props:fp,setup(t,e){let{expose:s,slots:i}=e;const n=Te(null),r=Oe(null);s({chart:r});return xs((()=>{if(!n.value)return;const{type:e,data:s,options:i,plugins:o,datasetIdKey:a}=t,l=function(t,e){const s={labels:[],datasets:[]};return mp(s,t.labels),bp(s,t.datasets,e),s}(s,a),c=function(t){return ye(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)?new Proxy(t,{}):t}(l,s);r.value=new Xd(n.value,{type:e,data:c,options:{...i},plugins:o})})),Ts((()=>{const e=_e(r.value);e&&(t.destroyDelay>0?setTimeout((()=>{e.destroy(),r.value=null}),t.destroyDelay):(e.destroy(),r.value=null))})),Pi([()=>t.options,()=>t.data],((e,s)=>{let[i,n]=e,[o,a]=s;const l=_e(r.value);if(!l)return;let c=!1;if(i){const t=gp(i),e=gp(o);t&&t!==e&&(!function(t,e){const s=t.options;s&&e&&Object.assign(s,e)}(l,t),c=!0)}if(n){const e=gp(n.labels),s=gp(a.labels),i=gp(n.datasets),r=gp(a.datasets);e!==s&&(mp(l.config.data,e),c=!0),i&&i!==r&&(bp(l.config.data,i,t.datasetIdKey),c=!0)}c&&Ge((()=>{(e=>{e.update(t.updateMode)})(l)}))}),{deep:!0}),()=>Mn("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:n},[Mn("p",{},[i.default?i.default():""])])}});function yp(t,e){return Xd.register(e),cs({props:up,setup(e,s){let{expose:i}=s;const n=Oe(null),r=t=>{n.value=null==t?void 0:t.chart};return i({chart:n}),()=>Mn(vp,pp({ref:r},{type:t,...e}))}})}const _p=yp("bar",xu),xp=yp("pie",ku);Xd.register(Df,Nf,uf,bf,Rf,gf,nf);const wp={class:"financial-container"},kp={class:"summary-cards"},Sp={class:"summary-card income"},Tp={class:"amount"},Op={class:"summary-card expense"},Pp={class:"amount"},Cp={class:"summary-card balance"},Mp={class:"amount"},Ep={class:"charts-container"},Ap={class:"chart-section"},Rp={class:"chart-section"},jp={class:"expense-section"},Ip={class:"form-row"},Dp={class:"form-group"},Lp={class:"form-group"},$p={class:"form-row"},Fp={class:"form-group"},Np={class:"form-group"},Up={class:"transactions-section"};const Vp=na({name:"FinancialView",components:{Bar:_p,Pie:xp},setup(){const{totalTithes:t,totalOfferings:e}=ma(),s=Te([]),i=Te({description:"",category:"utilities",value:"",date:(new Date).toISOString().split("T")[0]}),n=Cn((()=>t.value+e.value)),r=Cn((()=>s.value.reduce(((t,e)=>t+Number(e.value)),0))),o=Cn((()=>n.value-r.value)),a=Cn((()=>({labels:["Jan","Fev","Mar","Abr","Mai","Jun"],datasets:[{label:"Entradas",backgroundColor:"#2ecc71",data:[n.value]},{label:"Saídas",backgroundColor:"#e74c3c",data:[r.value]}]}))),l=Cn((()=>({labels:["Dízimos","Ofertas"],datasets:[{backgroundColor:["#3498db","#2ecc71"],data:[t.value,e.value]}]}))),c=Cn((()=>[...s.value.map((t=>({...t,type:"expense"})))].sort(((t,e)=>new Date(e.date)-new Date(t.date)))));return{expenseForm:i,expenses:s,totalIncome:n,totalExpenses:r,balance:o,barChartData:a,barChartOptions:{responsive:!0,maintainAspectRatio:!1},pieChartData:l,pieChartOptions:{responsive:!0,maintainAspectRatio:!1},sortedTransactions:c,handleExpenseSubmit:()=>{s.value.push({id:Date.now(),type:"expense",...i.value}),i.value={description:"",category:"utilities",value:"",date:(new Date).toISOString().split("T")[0]}},formatValue:t=>Number(t).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),formatDate:t=>new Date(t).toLocaleDateString("pt-BR"),formatCategory:t=>({utilities:"Utilidades",maintenance:"Manutenção",supplies:"Materiais",events:"Eventos",others:"Outros"}[t]||t)}}},[["render",function(t,e,s,i,n,r){const o=As("Bar"),a=As("Pie");return qi(),Yi("div",wp,[e[19]||(e[19]=sn("h1",null,"Controle Financeiro",-1)),sn("div",kp,[sn("div",Sp,[e[5]||(e[5]=sn("h3",null,"Total de Entradas",-1)),sn("p",Tp,"R$ "+Z(i.formatValue(i.totalIncome)),1)]),sn("div",Op,[e[6]||(e[6]=sn("h3",null,"Total de Saídas",-1)),sn("p",Pp,"R$ "+Z(i.formatValue(i.totalExpenses)),1)]),sn("div",Cp,[e[7]||(e[7]=sn("h3",null,"Saldo",-1)),sn("p",Mp,"R$ "+Z(i.formatValue(i.balance)),1)])]),sn("div",Ep,[sn("div",Ap,[e[8]||(e[8]=sn("h2",null,"Entradas vs Saídas",-1)),nn(o,{data:i.barChartData,options:i.barChartOptions},null,8,["data","options"])]),sn("div",Rp,[e[9]||(e[9]=sn("h2",null,"Distribuição de Entradas",-1)),nn(a,{data:i.pieChartData,options:i.pieChartOptions},null,8,["data","options"])])]),sn("div",jp,[e[16]||(e[16]=sn("h2",null,"Registrar Despesa",-1)),sn("form",{onSubmit:e[4]||(e[4]=fr(((...t)=>i.handleExpenseSubmit&&i.handleExpenseSubmit(...t)),["prevent"])),class:"expense-form"},[sn("div",Ip,[sn("div",Dp,[e[10]||(e[10]=sn("label",null,"Descrição",-1)),rs(sn("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.expenseForm.description=t),required:"",placeholder:"Descrição da despesa"},null,512),[[ar,i.expenseForm.description]])]),sn("div",Lp,[e[12]||(e[12]=sn("label",null,"Categoria",-1)),rs(sn("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.expenseForm.category=t),required:""},e[11]||(e[11]=[an('<option value="utilities" data-v-3a5d77a5>Utilidades</option><option value="maintenance" data-v-3a5d77a5>Manutenção</option><option value="supplies" data-v-3a5d77a5>Materiais</option><option value="events" data-v-3a5d77a5>Eventos</option><option value="others" data-v-3a5d77a5>Outros</option>',5)]),512),[[lr,i.expenseForm.category]])])]),sn("div",$p,[sn("div",Fp,[e[13]||(e[13]=sn("label",null,"Valor",-1)),rs(sn("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>i.expenseForm.value=t),required:"",step:"0.01",min:"0",placeholder:"R$ 0,00"},null,512),[[ar,i.expenseForm.value]])]),sn("div",Np,[e[14]||(e[14]=sn("label",null,"Data",-1)),rs(sn("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>i.expenseForm.date=t),required:""},null,512),[[ar,i.expenseForm.date]])])]),e[15]||(e[15]=sn("button",{type:"submit",class:"submit-button"},"Registrar Despesa",-1))],32)]),sn("div",Up,[e[18]||(e[18]=sn("h2",null,"Histórico de Transações",-1)),sn("table",null,[e[17]||(e[17]=sn("thead",null,[sn("tr",null,[sn("th",null,"Data"),sn("th",null,"Descrição"),sn("th",null,"Categoria"),sn("th",null,"Tipo"),sn("th",null,"Valor")])],-1)),sn("tbody",null,[(qi(!0),Yi(Ui,null,Is(i.sortedTransactions,(t=>(qi(),Yi("tr",{key:t.id,class:K({"income-row":"income"===t.type,"expense-row":"expense"===t.type})},[sn("td",null,Z(i.formatDate(t.date)),1),sn("td",null,Z(t.description),1),sn("td",null,Z(i.formatCategory(t.category)),1),sn("td",null,Z("income"===t.type?"Entrada":"Saída"),1),sn("td",null,"R$ "+Z(i.formatValue(t.value)),1)],2)))),128))])])])])}],["__scopeId","data-v-3a5d77a5"]]),zp=Te({name:localStorage.getItem("churchName")||"Igreja Management",logo:localStorage.getItem("churchLogo")||"",primaryColor:localStorage.getItem("primaryColor")||"#1e3c72",secondaryColor:localStorage.getItem("secondaryColor")||"#2a5298"});function Bp(){return{churchSettings:zp,updateSettings:t=>{zp.value={...zp.value,...t},localStorage.setItem("churchName",zp.value.name),localStorage.setItem("churchLogo",zp.value.logo),localStorage.setItem("primaryColor",zp.value.primaryColor),localStorage.setItem("secondaryColor",zp.value.secondaryColor)}}}Pi(zp,(t=>{document.documentElement.style.setProperty("--primary-color",t.primaryColor),document.documentElement.style.setProperty("--secondary-color",t.secondaryColor),document.title=t.name}),{deep:!0});const Hp={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700 px-4 sm:px-6 lg:px-8"},Wp={class:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl transform transition-all duration-500 hover:scale-[1.02]"},qp={class:"text-center"},Kp={key:0,class:"mx-auto w-32 h-32 mb-6"},Gp=["src","alt"],Jp={class:"text-3xl font-bold text-gray-900 mb-2"},Yp={class:"space-y-4"},Xp={class:"mt-1 relative"},Qp={class:"mt-1 relative"};const Zp=na({name:"LoginView",setup(){const{churchSettings:t}=Bp(),e=ia(),s=Te({email:"",password:""});return{loginForm:s,handleLogin:()=>{"admin@igreja.com"===s.value.email&&"admin"===s.value.password?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("isAdmin","true"),e.push("/")):"user@igreja.com"===s.value.email&&"user"===s.value.password?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("isAdmin","false"),e.push("/")):alert("Credenciais inválidas!\nUse admin@igreja.com/admin ou user@igreja.com/user")},churchSettings:t}}},[["render",function(t,e,s,i,n,r){return qi(),Yi("div",Hp,[sn("div",Wp,[sn("div",qp,[i.churchSettings.logo?(qi(),Yi("div",Kp,[sn("img",{src:i.churchSettings.logo,alt:i.churchSettings.name,class:"w-full h-full object-contain"},null,8,Gp)])):ln("",!0),sn("h1",Jp,Z(i.churchSettings.name||"Login"),1),e[3]||(e[3]=sn("p",{class:"text-sm text-gray-600"},"Acesse o sistema de gestão",-1))]),sn("form",{onSubmit:e[2]||(e[2]=fr(((...t)=>i.handleLogin&&i.handleLogin(...t)),["prevent"])),class:"mt-8 space-y-6"},[sn("div",Yp,[sn("div",null,[e[4]||(e[4]=sn("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),sn("div",Xp,[rs(sn("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>i.loginForm.email=t),required:"",placeholder:"Digite seu e-mail",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"},null,512),[[ar,i.loginForm.email]])])]),sn("div",null,[e[5]||(e[5]=sn("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Senha",-1)),sn("div",Qp,[rs(sn("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.loginForm.password=t),required:"",placeholder:"Digite sua senha",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"},null,512),[[ar,i.loginForm.password]])])])]),e[6]||(e[6]=sn("button",{type:"submit",class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition-all duration-300 hover:scale-[1.02]"}," Entrar ",-1))],32)])])}],["__scopeId","data-v-7de67a7f"]]);class tg extends Error{constructor(t,e="FunctionsError",s){super(t),this.name=e,this.context=s}}class eg extends tg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sg extends tg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ig extends tg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ng,rg;(rg=ng||(ng={})).Any="any",rg.ApNortheast1="ap-northeast-1",rg.ApNortheast2="ap-northeast-2",rg.ApSouth1="ap-south-1",rg.ApSoutheast1="ap-southeast-1",rg.ApSoutheast2="ap-southeast-2",rg.CaCentral1="ca-central-1",rg.EuCentral1="eu-central-1",rg.EuWest1="eu-west-1",rg.EuWest2="eu-west-2",rg.EuWest3="eu-west-3",rg.SaEast1="sa-east-1",rg.UsEast1="us-east-1",rg.UsWest1="us-west-1",rg.UsWest2="us-west-2";var og=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class ag{constructor(t,{headers:e={},customFetch:s,region:i=ng.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>pa((()=>Promise.resolve().then((()=>kg))),void 0,import.meta.url).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)})(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var s;return og(this,void 0,void 0,(function*(){try{const{headers:i,method:n,body:r}=e;let o,a={},{region:l}=e;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",o=r):"string"==typeof r?(a["Content-Type"]="text/plain",o=r):"undefined"!=typeof FormData&&r instanceof FormData?o=r:(a["Content-Type"]="application/json",o=JSON.stringify(r)));const c=yield this.fetch(`${this.url}/${t}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:o}).catch((t=>{throw new eg(t)})),h=c.headers.get("x-relay-error");if(h&&"true"===h)throw new sg(c);if(!c.ok)throw new ig(c);let u,d=(null!==(s=c.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return u="application/json"===d?yield c.json():"application/octet-stream"===d?yield c.blob():"text/event-stream"===d?c:"multipart/form-data"===d?yield c.formData():yield c.text(),{data:u,error:null}}catch(i){return{data:null,error:i}}}))}}var lg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function cg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hg(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var s=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(s,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),s}var ug={},dg={},fg={},pg={},gg={},mg={},bg=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const vg=bg.fetch,yg=bg.fetch.bind(bg),_g=bg.Headers,xg=bg.Request,wg=bg.Response,kg=Object.freeze(Object.defineProperty({__proto__:null,Headers:_g,Request:xg,Response:wg,default:yg,fetch:vg},Symbol.toStringTag,{value:"Module"})),Sg=hg(kg);var Tg={};Object.defineProperty(Tg,"__esModule",{value:!0});let Og=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Tg.default=Og;var Pg=lg&&lg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mg,"__esModule",{value:!0});const Cg=Pg(Sg),Mg=Pg(Tg);mg.default=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=Cg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async t=>{var e,s,i;let n=null,r=null,o=null,a=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(r="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const i=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),c=null===(s=t.headers.get("content-range"))||void 0===s?void 0:s.split("/");i&&c&&c.length>1&&(o=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(r)&&(r.length>1?(n={code:"PGRST116",details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,o=null,a=406,l="Not Acceptable"):r=1===r.length?r[0]:null)}else{const e=await t.text();try{n=JSON.parse(e),Array.isArray(n)&&404===t.status&&(r=[],n=null,a=200,l="OK")}catch(c){404===t.status&&""===e?(a=204,l="No Content"):n={message:e}}if(n&&this.isMaybeSingle&&(null===(i=null==n?void 0:n.details)||void 0===i?void 0:i.includes("0 rows"))&&(n=null,a=200,l="OK"),n&&this.shouldThrowOnError)throw new Mg.default(n)}return{error:n,data:r,count:o,status:a,statusText:l}}));return this.shouldThrowOnError||(s=s.catch((t=>{var e,s,i;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:`${null!==(s=null==t?void 0:t.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(i=null==t?void 0:t.code)&&void 0!==i?i:""}`},data:null,count:null,status:0,statusText:""}}))),s.then(t,e)}returns(){return this}overrideTypes(){return this}};var Eg=lg&&lg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gg,"__esModule",{value:!0});const Ag=Eg(mg);let Rg=class extends Ag.default{select(t){let e=!1;const s=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:i,referencedTable:n=i}={}){const r=n?`${n}.order`:"order",o=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const i=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:i=s}={}){const n=void 0===i?"offset":`${i}.offset`,r=void 0===i?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(r,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:i=!1,wal:n=!1,format:r="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,s?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${l}"; options=${a};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gg.default=Rg;var jg=lg&&lg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pg,"__esModule",{value:!0});const Ig=jg(gg);let Dg=class extends Ig.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:i}={}){let n="";"plain"===i?n="pl":"phrase"===i?n="ph":"websearch"===i&&(n="w");const r=void 0===s?"":`(${s})`;return this.url.searchParams.append(t,`${n}fts${r}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)})),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}};pg.default=Dg;var Lg=lg&&lg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fg,"__esModule",{value:!0});const $g=Lg(pg);fg.default=class{constructor(t,{headers:e={},schema:s,fetch:i}){this.url=t,this.headers=e,this.schema=s,this.fetch=i}select(t,{head:e=!1,count:s}={}){const i=e?"HEAD":"GET";let n=!1;const r=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!n?"":('"'===t&&(n=!n),t))).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new $g.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:s=!0}={}){const i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new $g.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:i,defaultToNull:n=!0}={}){const r=[`resolution=${s?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&r.push(this.headers.Prefer),i&&r.push(`count=${i}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new $g.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new $g.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new $g.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Fg={},Ng={};Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.version=void 0,Ng.version="0.0.0-automated",Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.DEFAULT_HEADERS=void 0;const Ug=Ng;Fg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ug.version}`};var Vg=lg&&lg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dg,"__esModule",{value:!0});const zg=Vg(fg),Bg=Vg(pg),Hg=Fg;dg.default=class t{constructor(t,{headers:e={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Hg.DEFAULT_HEADERS),e),this.schemaName=s,this.fetch=i}from(t){const e=new URL(`${this.url}/${t}`);return new zg.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(t,e={},{head:s=!1,get:i=!1,count:n}={}){let r;const o=new URL(`${this.url}/rpc/${t}`);let a;s||i?(r=s?"HEAD":"GET",Object.entries(e).filter((([t,e])=>void 0!==e)).map((([t,e])=>[t,Array.isArray(e)?`{${e.join(",")}}`:`${e}`])).forEach((([t,e])=>{o.searchParams.append(t,e)}))):(r="POST",a=e);const l=Object.assign({},this.headers);return n&&(l.Prefer=`count=${n}`),new Bg.default({method:r,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Wg=lg&&lg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ug,"__esModule",{value:!0}),ug.PostgrestError=ug.PostgrestBuilder=ug.PostgrestTransformBuilder=ug.PostgrestFilterBuilder=ug.PostgrestQueryBuilder=ug.PostgrestClient=void 0;const qg=Wg(dg);ug.PostgrestClient=qg.default;const Kg=Wg(fg);ug.PostgrestQueryBuilder=Kg.default;const Gg=Wg(pg);ug.PostgrestFilterBuilder=Gg.default;const Jg=Wg(gg);ug.PostgrestTransformBuilder=Jg.default;const Yg=Wg(mg);ug.PostgrestBuilder=Yg.default;const Xg=Wg(Tg);ug.PostgrestError=Xg.default;var Qg=ug.default={PostgrestClient:qg.default,PostgrestQueryBuilder:Kg.default,PostgrestFilterBuilder:Gg.default,PostgrestTransformBuilder:Jg.default,PostgrestBuilder:Yg.default,PostgrestError:Xg.default};const{PostgrestClient:Zg,PostgrestQueryBuilder:tm,PostgrestFilterBuilder:em,PostgrestTransformBuilder:sm,PostgrestBuilder:im,PostgrestError:nm}=Qg,rm={"X-Client-Info":"realtime-js/2.11.2"};var om,am,lm,cm,hm,um,dm,fm,pm,gm,mm;(am=om||(om={}))[am.connecting=0]="connecting",am[am.open=1]="open",am[am.closing=2]="closing",am[am.closed=3]="closed",(cm=lm||(lm={})).closed="closed",cm.errored="errored",cm.joined="joined",cm.joining="joining",cm.leaving="leaving",(um=hm||(hm={})).close="phx_close",um.error="phx_error",um.join="phx_join",um.reply="phx_reply",um.leave="phx_leave",um.access_token="access_token",(dm||(dm={})).websocket="websocket",(pm=fm||(fm={})).Connecting="connecting",pm.Open="open",pm.Closing="closing",pm.Closed="closed";class bm{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,e,s)}_decodeBroadcast(t,e,s){const i=e.getUint8(1),n=e.getUint8(2);let r=this.HEADER_LENGTH+2;const o=s.decode(t.slice(r,r+i));r+=i;const a=s.decode(t.slice(r,r+n));r+=n;return{ref:null,topic:o,event:a,payload:JSON.parse(s.decode(t.slice(r,t.byteLength)))}}}class vm{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(mm=gm||(gm={})).abstime="abstime",mm.bool="bool",mm.date="date",mm.daterange="daterange",mm.float4="float4",mm.float8="float8",mm.int2="int2",mm.int4="int4",mm.int4range="int4range",mm.int8="int8",mm.int8range="int8range",mm.json="json",mm.jsonb="jsonb",mm.money="money",mm.numeric="numeric",mm.oid="oid",mm.reltime="reltime",mm.text="text",mm.time="time",mm.timestamp="timestamp",mm.timestamptz="timestamptz",mm.timetz="timetz",mm.tsrange="tsrange",mm.tstzrange="tstzrange";const ym=(t,e,s={})=>{var i;const n=null!==(i=s.skipTypes)&&void 0!==i?i:[];return Object.keys(e).reduce(((s,i)=>(s[i]=_m(i,t,e,n),s)),{})},_m=(t,e,s,i)=>{const n=e.find((e=>e.name===t)),r=null==n?void 0:n.type,o=s[t];return r&&!i.includes(r)?xm(r,o):wm(o)},xm=(t,e)=>{if("_"===t.charAt(0)){const s=t.slice(1,t.length);return Om(e,s)}switch(t){case gm.bool:return km(e);case gm.float4:case gm.float8:case gm.int2:case gm.int4:case gm.int8:case gm.numeric:case gm.oid:return Sm(e);case gm.json:case gm.jsonb:return Tm(e);case gm.timestamp:return Pm(e);case gm.abstime:case gm.date:case gm.daterange:case gm.int4range:case gm.int8range:case gm.money:case gm.reltime:case gm.text:case gm.time:case gm.timestamptz:case gm.timetz:case gm.tsrange:case gm.tstzrange:default:return wm(e)}},wm=t=>t,km=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sm=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tm=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Om=(t,e)=>{if("string"!=typeof t)return t;const s=t.length-1,i=t[s];if("{"===t[0]&&"}"===i){let i;const r=t.slice(1,s);try{i=JSON.parse("["+r+"]")}catch(n){i=r?r.split(","):[]}return i.map((t=>xm(e,t)))}return t},Pm=t=>"string"==typeof t?t.replace(" ","T"):t,Cm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Mm{constructor(t,e,s={},i=1e4){this.channel=t,this.event=e,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var s;return this._hasReceived(t)&&e(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Em,Am,Rm,jm,Im,Dm,Lm,$m;(Am=Em||(Em={})).SYNC="sync",Am.JOIN="join",Am.LEAVE="leave";class Fm{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},(t=>{const{onJoin:e,onLeave:s,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fm.syncState(this.state,t,e,s),this.pendingDiffs.forEach((t=>{this.state=Fm.syncDiff(this.state,t,e,s)})),this.pendingDiffs=[],i()})),this.channel._on(s.diff,{},(t=>{const{onJoin:e,onLeave:s,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=Fm.syncDiff(this.state,t,e,s),i())})),this.onJoin(((t,e,s)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:s})})),this.onLeave(((t,e,s)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:s})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(t,e,s,i){const n=this.cloneDeep(t),r=this.transformState(e),o={},a={};return this.map(n,((t,e)=>{r[t]||(a[t]=e)})),this.map(r,((t,e)=>{const s=n[t];if(s){const i=e.map((t=>t.presence_ref)),n=s.map((t=>t.presence_ref)),r=e.filter((t=>n.indexOf(t.presence_ref)<0)),l=s.filter((t=>i.indexOf(t.presence_ref)<0));r.length>0&&(o[t]=r),l.length>0&&(a[t]=l)}else o[t]=e})),this.syncDiff(n,{joins:o,leaves:a},s,i)}static syncDiff(t,e,s,i){const{joins:n,leaves:r}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(n,((e,i)=>{var n;const r=null!==(n=t[e])&&void 0!==n?n:[];if(t[e]=this.cloneDeep(i),r.length>0){const s=t[e].map((t=>t.presence_ref)),i=r.filter((t=>s.indexOf(t.presence_ref)<0));t[e].unshift(...i)}s(e,r,i)})),this.map(r,((e,s)=>{let n=t[e];if(!n)return;const r=s.map((t=>t.presence_ref));n=n.filter((t=>r.indexOf(t.presence_ref)<0)),t[e]=n,i(e,n,s),0===n.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((s=>e(s,t[s])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,s)=>{const i=t[s];return e[s]="metas"in i?i.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):i,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(jm=Rm||(Rm={})).ALL="*",jm.INSERT="INSERT",jm.UPDATE="UPDATE",jm.DELETE="DELETE",(Dm=Im||(Im={})).BROADCAST="broadcast",Dm.PRESENCE="presence",Dm.POSTGRES_CHANGES="postgres_changes",Dm.SYSTEM="system",($m=Lm||(Lm={})).SUBSCRIBED="SUBSCRIBED",$m.TIMED_OUT="TIMED_OUT",$m.CLOSED="CLOSED",$m.CHANNEL_ERROR="CHANNEL_ERROR";class Nm{constructor(t,e={config:{}},s){this.topic=t,this.params=e,this.socket=s,this.bindings={},this.state=lm.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,hm.join,this.params,this.timeout),this.rejoinTimer=new vm((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=lm.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lm.closed,this.socket._remove(this)})),this._onError((t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=lm.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lm.errored,this.rejoinTimer.scheduleTimeout())})),this._on(hm.reply,{},((t,e)=>{this._trigger(this._replyEventName(e),t)})),this.presence=new Fm(this),this.broadcastEndpointURL=Cm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:r,private:o}}=this.params;this._onError((e=>null==t?void 0:t(Lm.CHANNEL_ERROR,e))),this._onClose((()=>null==t?void 0:t(Lm.CLOSED)));const a={},l={broadcast:n,presence:r,postgres_changes:null!==(i=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map((t=>t.filter)))&&void 0!==i?i:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",(async({postgres_changes:e})=>{var s;if(this.socket.setAuth(),void 0!==e){const i=this.bindings.postgres_changes,n=null!==(s=null==i?void 0:i.length)&&void 0!==s?s:0,r=[];for(let s=0;s<n;s++){const n=i[s],{filter:{event:o,schema:a,table:l,filter:c}}=n,h=e&&e[s];if(!h||h.event!==o||h.schema!==a||h.table!==l||h.filter!==c)return this.unsubscribe(),void(null==t||t(Lm.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));r.push(Object.assign(Object.assign({},n),{id:h.id}))}return this.bindings.postgres_changes=r,void(t&&t(Lm.SUBSCRIBED))}null==t||t(Lm.SUBSCRIBED)})).receive("error",(e=>{null==t||t(Lm.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{null==t||t(Lm.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,s){return this._on(t,e,s)}async send(t,e={}){var s,i;if(this._canPush()||"broadcast"!==t.type)return new Promise((s=>{var i,n,r;const o=this._push(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(r=null===(n=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===n?void 0:n.broadcast)||void 0===r?void 0:r.ack)||s("ok"),o.receive("ok",(()=>s("ok"))),o.receive("error",(()=>s("error"))),o.receive("timeout",(()=>s("timed out")))}));{const{event:r,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const t=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(s=e.timeout)&&void 0!==s?s:this.timeout);return await(null===(i=t.body)||void 0===i?void 0:i.cancel()),t.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lm.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hm.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((s=>{const i=new Mm(this,hm.leave,{},t);i.receive("ok",(()=>{e(),s("ok")})).receive("timeout",(()=>{e(),s("timed out")})).receive("error",(()=>{s("error")})),i.send(),this._canPush()||i.trigger("ok",{})}))}async _fetchWithTimeout(t,e,s){const i=new AbortController,n=setTimeout((()=>i.abort()),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(n),r}_push(t,e,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mm(this,t,e,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,s){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,s){var i,n;const r=t.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=hm;if(s&&[o,a,l,c].indexOf(r)>=0&&s!==this._joinRef())return;let h=this._onMessage(r,e,s);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter((t=>{var e,s,i;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(i=null===(s=t.filter)||void 0===s?void 0:s.event)||void 0===i?void 0:i.toLocaleLowerCase())===r})).map((t=>t.callback(h,s))):null===(n=this.bindings[r])||void 0===n||n.filter((t=>{var s,i,n,o,a,l;if(["broadcast","presence","postgres_changes"].includes(r)){if("id"in t){const r=t.id,o=null===(s=t.filter)||void 0===s?void 0:s.event;return r&&(null===(i=e.ids)||void 0===i?void 0:i.includes(r))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(n=e.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const s=null===(a=null===(o=null==t?void 0:t.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===s||s===(null===(l=null==e?void 0:e.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===r})).map((t=>{if("object"==typeof h&&"ids"in h){const t=h.data,{schema:e,table:s,commit_timestamp:i,type:n,errors:r}=t,o={schema:e,table:s,commit_timestamp:i,eventType:n,new:{},old:{},errors:r};h=Object.assign(Object.assign({},o),this._getPayloadRecords(t))}t.callback(h,s)}))}_isClosed(){return this.state===lm.closed}_isJoined(){return this.state===lm.joined}_isJoining(){return this.state===lm.joining}_isLeaving(){return this.state===lm.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,s){const i=t.toLocaleLowerCase(),n={type:i,filter:e,callback:s};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(t,e){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter((t=>{var i;return!((null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===s&&Nm.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hm.close,{},t)}_onError(t){this._on(hm.error,{},(e=>t(e)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lm.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=ym(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=ym(t.columns,t.old_record)),e}}const Um=()=>{},Vm="undefined"!=typeof WebSocket;class zm{constructor(t,e){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=rm,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Um,this.conn=null,this.sendBuffer=[],this.serializer=new bm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>pa((()=>Promise.resolve().then((()=>kg))),void 0,import.meta.url).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},this.endPoint=`${t}/${dm.websocket}`,this.httpEndpoint=Cm(t),(null==e?void 0:e.transport)?this.transport=e.transport:this.transport=null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const i=null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vm((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==e?void 0:e.fetch),null==e?void 0:e.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==e?void 0:e.worker)||!1,this.workerUrl=null==e?void 0:e.workerUrl}this.accessToken=(null==e?void 0:e.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Vm)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Bm(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pa((()=>import("./browser-dc63d3f5.js").then((t=>t.b))),[],import.meta.url).then((({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return 0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map((t=>t.unsubscribe())));return this.disconnect(),t}log(t,e,s){this.logger(t,e,s)}connectionState(){switch(this.conn&&this.conn.readyState){case om.connecting:return fm.Connecting;case om.open:return fm.Open;case om.closing:return fm.Closing;default:return fm.Closed}}isConnected(){return this.connectionState()===fm.Open}channel(t,e={config:{}}){const s=new Nm(`realtime:${t}`,e,this);return this.channels.push(s),s}push(t){const{topic:e,event:s,payload:i,ref:n}=t,r=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${s} (${n})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let t=null;try{t=JSON.parse(atob(e.split(".")[1]))}catch(s){}if(t&&t.exp){if(!(Math.floor(Date.now()/1e3)-t.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${t.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${t.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(hm.access_token,{access_token:e})}))}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find((e=>e.topic===t&&(e._isJoined()||e._isJoining())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter((e=>e._joinRef()!==t._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:s,payload:i,ref:n}=t;n&&n===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${e} ${s} ${n&&"("+n+")"||""}`,i),this.channels.filter((t=>t._isMember(e))).forEach((t=>t._trigger(s,i,n))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t._trigger(hm.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const s=t.match(/\?/)?"&":"?";return`${t}${s}${new URLSearchParams(e)}`}_workerObjectUrl(t){let e;if(t)e=t;else{const t=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});e=URL.createObjectURL(t)}return e}}class Bm{constructor(t,e,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=om.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Hm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wm(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class qm extends Hm{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Km extends Hm{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var Gm=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const Jm=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>pa((()=>Promise.resolve().then((()=>kg))),void 0,import.meta.url).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},Ym=t=>{if(Array.isArray(t))return t.map((t=>Ym(t)));if("function"==typeof t||t!==Object(t))return t;const e={};return Object.entries(t).forEach((([t,s])=>{const i=t.replace(/([-_][a-z])/gi,(t=>t.toUpperCase().replace(/[-_]/g,"")));e[i]=Ym(s)})),e};var Xm=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const Qm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zm=(t,e,s)=>Xm(void 0,void 0,void 0,(function*(){const i=yield Gm(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield pa((()=>Promise.resolve().then((()=>kg))),void 0,import.meta.url)).Response:Response}));t instanceof i&&!(null==s?void 0:s.noResolveJson)?t.json().then((s=>{e(new qm(Qm(s),t.status||500))})).catch((t=>{e(new Km(Qm(t),t))})):e(new Km(Qm(t),t))}));function tb(t,e,s,i,n,r){return Xm(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{t(s,((t,e,s,i)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),i&&(n.body=JSON.stringify(i)),Object.assign(Object.assign({},n),s))})(e,i,n,r)).then((t=>{if(!t.ok)throw t;return(null==i?void 0:i.noResolveJson)?t:t.json()})).then((t=>o(t))).catch((t=>Zm(t,a,i)))}))}))}function eb(t,e,s,i){return Xm(this,void 0,void 0,(function*(){return tb(t,"GET",e,s,i)}))}function sb(t,e,s,i,n){return Xm(this,void 0,void 0,(function*(){return tb(t,"POST",e,i,n,s)}))}function ib(t,e,s,i,n){return Xm(this,void 0,void 0,(function*(){return tb(t,"DELETE",e,i,n,s)}))}var nb=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const rb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ob={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ab{constructor(t,e={},s,i){this.url=t,this.headers=e,this.bucketId=s,this.fetch=Jm(i)}uploadOrUpdate(t,e,s,i){return nb(this,void 0,void 0,(function*(){try{let n;const r=Object.assign(Object.assign({},ob),i);let o=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(r.upsert)});const a=r.metadata;"undefined"!=typeof Blob&&s instanceof Blob?(n=new FormData,n.append("cacheControl",r.cacheControl),a&&n.append("metadata",this.encodeMetadata(a)),n.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(n=s,n.append("cacheControl",r.cacheControl),a&&n.append("metadata",this.encodeMetadata(a))):(n=s,o["cache-control"]=`max-age=${r.cacheControl}`,o["content-type"]=r.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==i?void 0:i.headers)&&(o=Object.assign(Object.assign({},o),i.headers));const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:n,headers:o},(null==r?void 0:r.duplex)?{duplex:r.duplex}:{})),u=yield h.json();if(h.ok)return{data:{path:l,id:u.Id,fullPath:u.Key},error:null};return{data:null,error:u}}catch(n){if(Wm(n))return{data:null,error:n};throw n}}))}upload(t,e,s){return nb(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,s)}))}uploadToSignedUrl(t,e,s,i){return nb(this,void 0,void 0,(function*(){const n=this._removeEmptyFolders(t),r=this._getFinalPath(n),o=new URL(this.url+`/object/upload/sign/${r}`);o.searchParams.set("token",e);try{let t;const e=Object.assign({upsert:ob.upsert},i),r=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(t=new FormData,t.append("cacheControl",e.cacheControl),t.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(t=s,t.append("cacheControl",e.cacheControl)):(t=s,r["cache-control"]=`max-age=${e.cacheControl}`,r["content-type"]=e.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:t,headers:r}),l=yield a.json();if(a.ok)return{data:{path:n,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(Wm(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(t,e){return nb(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);(null==e?void 0:e.upsert)&&(i["x-upsert"]="true");const n=yield sb(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+n.url),o=r.searchParams.get("token");if(!o)throw new Hm("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:o},error:null}}catch(s){if(Wm(s))return{data:null,error:s};throw s}}))}update(t,e,s){return nb(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,s)}))}move(t,e,s){return nb(this,void 0,void 0,(function*(){try{return{data:yield sb(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Wm(i))return{data:null,error:i};throw i}}))}copy(t,e,s){return nb(this,void 0,void 0,(function*(){try{return{data:{path:(yield sb(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Wm(i))return{data:null,error:i};throw i}}))}createSignedUrl(t,e,s){return nb(this,void 0,void 0,(function*(){try{let i=this._getFinalPath(t),n=yield sb(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const r=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${r}`)},{data:n,error:null}}catch(i){if(Wm(i))return{data:null,error:i};throw i}}))}createSignedUrls(t,e,s){return nb(this,void 0,void 0,(function*(){try{const i=yield sb(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),n=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:i.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${n}`):null}))),error:null}}catch(i){if(Wm(i))return{data:null,error:i};throw i}}))}download(t,e){return nb(this,void 0,void 0,(function*(){const s=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",i=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),n=i?`?${i}`:"";try{const e=this._getFinalPath(t),i=yield eb(this.fetch,`${this.url}/${s}/${e}${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield i.blob(),error:null}}catch(r){if(Wm(r))return{data:null,error:r};throw r}}))}info(t){return nb(this,void 0,void 0,(function*(){const e=this._getFinalPath(t);try{const t=yield eb(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Ym(t),error:null}}catch(s){if(Wm(s))return{data:null,error:s};throw s}}))}exists(t){return nb(this,void 0,void 0,(function*(){const e=this._getFinalPath(t);try{return yield function(t,e,s,i){return Xm(this,void 0,void 0,(function*(){return tb(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)}))}(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Wm(s)&&s instanceof Km){const t=s.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:s}}throw s}}))}getPublicUrl(t,e){const s=this._getFinalPath(t),i=[],n=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==n&&i.push(n);const r=void 0!==(null==e?void 0:e.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==o&&i.push(o);let a=i.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${s}${a}`)}}}remove(t){return nb(this,void 0,void 0,(function*(){try{return{data:yield ib(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Wm(e))return{data:null,error:e};throw e}}))}list(t,e,s){return nb(this,void 0,void 0,(function*(){try{const i=Object.assign(Object.assign(Object.assign({},rb),e),{prefix:t||""});return{data:yield sb(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Wm(i))return{data:null,error:i};throw i}}))}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return"undefined"!=typeof Buffer?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const lb={"X-Client-Info":"storage-js/2.7.1"};var cb=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class hb{constructor(t,e={},s){this.url=t,this.headers=Object.assign(Object.assign({},lb),e),this.fetch=Jm(s)}listBuckets(){return cb(this,void 0,void 0,(function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wm(t))return{data:null,error:t};throw t}}))}getBucket(t){return cb(this,void 0,void 0,(function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Wm(e))return{data:null,error:e};throw e}}))}createBucket(t,e={public:!1}){return cb(this,void 0,void 0,(function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Wm(s))return{data:null,error:s};throw s}}))}updateBucket(t,e){return cb(this,void 0,void 0,(function*(){try{const s=yield function(t,e,s,i,n){return Xm(this,void 0,void 0,(function*(){return tb(t,"PUT",e,i,n,s)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers});return{data:s,error:null}}catch(s){if(Wm(s))return{data:null,error:s};throw s}}))}emptyBucket(t){return cb(this,void 0,void 0,(function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Wm(e))return{data:null,error:e};throw e}}))}deleteBucket(t){return cb(this,void 0,void 0,(function*(){try{return{data:yield ib(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Wm(e))return{data:null,error:e};throw e}}))}}class ub extends hb{constructor(t,e={},s){super(t,e,s)}from(t){return new ab(this.url,this.headers,t,this.fetch)}}let db="";db="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const fb={headers:{"X-Client-Info":`supabase-js-${db}/2.49.4`}},pb={schema:"public"},gb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mb={};var bb=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const vb=(t,e,s)=>{const i=(t=>{let e;return e=t||("undefined"==typeof fetch?yg:fetch),(...t)=>e(...t)})(s),n="undefined"==typeof Headers?_g:Headers;return(s,r)=>bb(void 0,void 0,void 0,(function*(){var o;const a=null!==(o=yield e())&&void 0!==o?o:t;let l=new n(null==r?void 0:r.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),i(s,Object.assign(Object.assign({},r),{headers:l}))}))};var yb=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const _b="2.69.1",xb=3e4,wb=9e4,kb={"X-Client-Info":`gotrue-js/${_b}`},Sb="X-Supabase-Api-Version",Tb={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ob=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Pb extends Error{constructor(t,e,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=s}}function Cb(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class Mb extends Pb{constructor(t,e,s){super(t,e,s),this.name="AuthApiError",this.status=e,this.code=s}}class Eb extends Pb{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Ab extends Pb{constructor(t,e,s,i){super(t,s,i),this.name=e,this.status=s}}class Rb extends Ab{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jb extends Ab{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ib extends Ab{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Db extends Ab{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lb extends Ab{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $b extends Ab{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Fb(t){return Cb(t)&&"AuthRetryableFetchError"===t.name}class Nb extends Ab{constructor(t,e,s){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=s}}class Ub extends Ab{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zb=" \t\n\r=".split(""),Bb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zb.length;e+=1)t[zb[e].charCodeAt(0)]=-2;for(let e=0;e<Vb.length;e+=1)t[Vb[e].charCodeAt(0)]=e;return t})();function Hb(t,e,s){const i=Bb[t];if(!(i>-1)){if(-2===i)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8}function Wb(t){const e=[],s=t=>{e.push(String.fromCodePoint(t))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},r=t=>{!function(t,e,s){if(0===e.utf8seq){if(t<=127)return void s(t);for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(2===e.utf8seq)e.codepoint=31&t;else if(3===e.utf8seq)e.codepoint=15&t;else{if(4!==e.utf8seq)throw new Error("Invalid UTF-8 sequence");e.codepoint=7&t}e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|63&t,e.utf8seq-=1,0===e.utf8seq&&s(e.codepoint)}}(t,i,s)};for(let o=0;o<t.length;o+=1)Hb(t.charCodeAt(o),n,r);return e.join("")}function qb(t,e){if(!(t<=127)){if(t<=2047)return e(192|t>>6),void e(128|63&t);if(t<=65535)return e(224|t>>12),e(128|t>>6&63),void e(128|63&t);if(t<=1114111)return e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),void e(128|63&t);throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}e(t)}function Kb(t){const e=[],s={queue:0,queuedBits:0},i=t=>{e.push(t)};for(let n=0;n<t.length;n+=1)Hb(t.charCodeAt(n),s,i);return new Uint8Array(e)}function Gb(t){const e=[];return function(t,e){for(let s=0;s<t.length;s+=1){let i=t.charCodeAt(s);if(i>55295&&i<=56319){const e=1024*(i-55296)&65535;i=65536+(t.charCodeAt(s+1)-56320&65535|e),s+=1}qb(i,e)}}(t,(t=>e.push(t))),new Uint8Array(e)}const Jb=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Yb={tested:!1,writable:!1},Xb=()=>{if(!Jb())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Ay){return!1}if(Yb.tested)return Yb.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yb.tested=!0,Yb.writable=!0}catch(Ay){Yb.tested=!0,Yb.writable=!1}return Yb.writable};const Qb=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>pa((()=>Promise.resolve().then((()=>kg))),void 0,import.meta.url).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},Zb=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},tv=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch(i){return s}},ev=async(t,e)=>{await t.removeItem(e)};class sv{constructor(){this.promise=new sv.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function iv(t){const e=t.split(".");if(3!==e.length)throw new Ub("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Ob.test(e[s]))throw new Ub("JWT not in base64url format");return{header:JSON.parse(Wb(e[0])),payload:JSON.parse(Wb(e[1])),signature:Kb(e[2]),raw:{header:e[0],payload:e[1]}}}function nv(t){return("0"+t.toString(16)).substr(-2)}async function rv(t){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const e=await async function(t){const e=(new TextEncoder).encode(t),s=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(s);return Array.from(i).map((t=>String.fromCharCode(t))).join("")}(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ov(t,e,s=!1){const i=function(){const t=new Uint32Array(56);if("undefined"==typeof crypto){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*e));return s}return crypto.getRandomValues(t),Array.from(t,nv).join("")}();let n=i;s&&(n+="/PASSWORD_RECOVERY"),await Zb(t,`${e}-code-verifier`,n);const r=await rv(i);return[r,i===r?"plain":"s256"]}sv.promiseConstructor=Promise;const av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var lv=globalThis&&globalThis.__rest||function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]])}return s};const cv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hv=[502,503,504];async function uv(t){var e,s;if(!("object"==typeof(s=t)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new $b(cv(t),0);if(hv.includes(t.status))throw new $b(cv(t),t.status);let i,n;try{i=await t.json()}catch(Ay){throw new Eb(cv(Ay),Ay)}const r=function(t){const e=t.headers.get(Sb);if(!e)return null;if(!e.match(av))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(Ay){return null}}(t);if(r&&r.getTime()>=Tb.timestamp&&"object"==typeof i&&i&&"string"==typeof i.code?n=i.code:"object"==typeof i&&i&&"string"==typeof i.error_code&&(n=i.error_code),n){if("weak_password"===n)throw new Nb(cv(i),t.status,(null===(e=i.weak_password)||void 0===e?void 0:e.reasons)||[]);if("session_not_found"===n)throw new Rb}else if("object"==typeof i&&i&&"object"==typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0))throw new Nb(cv(i),t.status,i.weak_password.reasons);throw new Mb(cv(i),t.status||500,n)}async function dv(t,e,s,i){var n;const r=Object.assign({},null==i?void 0:i.headers);r[Sb]||(r[Sb]=Tb.name),(null==i?void 0:i.jwt)&&(r.Authorization=`Bearer ${i.jwt}`);const o=null!==(n=null==i?void 0:i.query)&&void 0!==n?n:{};(null==i?void 0:i.redirectTo)&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(t,e,s,i,n,r){const o=((t,e,s,i)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),s))})(e,i,n,r);let a;try{a=await t(s,Object.assign({},o))}catch(Ay){throw console.error(Ay),new $b(cv(Ay),0)}a.ok||await uv(a);if(null==i?void 0:i.noResolveJson)return a;try{return await a.json()}catch(Ay){await uv(Ay)}}(t,e,s+a,{headers:r,noResolveJson:null==i?void 0:i.noResolveJson},{},null==i?void 0:i.body);return(null==i?void 0:i.xform)?null==i?void 0:i.xform(l):{data:Object.assign({},l),error:null}}function fv(t){var e;let s=null;var i;(function(t){return t.access_token&&t.refresh_token&&t.expires_in})(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=(i=t.expires_in,Math.round(Date.now()/1e3)+i)));return{data:{session:s,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function pv(t){const e=fv(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0)&&(e.data.weak_password=t.weak_password),e}function gv(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function mv(t){return{data:t,error:null}}function bv(t){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r}=t,o=lv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r},user:Object.assign({},o)},error:null}}function vv(t){return t}var yv=globalThis&&globalThis.__rest||function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]])}return s};class _v{constructor({url:t="",headers:e={},fetch:s}){this.url=t,this.headers=e,this.fetch=Qb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await dv(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Cb(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,e={}){try{return await dv(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:gv})}catch(s){if(Cb(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:e}=t,s=yv(t,["options"]),i=Object.assign(Object.assign({},s),e);return"newEmail"in s&&(i.new_email=null==s?void 0:s.newEmail,delete i.newEmail),await dv(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bv,redirectTo:null==e?void 0:e.redirectTo})}catch(e){if(Cb(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await dv(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gv})}catch(e){if(Cb(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,s,i,n,r,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=await dv(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(i=null==t?void 0:t.perPage)||void 0===i?void 0:i.toString())&&void 0!==n?n:""},xform:vv});if(c.error)throw c.error;const h=await c.json(),u=null!==(r=c.headers.get("x-total-count"))&&void 0!==r?r:0,d=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach((t=>{const e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(t.split(";")[1].split("=")[1]);l[`${s}Page`]=e})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(Cb(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){try{return await dv(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gv})}catch(e){if(Cb(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await dv(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:gv})}catch(s){if(Cb(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,e=!1){try{return await dv(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:gv})}catch(s){if(Cb(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:e,error:s}=await dv(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:s}}catch(e){if(Cb(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await dv(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Cb(e))return{data:null,error:e};throw e}}}const xv={getItem:t=>Xb()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Xb()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Xb()&&globalThis.localStorage.removeItem(t)}};function wv(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const kv=!!(globalThis&&Xb()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Sv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tv extends Sv{}async function Ov(t,e,s){kv&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout((()=>{i.abort(),kv&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)}),e),await Promise.resolve().then((()=>globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},(async i=>{if(!i){if(0===e)throw kv&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Tv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kv)try{const t=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(t,null,"  "))}catch(Ay){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Ay)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}kv&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{kv&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Ay){"undefined"!=typeof self&&(self.globalThis=self)}}();const Pv={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cv(t,e,s){return await s()}class Mv{constructor(t){var e,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mv.nextInstanceID,Mv.nextInstanceID+=1,this.instanceID>0&&Jb()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Pv),t);if(this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _v({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Qb(i.fetch),this.lock=i.lock||Cv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Jb()&&(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===e?void 0:e.locks)?this.lock=Ov:this.lock=Cv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Xb()?this.storage=xv:(this.memoryStorage={},this.storage=wv(this.memoryStorage)):(this.memoryStorage={},this.storage=wv(this.memoryStorage)),Jb()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Ay){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Ay)}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",(async t=>{this._debug("received broadcast notification from other tab or client",t),await this._notifyAllSubscribers(t.data.event,t.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_b}) ${(new Date).toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var t;try{const e=function(t){const e={},s=new URL(t);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach(((t,s)=>{e[s]=t}))}catch(Ay){}return s.searchParams.forEach(((t,s)=>{e[s]=t})),e}(window.location.href);let s="none";if(this._isImplicitGrantCallback(e)?s="implicit":await this._isPKCECallback(e)&&(s="pkce"),Jb()&&this.detectSessionInUrl&&"none"!==s){const{data:i,error:n}=await this._getSessionFromURL(e,s);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(t){return Cb(t)&&"AuthImplicitGrantRedirectError"===t.name}(n)){const e=null===(t=n.details)||void 0===t?void 0:t.code;if("identity_already_exists"===e||"identity_not_found"===e||"single_identity_not_deletable"===e)return{error:n}}return await this._removeSession(),{error:n}}const{session:r,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",o),await this._saveSession(r),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Cb(e)?{error:e}:{error:new Eb("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,s,i;try{const n=await dv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.captchaToken}},xform:fv}),{data:r,error:o}=n;if(o||!r)return{data:{user:null,session:null},error:o};const a=r.session,l=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(n){if(Cb(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(t){var e,s,i;try{let n;if("email"in t){const{email:s,password:i,options:r}=t;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await ov(this.storage,this.storageKey)),n=await dv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==r?void 0:r.emailRedirectTo,body:{email:s,password:i,data:null!==(e=null==r?void 0:r.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},code_challenge:o,code_challenge_method:a},xform:fv})}else{if(!("phone"in t))throw new Ib("You must provide either an email or phone number and a password");{const{phone:e,password:r,options:o}=t;n=await dv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:r,data:null!==(s=null==o?void 0:o.data)&&void 0!==s?s:{},channel:null!==(i=null==o?void 0:o.channel)&&void 0!==i?i:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:fv})}}const{data:r,error:o}=n;if(o||!r)return{data:{user:null,session:null},error:o};const a=r.session,l=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(n){if(Cb(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(t){try{let e;if("email"in t){const{email:s,password:i,options:n}=t;e=await dv(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:pv})}else{if(!("phone"in t))throw new Ib("You must provide either an email or phone number and a password");{const{phone:s,password:i,options:n}=t;e=await dv(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:pv})}}const{data:s,error:i}=e;return i?{data:{user:null,session:null},error:i}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i}):{data:{user:null,session:null},error:new jb}}catch(e){if(Cb(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,s,i,n;return await this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(s=t.options)||void 0===s?void 0:s.scopes,queryParams:null===(i=t.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(n=t.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(t)))}async _exchangeCodeForSession(t){const e=await tv(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(null!=e?e:"").split("/");try{const{data:e,error:n}=await dv(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:fv});if(await ev(this.storage,`${this.storageKey}-code-verifier`),n)throw n;return e&&e.session&&e.user?(e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",e.session)),{data:Object.assign(Object.assign({},e),{redirectType:null!=i?i:null}),error:n}):{data:{user:null,session:null,redirectType:null},error:new jb}}catch(n){if(Cb(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(t){try{const{options:e,provider:s,token:i,access_token:n,nonce:r}=t,o=await dv(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:n,nonce:r,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:fv}),{data:a,error:l}=o;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new jb}}catch(e){if(Cb(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,s,i,n,r;try{if("email"in t){const{email:i,options:n}=t;let r=null,o=null;"pkce"===this.flowType&&([r,o]=await ov(this.storage,this.storageKey));const{error:a}=await dv(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:null!==(e=null==n?void 0:n.data)&&void 0!==e?e:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:r,code_challenge_method:o},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in t){const{phone:e,options:s}=t,{data:o,error:a}=await dv(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(i=null==s?void 0:s.data)&&void 0!==i?i:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(r=null==s?void 0:s.channel)&&void 0!==r?r:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new Ib("You must provide either an email or phone number.")}catch(o){if(Cb(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var e,s;try{let i,n;"options"in t&&(i=null===(e=t.options)||void 0===e?void 0:e.redirectTo,n=null===(s=t.options)||void 0===s?void 0:s.captchaToken);const{data:r,error:o}=await dv(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:fv});if(o)throw o;if(!r)throw new Error("An error occurred on token verification.");const a=r.session,l=r.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(Cb(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var e,s,i;try{let n=null,r=null;return"pkce"===this.flowType&&([n,r]=await ov(this.storage,this.storageKey)),await dv(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(s=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==s?s:void 0}),(null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:r}),headers:this.headers,xform:mv})}catch(n){if(Cb(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async t=>{const{data:{session:e},error:s}=t;if(s)throw s;if(!e)throw new Rb;const{error:i}=await dv(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(Cb(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:n}=t,{error:r}=await dv(this.fetch,"POST",e,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:r}}if("phone"in t){const{phone:s,type:i,options:n}=t,{data:r,error:o}=await dv(this.fetch,"POST",e,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null==r?void 0:r.message_id},error:o}}throw new Ib("You must provide either an email or phone number and a type")}catch(e){if(Cb(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async t=>t))))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await s}catch(Ay){}})()),s}return await this.lock(`lock:${this.storageKey}`,t,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(Ay){}})()),await t;this.pendingInLock.length;){const t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let t=null;const e=await tv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),null!==e&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=!!t.expires_at&&1e3*t.expires_at-Date.now()<wb;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let e=this.suppressGetSessionWarning;t=new Proxy(t,{get:(t,s,i)=>(e||"user"!==s||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e=!0,this.suppressGetSessionWarning=!0),Reflect.get(t,s,i))})}return{data:{session:t},error:null}}const{session:i,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(t){try{return t?await dv(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gv}):await this._useSession((async t=>{var e,s,i;const{data:n,error:r}=t;if(r)throw r;return(null===(e=n.session)||void 0===e?void 0:e.access_token)||this.hasCustomAuthorizationHeader?await dv(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(i=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0,xform:gv}):{data:{user:null},error:new Rb}}))}catch(e){if(Cb(e))return function(t){return Cb(t)&&"AuthSessionMissingError"===t.name}(e)&&(await this._removeSession(),await ev(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(t,e)))}async _updateUser(t,e={}){try{return await this._useSession((async s=>{const{data:i,error:n}=s;if(n)throw n;if(!i.session)throw new Rb;const r=i.session;let o=null,a=null;"pkce"===this.flowType&&null!=t.email&&([o,a]=await ov(this.storage,this.storageKey));const{data:l,error:c}=await dv(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:a}),jwt:r.access_token,xform:gv});if(c)throw c;return r.user=l.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}}))}catch(s){if(Cb(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(t)))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rb;const e=Date.now()/1e3;let s=e,i=!0,n=null;const{payload:r}=iv(t.access_token);if(r.exp&&(s=r.exp,i=s<=e),i){const{session:e,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!e)return{data:{user:null,session:null},error:null};n=e}else{const{data:i,error:r}=await this._getUser(t.access_token);if(r)throw r;n={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:s-e,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(e){if(Cb(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(t)))}async _refreshSession(t){try{return await this._useSession((async e=>{var s;if(!t){const{data:i,error:n}=e;if(n)throw n;t=null!==(s=i.session)&&void 0!==s?s:void 0}if(!(null==t?void 0:t.refresh_token))throw new Rb;const{session:i,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(Cb(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!Jb())throw new Db("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Db(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if("pkce"===this.flowType)throw new Lb("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Db("Not a valid implicit grant flow url.")}if("pkce"===e){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lb("No code detected.");const{data:e,error:s}=await this._exchangeCodeForSession(t.code);if(s)throw s;const i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:e.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:n,refresh_token:r,expires_in:o,expires_at:a,token_type:l}=t;if(!(n&&o&&r&&l))throw new Db("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(o);let u=c+h;a&&(u=parseInt(a));const d=u-c;1e3*d<=xb&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const f=u-h;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,u,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,u,c);const{data:p,error:g}=await this._getUser(n);if(g)throw g;const m={provider_token:s,provider_refresh_token:i,access_token:n,expires_in:h,expires_at:u,refresh_token:r,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(s){if(Cb(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return Boolean(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await tv(this.storage,`${this.storageKey}-code-verifier`);return!(!t.code||!e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(t)))}async _signOut({scope:t}={scope:"global"}){return await this._useSession((async e=>{var s;const{data:i,error:n}=e;if(n)return{error:n};const r=null===(s=i.session)||void 0===s?void 0:s.access_token;if(r){const{error:e}=await this.admin.signOut(r,t);if(e&&(!function(t){return Cb(t)&&"AuthApiError"===t.name}(e)||404!==e.status&&401!==e.status&&403!==e.status))return{error:e}}return"others"!==t&&(await this._removeSession(),await ev(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),s={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(e)}))})(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession((async e=>{var s,i;try{const{data:{session:i},error:n}=e;if(n)throw n;await(null===(s=this.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(n){await(null===(i=this.stateChangeEmitters.get(t))||void 0===i?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",n),console.error(n)}}))}async resetPasswordForEmail(t,e={}){let s=null,i=null;"pkce"===this.flowType&&([s,i]=await ov(this.storage,this.storageKey,!0));try{return await dv(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(n){if(Cb(n))return{data:null,error:n};throw n}}async getUserIdentities(){var t;try{const{data:e,error:s}=await this.getUser();if(s)throw s;return{data:{identities:null!==(t=e.user.identities)&&void 0!==t?t:[]},error:null}}catch(e){if(Cb(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:s,error:i}=await this._useSession((async e=>{var s,i,n,r,o;const{data:a,error:l}=e;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:null===(s=t.options)||void 0===s?void 0:s.redirectTo,scopes:null===(i=t.options)||void 0===i?void 0:i.scopes,queryParams:null===(n=t.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await dv(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==o?o:void 0})}));if(i)throw i;return Jb()&&!(null===(e=t.options)||void 0===e?void 0:e.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),{data:{provider:t.provider,url:null==s?void 0:s.url},error:null}}catch(s){if(Cb(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession((async e=>{var s,i;const{data:n,error:r}=e;if(r)throw r;return await dv(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:null!==(i=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})}))}catch(e){if(Cb(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const n=Date.now();return await(s=async s=>(s>0&&await async function(t){return await new Promise((e=>{setTimeout((()=>e(null)),t)}))}(200*Math.pow(2,s-1)),this._debug(e,"refreshing attempt",s),await dv(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fv})),i=(t,e)=>{const s=200*Math.pow(2,t);return e&&Fb(e)&&Date.now()+s-n<xb},new Promise(((t,e)=>{(async()=>{for(let n=0;n<1/0;n++)try{const e=await s(n);if(!i(n,null,e))return void t(e)}catch(Ay){if(!i(n,Ay))return void e(Ay)}})()})))}catch(n){if(this._debug(e,"error",n),Cb(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(e,"end")}var s,i}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",s),Jb()&&!e.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const s=await tv(this.storage,this.storageKey);if(this._debug(e,"session from storage",s),!this._isValidSession(s))return this._debug(e,"session is not valid"),void(null!==s&&await this._removeSession());const i=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<wb;if(this._debug(e,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:t}=await this._callRefreshToken(s.refresh_token);t&&(console.error(t),Fb(t)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",t),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(e,"error",s),void console.error(s)}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,s;if(!t)throw new Rb;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new sv;const{data:e,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!e.session)throw new Rb;await this._saveSession(e.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);const i={session:e.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(n){if(this._debug(i,"error",n),Cb(n)){const t={session:null,error:n};return Fb(n)||await this._removeSession(),null===(e=this.refreshingDeferred)||void 0===e||e.resolve(t),t}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,e,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",e,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],n=Array.from(this.stateChangeEmitters.values()).map((async s=>{try{await s.callback(t,e)}catch(Ay){i.push(Ay)}}));if(await Promise.all(n),i.length>0){for(let t=0;t<i.length;t+=1)console.error(i[t]);throw i[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ev(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jb()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(Ay){console.error("removing visibilitychange callback failed",Ay)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval((()=>this._autoRefreshTokenTick()),xb);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const i=Math.floor((1e3*s.expires_at-t)/xb);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i<=3&&await this._callRefreshToken(s.refresh_token)}))}catch(Ay){console.error("Auto refresh tick failed with error. This is likely a transient error.",Ay)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Ay){if(!(Ay.isAcquireTimeout||Ay instanceof Sv))throw Ay;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jb()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,s){const i=[`provider=${encodeURIComponent(e)}`];if((null==s?void 0:s.redirectTo)&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[t,e]=await ov(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(e)}`});i.push(s.toString())}if(null==s?void 0:s.queryParams){const t=new URLSearchParams(s.queryParams);i.push(t.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession((async e=>{var s;const{data:i,error:n}=e;return n?{data:null,error:n}:await dv(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token})}))}catch(e){if(Cb(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession((async e=>{var s,i;const{data:n,error:r}=e;if(r)return{data:null,error:r};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:l}=await dv(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(s=null==n?void 0:n.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:("totp"===t.factorType&&(null===(i=null==a?void 0:a.totp)||void 0===i?void 0:i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(e){if(Cb(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var s;const{data:i,error:n}=e;if(n)return{data:null,error:n};const{data:r,error:o}=await dv(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:o})}))}catch(e){if(Cb(e))return{data:null,error:e};throw e}}))}async _challenge(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var s;const{data:i,error:n}=e;return n?{data:null,error:n}:await dv(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token})}))}catch(e){if(Cb(e))return{data:null,error:e};throw e}}))}async _challengeAndVerify(t){const{data:e,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const s=(null==t?void 0:t.factors)||[],i=s.filter((t=>"totp"===t.factor_type&&"verified"===t.status)),n=s.filter((t=>"phone"===t.factor_type&&"verified"===t.status));return{data:{all:s,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async t=>{var e,s;const{data:{session:i},error:n}=t;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=iv(i.access_token);let o=null;r.aal&&(o=r.aal);let a=o;(null!==(s=null===(e=i.user.factors)||void 0===e?void 0:e.filter((t=>"verified"===t.status)))&&void 0!==s?s:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:r.amr||[]},error:null}}))))}async fetchJwk(t,e={keys:[]}){let s=e.keys.find((e=>e.kid===t));if(s)return s;if(s=this.jwks.keys.find((e=>e.kid===t)),s&&this.jwks_cached_at+6e5>Date.now())return s;const{data:i,error:n}=await dv(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||0===i.keys.length)throw new Ub("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),s=i.keys.find((e=>e.kid===t)),!s)throw new Ub("No matching signing key found in JWKS");return s}async getClaims(t,e={keys:[]}){try{let s=t;if(!s){const{data:t,error:e}=await this.getSession();if(e||!t.session)return{data:null,error:e};s=t.session.access_token}const{header:i,payload:n,signature:r,raw:{header:o,payload:a}}=iv(s);if(function(t){if(!t)throw new Error("Missing exp claim");if(t<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp),!i.kid||"HS256"===i.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:t}=await this.getUser(s);if(t)throw t;return{data:{claims:n,header:i,signature:r},error:null}}const l=function(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(i.alg),c=await this.fetchJwk(i.kid,e),h=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!(await crypto.subtle.verify(l,h,r,Gb(`${o}.${a}`))))throw new Ub("Invalid JWT signature");return{data:{claims:n,header:i,signature:r},error:null}}catch(s){if(Cb(s))return{data:null,error:s};throw s}}}Mv.nextInstanceID=0;const Ev=Mv;class Av extends Ev{constructor(t){super(t)}}var Rv=globalThis&&globalThis.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(Ay){r(Ay)}}function a(t){try{l(i.throw(t))}catch(Ay){r(Ay)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class jv{constructor(t,e,s){var i,n,r;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const o=t.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(t,e){const{db:s,auth:i,realtime:n,global:r}=t,{db:o,auth:a,realtime:l,global:c}=e,h={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),r),accessToken:()=>yb(this,void 0,void 0,(function*(){return""}))};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}(null!=s?s:{},{db:pb,realtime:mb,auth:Object.assign(Object.assign({},gb),{storageKey:a}),global:fb});this.storageKey=null!==(i=l.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(n=l.global.headers)&&void 0!==n?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(t,e)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(e)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(r=l.auth)&&void 0!==r?r:{},this.headers,l.global.fetch),this.fetch=vb(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Zg(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new ag(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ub(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return Rv(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return null!==(e=null===(t=s.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null}))}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,storageKey:n,flowType:r,lock:o,debug:a},l,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Av({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:n,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,flowType:r,lock:o,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zm(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((t,e)=>{this._handleTokenChanged(t,"CLIENT",null==e?void 0:e.access_token)}))}_handleTokenChanged(t,e,s){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===s?"SIGNED_OUT"===t&&(this.realtime.setAuth(),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=s}}const Iv=new jv("https://jjkarajdhjyvktaejybh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impqa2FyYWpkaGp5dmt0YWVqeWJoIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NDIxODkwMiwiZXhwIjoyMDU5Nzk0OTAyfQ.CQhhfJvVJz8tonosUyXTu9v6rMHOdMaNovQtQmhmFyc",Dv);var Dv;const Lv=async()=>{const{data:t,error:e}=await Iv.from("users").select("*");return{data:t,error:e}},$v={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Fv={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},Nv={class:"space-y-6"},Uv={class:"space-y-4"},Vv=["src"],zv={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Bv={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},Hv={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Wv={class:"overflow-x-auto"},qv={class:"min-w-full divide-y divide-gray-200"},Kv={class:"bg-white divide-y divide-gray-200"},Gv={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Jv={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Yv={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Xv={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Qv=["onClick","disabled"];const Zv=[{path:"/login",name:"login",component:Zp,meta:{title:"Login"}},{path:"/",name:"dashboard",component:Oa,meta:{title:"Painel Principal",requiresAuth:!0}},{path:"/membros",name:"members",component:Qa,meta:{title:"Cadastro de Membros",requiresAuth:!0}},{path:"/contributions",name:"contributions",component:()=>pa((()=>import("./ContributionsView-88857f20.js")),["./ContributionsView-88857f20.js","./ContributionsView-0f86b0ea.css"],import.meta.url),meta:{title:"Contribuições",requiresAuth:!0}},{path:"/financeiro",name:"financial",component:Vp,meta:{title:"Controle Financeiro",requiresAuth:!0}},{path:"/configuracoes",name:"settings",component:na({name:"SettingsView",setup(){const{churchSettings:t,updateSettings:e}=Bp(),s=Te([]),i=Te(!1),n=Te(null),r=Te({name:"",email:"",password:"",role:"user"});return xs((async()=>{try{i.value=!0;const{data:t,error:e}=await Lv();if(e)throw e;s.value=t}catch(t){n.value=t.message,console.error("Erro ao carregar usuários:",t)}finally{i.value=!1}})),{churchSettings:t,users:s,newUser:r,handleLogoUpload:async e=>{const s=e.target.files[0];if(s){const e=new FileReader;e.onload=e=>{t.value.logo=e.target.result},e.readAsDataURL(s)}},handleAddUser:async()=>{try{i.value=!0;const{error:t}=await(async t=>{const{data:e,error:s}=await Iv.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name,role:t.role}}});return{data:e,error:s}})(r.value);if(t)throw t;const{data:e,error:n}=await Lv();if(n)throw n;s.value=e,r.value={name:"",email:"",password:"",role:"user"},alert("Usuário criado com sucesso!")}catch(t){n.value=t.message,alert("Erro ao criar usuário: "+t.message)}finally{i.value=!1}},deleteUser:async t=>{if(confirm("Tem certeza que deseja excluir este usuário?"))try{i.value=!0;const{error:e}=await(async t=>{const{error:e}=await Iv.from("users").delete().eq("id",t);return{error:e}})(t);if(e)throw e;s.value=s.value.filter((e=>e.id!==t)),alert("Usuário excluído com sucesso!")}catch(e){n.value=e.message,alert("Erro ao excluir usuário: "+e.message)}finally{i.value=!1}},saveSettings:async()=>{try{i.value=!0;const{error:s}=await(async t=>{const{data:e,error:s}=await Iv.from("church_settings").upsert(t);return{data:e,error:s}})(t.value);if(s)throw s;e(t.value),alert("Configurações salvas com sucesso!")}catch(s){n.value=s.message,alert("Erro ao salvar configurações: "+s.message)}finally{i.value=!1}}}}},[["render",function(t,e,s,i,n,r){return qi(),Yi("div",$v,[e[25]||(e[25]=sn("h1",{class:"text-3xl font-bold text-gray-900 mb-8"},"Configurações",-1)),sn("div",Fv,[e[15]||(e[15]=sn("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configurações da Igreja",-1)),sn("div",Nv,[sn("div",null,[e[10]||(e[10]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nome da Igreja",-1)),rs(sn("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.churchSettings.name=t),placeholder:"Nome da Igreja",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[ar,i.churchSettings.name]])]),sn("div",null,[e[11]||(e[11]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Logo da Igreja",-1)),sn("div",Uv,[i.churchSettings.logo?(qi(),Yi("img",{key:0,src:i.churchSettings.logo,alt:"Logo da Igreja",class:"max-w-xs rounded-lg shadow-sm"},null,8,Vv)):ln("",!0),sn("input",{type:"file",onChange:e[1]||(e[1]=(...t)=>i.handleLogoUpload&&i.handleLogoUpload(...t)),accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors"},null,32)])]),sn("div",null,[e[14]||(e[14]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-4"},"Tema de Cores",-1)),sn("div",zv,[sn("div",null,[e[12]||(e[12]=sn("label",{class:"block text-sm text-gray-600 mb-2"},"Cor Principal",-1)),rs(sn("input",{type:"color","onUpdate:modelValue":e[2]||(e[2]=t=>i.churchSettings.primaryColor=t),class:"h-10 w-full rounded-lg shadow-sm cursor-pointer"},null,512),[[ar,i.churchSettings.primaryColor]])]),sn("div",null,[e[13]||(e[13]=sn("label",{class:"block text-sm text-gray-600 mb-2"},"Cor Secundária",-1)),rs(sn("input",{type:"color","onUpdate:modelValue":e[3]||(e[3]=t=>i.churchSettings.secondaryColor=t),class:"h-10 w-full rounded-lg shadow-sm cursor-pointer"},null,512),[[ar,i.churchSettings.secondaryColor]])])])])])]),sn("div",Bv,[e[24]||(e[24]=sn("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Gerenciamento de Usuários",-1)),sn("form",{onSubmit:e[8]||(e[8]=fr(((...t)=>i.handleAddUser&&i.handleAddUser(...t)),["prevent"])),class:"space-y-6 mb-8"},[sn("div",Hv,[sn("div",null,[e[16]||(e[16]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nome",-1)),rs(sn("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>i.newUser.name=t),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[ar,i.newUser.name]])]),sn("div",null,[e[17]||(e[17]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"E-mail",-1)),rs(sn("input",{type:"email","onUpdate:modelValue":e[5]||(e[5]=t=>i.newUser.email=t),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[ar,i.newUser.email]])]),sn("div",null,[e[18]||(e[18]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Senha",-1)),rs(sn("input",{type:"password","onUpdate:modelValue":e[6]||(e[6]=t=>i.newUser.password=t),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[ar,i.newUser.password]])]),sn("div",null,[e[20]||(e[20]=sn("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Usuário",-1)),rs(sn("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>i.newUser.role=t),class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},e[19]||(e[19]=[sn("option",{value:"admin"},"Administrador",-1),sn("option",{value:"user"},"Usuário Comum",-1)]),512),[[lr,i.newUser.role]])])]),e[21]||(e[21]=sn("button",{type:"submit",class:"w-full sm:w-auto px-6 py-3 bg-green-600 text-white font-medium rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"}," Adicionar Usuário ",-1))],32),sn("div",null,[e[23]||(e[23]=sn("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Usuários Cadastrados",-1)),sn("div",Wv,[sn("table",qv,[e[22]||(e[22]=sn("thead",{class:"bg-gray-50"},[sn("tr",null,[sn("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nome"),sn("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"E-mail"),sn("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo"),sn("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ações")])],-1)),sn("tbody",Kv,[(qi(!0),Yi(Ui,null,Is(i.users,(t=>(qi(),Yi("tr",{key:t.id,class:"hover:bg-gray-50 transition-colors"},[sn("td",Gv,Z(t.name),1),sn("td",Jv,Z(t.email),1),sn("td",Yv,[sn("span",{class:K(["admin"===t.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800","px-2 py-1 rounded-full text-xs font-medium"])},Z("admin"===t.role?"Administrador":"Usuário Comum"),3)]),sn("td",Xv,[sn("button",{onClick:e=>i.deleteUser(t.id),disabled:"admin@igreja.com"===t.email,class:"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Excluir ",8,Qv)])])))),128))])])])])]),sn("button",{onClick:e[9]||(e[9]=(...t)=>i.saveSettings&&i.saveSettings(...t)),class:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Salvar Configurações ")])}],["__scopeId","data-v-eb004389"]]),meta:{title:"Configurações",requiresAuth:!0,requiresAdmin:!0}}],ty=function(t){const e=Ao(t.routes,t),s=t.parseQuery||No,i=t.stringifyQuery||Uo,n=t.history,r=Ko(),o=Ko(),a=Ko(),l=Oe(to);let c=to;kr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Or.bind(null,(t=>""+t)),u=Or.bind(null,Wr),d=Or.bind(null,qr);function f(t,r){if(r=Tr({},r||l.value),"string"==typeof t){const i=Gr(s,t,r.path),o=e.resolve({path:i.path},r),a=n.createHref(i.fullPath);return Tr(i,o,{params:d(o.params),hash:qr(i.hash),redirectedFrom:void 0,href:a})}let o;if(null!=t.path)o=Tr({},t,{path:Gr(s,t.path,r.path).path});else{const e=Tr({},t.params);for(const t in e)null==e[t]&&delete e[t];o=Tr({},t,{params:u(e)}),r.params=u(r.params)}const a=e.resolve(o,r),c=t.hash||"";a.params=h(d(a.params));const f=function(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}(i,Tr({},t,{hash:(p=c,Br(p).replace(Nr,"{").replace(Vr,"}").replace($r,"^")),path:a.path}));var p;const g=n.createHref(f);return Tr({fullPath:f,hash:c,query:i===Uo?Vo(t.query):t.query||{}},a,{redirectedFrom:void 0,href:g})}function p(t){return"string"==typeof t?Gr(s,t,l.value.path):Tr({},t)}function g(t,e){if(c!==t)return _o(8,{from:e,to:t})}function m(t){return v(t)}function b(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:s}=e;let i="function"==typeof s?s(t):s;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=p(i):{path:i},i.params={}),Tr({query:t.query,hash:t.hash,params:null!=i.path?{}:t.params},i)}}function v(t,e){const s=c=f(t),n=l.value,r=t.state,o=t.force,a=!0===t.replace,h=b(s);if(h)return v(Tr(p(h),{state:"object"==typeof h?Tr({},r,h.state):r,force:o,replace:a}),e||s);const u=s;let d;return u.redirectedFrom=e,!o&&function(t,e,s){const i=e.matched.length-1,n=s.matched.length-1;return i>-1&&i===n&&Yr(e.matched[i],s.matched[n])&&Xr(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}(i,n,s)&&(d=_o(16,{to:u,from:n}),A(n,n,!0,!1)),(d?Promise.resolve(d):x(u,n)).catch((t=>xo(t)?xo(t,2)?t:E(t):M(t,u,n))).then((t=>{if(t){if(xo(t,2))return v(Tr({replace:a},p(t.to),{state:"object"==typeof t.to?Tr({},r,t.to.state):r,force:o}),e||u)}else t=k(u,n,!0,a,r);return w(u,n,t),t}))}function y(t,e){const s=g(t,e);return s?Promise.reject(s):Promise.resolve()}function _(t){const e=I.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function x(t,e){let s;const[i,n,a]=function(t,e){const s=[],i=[],n=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const r=e.matched[o];r&&(t.matched.find((t=>Yr(t,r)))?i.push(r):s.push(r));const a=t.matched[o];a&&(e.matched.find((t=>Yr(t,a)))||n.push(a))}return[s,i,n]}(t,e);s=Jo(i.reverse(),"beforeRouteLeave",t,e);for(const r of i)r.leaveGuards.forEach((i=>{s.push(Go(i,t,e))}));const l=y.bind(null,t,e);return s.push(l),L(s).then((()=>{s=[];for(const i of r.list())s.push(Go(i,t,e));return s.push(l),L(s)})).then((()=>{s=Jo(n,"beforeRouteUpdate",t,e);for(const i of n)i.updateGuards.forEach((i=>{s.push(Go(i,t,e))}));return s.push(l),L(s)})).then((()=>{s=[];for(const i of a)if(i.beforeEnter)if(Cr(i.beforeEnter))for(const n of i.beforeEnter)s.push(Go(n,t,e));else s.push(Go(i.beforeEnter,t,e));return s.push(l),L(s)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),s=Jo(a,"beforeRouteEnter",t,e,_),s.push(l),L(s)))).then((()=>{s=[];for(const i of o.list())s.push(Go(i,t,e));return s.push(l),L(s)})).catch((t=>xo(t,8)?t:Promise.reject(t)))}function w(t,e,s){a.list().forEach((i=>_((()=>i(t,e,s)))))}function k(t,e,s,i,r){const o=g(t,e);if(o)return o;const a=e===to,c=kr?history.state:{};s&&(i||a?n.replace(t.fullPath,Tr({scroll:a&&c&&c.scroll},r)):n.push(t.fullPath,r)),l.value=t,A(t,e,s,a),E()}let S;function T(){S||(S=n.listen(((t,e,s)=>{if(!D.listening)return;const i=f(t),r=b(i);if(r)return void v(Tr(r,{replace:!0,force:!0}),i).catch(Pr);c=i;const o=l.value;var a,h;kr&&(a=ho(o.fullPath,s.delta),h=lo(),uo.set(a,h)),x(i,o).catch((t=>xo(t,12)?t:xo(t,2)?(v(Tr(p(t.to),{force:!0}),i).then((t=>{xo(t,20)&&!s.delta&&s.type===eo.pop&&n.go(-1,!1)})).catch(Pr),Promise.reject()):(s.delta&&n.go(-s.delta,!1),M(t,i,o)))).then((t=>{(t=t||k(i,o,!1))&&(s.delta&&!xo(t,8)?n.go(-s.delta,!1):s.type===eo.pop&&xo(t,20)&&n.go(-1,!1)),w(i,o,t)})).catch(Pr)})))}let O,P=Ko(),C=Ko();function M(t,e,s){E(t);const i=C.list();return i.length?i.forEach((i=>i(t,e,s))):console.error(t),Promise.reject(t)}function E(t){return O||(O=!t,T(),P.list().forEach((([e,s])=>t?s(t):e())),P.reset()),t}function A(e,s,i,n){const{scrollBehavior:r}=t;if(!kr||!r)return Promise.resolve();const o=!i&&function(t){const e=uo.get(t);return uo.delete(t),e}(ho(e.fullPath,0))||(n||!i)&&history.state&&history.state.scroll||null;return Ge().then((()=>r(e,s,o))).then((t=>t&&co(t))).catch((t=>M(t,e,s)))}const R=t=>n.go(t);let j;const I=new Set,D={currentRoute:l,listening:!0,addRoute:function(t,s){let i,n;return mo(t)?(i=e.getRecordMatcher(t),n=s):n=t,e.addRoute(n,i)},removeRoute:function(t){const s=e.getRecordMatcher(t);s&&e.removeRoute(s)},clearRoutes:e.clearRoutes,hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:f,options:t,push:m,replace:function(t){return m(Tr(p(t),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:C.add,isReady:function(){return O&&l.value!==to?Promise.resolve():new Promise(((t,e)=>{P.add([t,e])}))},install(t){t.component("RouterLink",Qo),t.component("RouterView",sa),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(l)}),kr&&!j&&l.value===to&&(j=!0,m(n.location).catch((t=>{})));const e={};for(const i in to)Object.defineProperty(e,i,{get:()=>l.value[i],enumerable:!0});t.provide(Ho,this),t.provide(Wo,fe(e)),t.provide(qo,l);const s=t.unmount;I.add(t),t.unmount=function(){I.delete(t),I.size<1&&(c=to,S&&S(),S=null,l.value=to,j=!1,O=!1),s()}}};function L(t){return t.reduce(((t,e)=>t.then((()=>_(e)))),Promise.resolve())}return D}({history:function(t){const e=go(t=ro(t)),s=function(t,e,s,i){let n=[],r=[],o=null;const a=({state:r})=>{const a=fo(t,location),l=s.value,c=e.value;let h=0;if(r){if(s.value=a,e.value=r,o&&o===l)return void(o=null);h=c?r.position-c.position:0}else i(a);n.forEach((t=>{t(s.value,l,{delta:h,type:eo.pop,direction:h?h>0?io.forward:io.back:io.unknown})}))};function l(){const{history:t}=window;t.state&&t.replaceState(Tr({},t.state,{scroll:lo()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){o=s.value},listen:function(t){n.push(t);const e=()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)};return r.push(e),e},destroy:function(){for(const t of r)t();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace),i=Tr({location:"",base:t,go:function(t,e=!0){e||s.pauseListeners(),history.go(t)},createHref:ao.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}('"/"'),routes:Zv});ty.beforeEach(((t,e,s)=>{const i="true"===localStorage.getItem("isAuthenticated");document.title=`${t.meta.title} - Igreja Management`,t.meta.requiresAuth&&!i?s("/login"):"/login"===t.path&&i?s("/"):s()}));function ey(t,e){Object.keys(t).forEach((function(s){return e(t[s],s)}))}function sy(t,e,s){return e.indexOf(t)<0&&(s&&s.prepend?e.unshift(t):e.push(t)),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function iy(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var s=t.state;ry(t,s,[],t._modules.root,!0),ny(t,s,e)}function ny(t,e,s){var i=t._state,n=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={},a={},l=rt(!0);l.run((function(){ey(r,(function(e,s){o[s]=function(t,e){return function(){return t(e)}}(e,t),a[s]=Cn((function(){return o[s]()})),Object.defineProperty(t.getters,s,{get:function(){return a[s].value},enumerable:!0})}))})),t._state=de({data:e}),t._scope=l,t.strict&&function(t){Pi((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),i&&s&&t._withCommit((function(){i.data=null})),n&&n.stop()}function ry(t,e,s,i,n){var r=!s.length,o=t._modules.getNamespace(s);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!r&&!n){var a=ay(e,s.slice(0,-1)),l=s[s.length-1];t._withCommit((function(){a[l]=i.state}))}var c=i.context=function(t,e,s){var i=""===e,n={dispatch:i?t.dispatch:function(s,i,n){var r=ly(s,i,n),o=r.payload,a=r.options,l=r.type;return a&&a.root||(l=e+l),t.dispatch(l,o)},commit:i?t.commit:function(s,i,n){var r=ly(s,i,n),o=r.payload,a=r.options,l=r.type;a&&a.root||(l=e+l),t.commit(l,o,a)}};return Object.defineProperties(n,{getters:{get:i?function(){return t.getters}:function(){return oy(t,e)}},state:{get:function(){return ay(t.state,s)}}}),n}(t,o,s);i.forEachMutation((function(e,s){!function(t,e,s,i){var n=t._mutations[e]||(t._mutations[e]=[]);n.push((function(e){s.call(t,i.state,e)}))}(t,o+s,e,c)})),i.forEachAction((function(e,s){var i=e.root?s:o+s,n=e.handler||e;!function(t,e,s,i){var n=t._actions[e]||(t._actions[e]=[]);n.push((function(e){var n,r=s.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(n=r)&&"function"==typeof n.then||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}(t,i,n,c)})),i.forEachGetter((function(e,s){!function(t,e,s,i){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return s(i.state,i.getters,t.state,t.getters)}}(t,o+s,e,c)})),i.forEachChild((function(i,r){ry(t,e,s.concat(r),i,n)}))}function oy(t,e){if(!t._makeLocalGettersCache[e]){var s={},i=e.length;Object.keys(t.getters).forEach((function(n){if(n.slice(0,i)===e){var r=n.slice(i);Object.defineProperty(s,r,{get:function(){return t.getters[n]},enumerable:!0})}})),t._makeLocalGettersCache[e]=s}return t._makeLocalGettersCache[e]}function ay(t,e){return e.reduce((function(t,e){return t[e]}),t)}function ly(t,e,s){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(s=e,e=t,t=t.type),{type:t,payload:e,options:s}}var cy="vuex:mutations",hy="vuex:actions",uy="vuex",dy=0;function fy(t,e){wr({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(s){s.addTimelineLayer({id:cy,label:"Vuex Mutations",color:py}),s.addTimelineLayer({id:hy,label:"Vuex Actions",color:py}),s.addInspector({id:uy,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),s.on.getInspectorTree((function(s){if(s.app===t&&s.inspectorId===uy)if(s.filter){var i=[];vy(i,e._modules.root,s.filter,""),s.rootNodes=i}else s.rootNodes=[by(e._modules.root,"")]})),s.on.getInspectorState((function(s){if(s.app===t&&s.inspectorId===uy){var i=s.nodeId;oy(e,i),s.state=function(t,e,s){e="root"===s?e:e[s];var i=Object.keys(e),n={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(i.length){var r=function(t){var e={};return Object.keys(t).forEach((function(s){var i=s.split("/");if(i.length>1){var n=e,r=i.pop();i.forEach((function(t){n[t]||(n[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),n=n[t]._custom.value})),n[r]=yy((function(){return t[s]}))}else e[s]=yy((function(){return t[s]}))})),e}(e);n.getters=Object.keys(r).map((function(t){return{key:t.endsWith("/")?my(t):t,editable:!1,value:yy((function(){return r[t]}))}}))}return n}((n=e._modules,(o=(r=i).split("/").filter((function(t){return t}))).reduce((function(t,e,s){var i=t[e];if(!i)throw new Error('Missing module "'+e+'" for path "'+r+'".');return s===o.length-1?i:i._children}),"root"===r?n:n.root._children)),"root"===i?e.getters:e._makeLocalGettersCache,i)}var n,r,o})),s.on.editInspectorState((function(s){if(s.app===t&&s.inspectorId===uy){var i=s.nodeId,n=s.path;"root"!==i&&(n=i.split("/").filter(Boolean).concat(n)),e._withCommit((function(){s.set(e._state.data,n,s.state.value)}))}})),e.subscribe((function(t,e){var i={};t.payload&&(i.payload=t.payload),i.state=e,s.notifyComponentUpdate(),s.sendInspectorTree(uy),s.sendInspectorState(uy),s.addTimelineEvent({layerId:cy,event:{time:Date.now(),title:t.type,data:i}})})),e.subscribeAction({before:function(t,e){var i={};t.payload&&(i.payload=t.payload),t._id=dy++,t._time=Date.now(),i.state=e,s.addTimelineEvent({layerId:hy,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:i}})},after:function(t,e){var i={},n=Date.now()-t._time;i.duration={_custom:{type:"duration",display:n+"ms",tooltip:"Action duration",value:n}},t.payload&&(i.payload=t.payload),i.state=e,s.addTimelineEvent({layerId:hy,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:i}})}})}))}var py=8702998,gy={label:"namespaced",textColor:16777215,backgroundColor:6710886};function my(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function by(t,e){return{id:e||"root",label:my(e),tags:t.namespaced?[gy]:[],children:Object.keys(t._children).map((function(s){return by(t._children[s],e+s+"/")}))}}function vy(t,e,s,i){i.includes(s)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[gy]:[]}),Object.keys(e._children).forEach((function(n){vy(t,e._children[n],s,i+n+"/")}))}function yy(t){try{return t()}catch(Ay){return Ay}}var _y=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=("function"==typeof s?s():s)||{}},xy={namespaced:{configurable:!0}};xy.namespaced.get=function(){return!!this._rawModule.namespaced},_y.prototype.addChild=function(t,e){this._children[t]=e},_y.prototype.removeChild=function(t){delete this._children[t]},_y.prototype.getChild=function(t){return this._children[t]},_y.prototype.hasChild=function(t){return t in this._children},_y.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},_y.prototype.forEachChild=function(t){ey(this._children,t)},_y.prototype.forEachGetter=function(t){this._rawModule.getters&&ey(this._rawModule.getters,t)},_y.prototype.forEachAction=function(t){this._rawModule.actions&&ey(this._rawModule.actions,t)},_y.prototype.forEachMutation=function(t){this._rawModule.mutations&&ey(this._rawModule.mutations,t)},Object.defineProperties(_y.prototype,xy);var wy=function(t){this.register([],t,!1)};function ky(t,e,s){if(e.update(s),s.modules)for(var i in s.modules){if(!e.getChild(i))return;ky(t.concat(i),e.getChild(i),s.modules[i])}}wy.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},wy.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,s){return t+((e=e.getChild(s)).namespaced?s+"/":"")}),"")},wy.prototype.update=function(t){ky([],this.root,t)},wy.prototype.register=function(t,e,s){var i=this;void 0===s&&(s=!0);var n=new _y(e,s);0===t.length?this.root=n:this.get(t.slice(0,-1)).addChild(t[t.length-1],n);e.modules&&ey(e.modules,(function(e,n){i.register(t.concat(n),e,s)}))},wy.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),s=t[t.length-1],i=e.getChild(s);i&&i.runtime&&e.removeChild(s)},wy.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),s=t[t.length-1];return!!e&&e.hasChild(s)};var Sy=function(t){var e=this;void 0===t&&(t={});var s=t.plugins;void 0===s&&(s=[]);var i=t.strict;void 0===i&&(i=!1);var n=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new wy(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=n;var r=this,o=this.dispatch,a=this.commit;this.dispatch=function(t,e){return o.call(r,t,e)},this.commit=function(t,e,s){return a.call(r,t,e,s)},this.strict=i;var l=this._modules.root.state;ry(this,l,[],this._modules.root),ny(this,l),s.forEach((function(t){return t(e)}))},Ty={state:{configurable:!0}};Sy.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&fy(t,this)},Ty.state.get=function(){return this._state.data},Ty.state.set=function(t){},Sy.prototype.commit=function(t,e,s){var i=this,n=ly(t,e,s),r=n.type,o=n.payload,a={type:r,payload:o},l=this._mutations[r];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},Sy.prototype.dispatch=function(t,e){var s=this,i=ly(t,e),n=i.type,r=i.payload,o={type:n,payload:r},a=this._actions[n];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,s.state)}))}catch(Ay){}var l=a.length>1?Promise.all(a.map((function(t){return t(r)}))):a[0](r);return new Promise((function(t,e){l.then((function(e){try{s._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,s.state)}))}catch(Ay){}t(e)}),(function(t){try{s._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,s.state,t)}))}catch(Ay){}e(t)}))}))}},Sy.prototype.subscribe=function(t,e){return sy(t,this._subscribers,e)},Sy.prototype.subscribeAction=function(t,e){return sy("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},Sy.prototype.watch=function(t,e,s){var i=this;return Pi((function(){return t(i.state,i.getters)}),e,Object.assign({},s))},Sy.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},Sy.prototype.registerModule=function(t,e,s){void 0===s&&(s={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),ry(this,this.state,t,this._modules.get(t),s.preserveState),ny(this,this.state)},Sy.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete ay(e.state,t.slice(0,-1))[t[t.length-1]]})),iy(this)},Sy.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},Sy.prototype.hotUpdate=function(t){this._modules.update(t),iy(this,!0)},Sy.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(Sy.prototype,Ty);const Oy=function(t){return new Sy(t)}({state:{members:[],tithes:[],finances:[]},mutations:{},actions:{},modules:{}}),Py=Symbol();
/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */var Cy,My;(My=Cy||(Cy={})).direct="direct",My.patchObject="patch object",My.patchFunction="patch function";const Ey=((...t)=>{const e=(gr||(gr=yi(pr))).createApp(...t),{mount:s}=e;return e.mount=t=>{const i=function(t){if(_(t)){return document.querySelector(t)}return t}(t);if(!i)return;const n=e._component;y(n)||n.render||n.template||(n.template=i.innerHTML),1===i.nodeType&&(i.textContent="");const r=s(i,!1,function(t){if(t instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&t instanceof MathMLElement)return"mathml"}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e})(da);Ey.use(function(){const t=rt(!0),e=t.run((()=>Te({})));let s=[],i=[];const n=xe({install(t){n._a=t,t.provide(Py,n),t.config.globalProperties.$pinia=n,i.forEach((t=>s.push(t))),i=[]},use(t){return this._a?s.push(t):i.push(t),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}()),Ey.use(ty),Ey.use(Oy),Ey.mount("#app");export{Ui as F,na as _,sn as a,rs as b,Yi as c,Is as d,ar as e,qi as f,cg as g,xs as o,Te as r,Z as t,lr as v,fr as w};
