{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\"\n};\nvar _hoisted_2 = {\n  \"class\": \"bg-white rounded-lg shadow-sm p-6 mb-8\"\n};\nvar _hoisted_3 = {\n  \"class\": \"space-y-6\"\n};\nvar _hoisted_4 = {\n  \"class\": \"space-y-4\"\n};\nvar _hoisted_5 = [\"src\"];\nvar _hoisted_6 = {\n  \"class\": \"grid grid-cols-1 sm:grid-cols-2 gap-6\"\n};\nvar _hoisted_7 = {\n  \"class\": \"bg-white rounded-lg shadow-sm p-6 mb-8\"\n};\nvar _hoisted_8 = {\n  \"class\": \"grid grid-cols-1 sm:grid-cols-2 gap-6\"\n};\nvar _hoisted_9 = {\n  \"class\": \"overflow-x-auto\"\n};\nvar _hoisted_10 = {\n  \"class\": \"min-w-full divide-y divide-gray-200\"\n};\nvar _hoisted_11 = {\n  \"class\": \"bg-white divide-y divide-gray-200\"\n};\nvar _hoisted_12 = {\n  \"class\": \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nvar _hoisted_13 = {\n  \"class\": \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nvar _hoisted_14 = {\n  \"class\": \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nvar _hoisted_15 = {\n  \"class\": \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nvar _hoisted_16 = [\"onClick\", \"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[25] || (_cache[25] = _createElementVNode(\"h1\", {\n    \"class\": \"text-3xl font-bold text-gray-900 mb-8\"\n  }, \"Configurações\", -1 /* HOISTED */)), _createCommentVNode(\" Configurações da Igreja \"), _createElementVNode(\"div\", _hoisted_2, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", {\n    \"class\": \"text-xl font-semibold text-gray-900 mb-6\"\n  }, \"Configurações da Igreja\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Nome da Igreja\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.churchSettings.name = $event;\n    }),\n    placeholder: \"Nome da Igreja\",\n    \"class\": \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.churchSettings.name]])]), _createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Logo da Igreja\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [$setup.churchSettings.logo ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.churchSettings.logo,\n    alt: \"Logo da Igreja\",\n    \"class\": \"max-w-xs rounded-lg shadow-sm\"\n  }, null, 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[1] || (_cache[1] = function () {\n      return $setup.handleLogoUpload && $setup.handleLogoUpload.apply($setup, arguments);\n    }),\n    accept: \"image/*\",\n    \"class\": \"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors\"\n  }, null, 32 /* NEED_HYDRATION */)])]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-4\"\n  }, \"Tema de Cores\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm text-gray-600 mb-2\"\n  }, \"Cor Principal\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"color\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.churchSettings.primaryColor = $event;\n    }),\n    \"class\": \"h-10 w-full rounded-lg shadow-sm cursor-pointer\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.churchSettings.primaryColor]])]), _createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm text-gray-600 mb-2\"\n  }, \"Cor Secundária\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"color\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $setup.churchSettings.secondaryColor = $event;\n    }),\n    \"class\": \"h-10 w-full rounded-lg shadow-sm cursor-pointer\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.churchSettings.secondaryColor]])])])])])]), _createCommentVNode(\" Gerenciamento de Usuários \"), _createElementVNode(\"div\", _hoisted_7, [_cache[24] || (_cache[24] = _createElementVNode(\"h2\", {\n    \"class\": \"text-xl font-semibold text-gray-900 mb-6\"\n  }, \"Gerenciamento de Usuários\", -1 /* HOISTED */)), _createCommentVNode(\" Formulário de Novo Usuário \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers(function () {\n      return $setup.handleAddUser && $setup.handleAddUser.apply($setup, arguments);\n    }, [\"prevent\"])),\n    \"class\": \"space-y-6 mb-8\"\n  }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Nome\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n      return $setup.newUser.name = $event;\n    }),\n    required: \"\",\n    \"class\": \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newUser.name]])]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"E-mail\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $setup.newUser.email = $event;\n    }),\n    required: \"\",\n    \"class\": \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newUser.email]])]), _createElementVNode(\"div\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Senha\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $setup.newUser.password = $event;\n    }),\n    required: \"\",\n    \"class\": \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newUser.password]])]), _createElementVNode(\"div\", null, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Tipo de Usuário\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = function ($event) {\n      return $setup.newUser.role = $event;\n    }),\n    \"class\": \"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n  }, _cache[19] || (_cache[19] = [_createElementVNode(\"option\", {\n    value: \"admin\"\n  }, \"Administrador\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"user\"\n  }, \"Usuário Comum\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.newUser.role]])])]), _cache[21] || (_cache[21] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    \"class\": \"w-full sm:w-auto px-6 py-3 bg-green-600 text-white font-medium rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors\"\n  }, \" Adicionar Usuário \", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Lista de Usuários \"), _createElementVNode(\"div\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"h3\", {\n    \"class\": \"text-lg font-medium text-gray-900 mb-4\"\n  }, \"Usuários Cadastrados\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"table\", _hoisted_10, [_cache[22] || (_cache[22] = _createElementVNode(\"thead\", {\n    \"class\": \"bg-gray-50\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    \"class\": \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Nome\"), _createElementVNode(\"th\", {\n    \"class\": \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"E-mail\"), _createElementVNode(\"th\", {\n    \"class\": \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Tipo\"), _createElementVNode(\"th\", {\n    \"class\": \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Ações\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.users, function (user) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id,\n      \"class\": \"hover:bg-gray-50 transition-colors\"\n    }, [_createElementVNode(\"td\", _hoisted_12, _toDisplayString(user.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_13, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_14, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass([user.role === 'admin' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800', \"px-2 py-1 rounded-full text-xs font-medium\"])\n    }, _toDisplayString(user.role === 'admin' ? 'Administrador' : 'Usuário Comum'), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_15, [_createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $setup.deleteUser(user.id);\n      },\n      disabled: user.email === 'admin@igreja.com',\n      \"class\": \"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n    }, \" Excluir \", 8 /* PROPS */, _hoisted_16)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]), _createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = function () {\n      return $setup.saveSettings && $setup.saveSettings.apply($setup, arguments);\n    }),\n    \"class\": \"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n  }, \" Salvar Configurações \")]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","type","_cache","$event","$setup","churchSettings","name","placeholder","_hoisted_4","logo","key","src","alt","_hoisted_5","onChange","handleLogoUpload","apply","arguments","accept","_hoisted_6","primaryColor","secondaryColor","_hoisted_7","onSubmit","_withModifiers","handleAddUser","_hoisted_8","newUser","required","email","password","role","value","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","users","user","id","_hoisted_12","_toDisplayString","_hoisted_13","_hoisted_14","_normalizeClass","_hoisted_15","onClick","deleteUser","disabled","_hoisted_16","saveSettings"],"sources":["C:\\Users\\marce\\Documents\\Projeto Garcia\\src\\views\\SettingsView.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-8\">Configurações</h1>\r\n\r\n    <!-- Configurações da Igreja -->\r\n    <div class=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\r\n      <h2 class=\"text-xl font-semibold text-gray-900 mb-6\">Configurações da Igreja</h2>\r\n      \r\n      <div class=\"space-y-6\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Nome da Igreja</label>\r\n          <input \r\n            type=\"text\" \r\n            v-model=\"churchSettings.name\" \r\n            placeholder=\"Nome da Igreja\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n          >\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Logo da Igreja</label>\r\n          <div class=\"space-y-4\">\r\n            <img \r\n              v-if=\"churchSettings.logo\" \r\n              :src=\"churchSettings.logo\" \r\n              alt=\"Logo da Igreja\"\r\n              class=\"max-w-xs rounded-lg shadow-sm\"\r\n            >\r\n            <input \r\n              type=\"file\" \r\n              @change=\"handleLogoUpload\" \r\n              accept=\"image/*\"\r\n              class=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors\"\r\n            >\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-4\">Tema de Cores</label>\r\n          <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label class=\"block text-sm text-gray-600 mb-2\">Cor Principal</label>\r\n              <input \r\n                type=\"color\" \r\n                v-model=\"churchSettings.primaryColor\"\r\n                class=\"h-10 w-full rounded-lg shadow-sm cursor-pointer\"\r\n              >\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm text-gray-600 mb-2\">Cor Secundária</label>\r\n              <input \r\n                type=\"color\" \r\n                v-model=\"churchSettings.secondaryColor\"\r\n                class=\"h-10 w-full rounded-lg shadow-sm cursor-pointer\"\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Gerenciamento de Usuários -->\r\n    <div class=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\r\n      <h2 class=\"text-xl font-semibold text-gray-900 mb-6\">Gerenciamento de Usuários</h2>\r\n      \r\n      <!-- Formulário de Novo Usuário -->\r\n      <form @submit.prevent=\"handleAddUser\" class=\"space-y-6 mb-8\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Nome</label>\r\n            <input \r\n              type=\"text\" \r\n              v-model=\"newUser.name\" \r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n            >\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">E-mail</label>\r\n            <input \r\n              type=\"email\" \r\n              v-model=\"newUser.email\" \r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n            >\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Senha</label>\r\n            <input \r\n              type=\"password\" \r\n              v-model=\"newUser.password\" \r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n            >\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Tipo de Usuário</label>\r\n            <select \r\n              v-model=\"newUser.role\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n            >\r\n              <option value=\"admin\">Administrador</option>\r\n              <option value=\"user\">Usuário Comum</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <button \r\n          type=\"submit\" \r\n          class=\"w-full sm:w-auto px-6 py-3 bg-green-600 text-white font-medium rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors\"\r\n        >\r\n          Adicionar Usuário\r\n        </button>\r\n      </form>\r\n\r\n      <!-- Lista de Usuários -->\r\n      <div>\r\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Usuários Cadastrados</h3>\r\n        <div class=\"overflow-x-auto\">\r\n          <table class=\"min-w-full divide-y divide-gray-200\">\r\n            <thead class=\"bg-gray-50\">\r\n              <tr>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nome</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">E-mail</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tipo</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Ações</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"bg-white divide-y divide-gray-200\">\r\n              <tr v-for=\"user in users\" :key=\"user.id\" class=\"hover:bg-gray-50 transition-colors\">\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ user.name }}</td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ user.email }}</td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                  <span \r\n                    :class=\"user.role === 'admin' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800'\"\r\n                    class=\"px-2 py-1 rounded-full text-xs font-medium\"\r\n                  >\r\n                    {{ user.role === 'admin' ? 'Administrador' : 'Usuário Comum' }}\r\n                  </span>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                  <button \r\n                    @click=\"deleteUser(user.id)\" \r\n                    :disabled=\"user.email === 'admin@igreja.com'\"\r\n                    class=\"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\r\n                  >\r\n                    Excluir\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <button \r\n      @click=\"saveSettings\" \r\n      class=\"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n    >\r\n      Salvar Configurações\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useSettings } from '@/store/settings'\r\nimport { saveChurchSettings, createUser, getUsers, deleteUser as deleteUserFromDB } from '@/supabase/config'\r\n\r\nexport default {\r\n  name: 'SettingsView',\r\n  setup() {\r\n    const { churchSettings, updateSettings } = useSettings()\r\n    const users = ref([])\r\n    const loading = ref(false)\r\n    const error = ref(null)\r\n\r\n    const newUser = ref({\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      role: 'user'\r\n    })\r\n\r\n    const handleLogoUpload = async (event) => {\r\n      const file = event.target.files[0]\r\n      if (file) {\r\n        const reader = new FileReader()\r\n        reader.onload = (e) => {\r\n          churchSettings.value.logo = e.target.result\r\n        }\r\n        reader.readAsDataURL(file)\r\n      }\r\n    }\r\n\r\n    const handleAddUser = async () => {\r\n      try {\r\n        loading.value = true\r\n        const { error: createError } = await createUser(newUser.value)\r\n        if (createError) throw createError\r\n\r\n        // Atualiza a lista de usuários\r\n        const { data: updatedUsers, error: fetchError } = await getUsers()\r\n        if (fetchError) throw fetchError\r\n        users.value = updatedUsers\r\n\r\n        // Limpa o formulário\r\n        newUser.value = {\r\n          name: '',\r\n          email: '',\r\n          password: '',\r\n          role: 'user'\r\n        }\r\n\r\n        alert('Usuário criado com sucesso!')\r\n      } catch (err) {\r\n        error.value = err.message\r\n        alert('Erro ao criar usuário: ' + err.message)\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    const deleteUser = async (id) => {\r\n      if (confirm('Tem certeza que deseja excluir este usuário?')) {\r\n        try {\r\n          loading.value = true\r\n          const { error: deleteError } = await deleteUserFromDB(id)\r\n          if (deleteError) throw deleteError\r\n\r\n          users.value = users.value.filter(user => user.id !== id)\r\n          alert('Usuário excluído com sucesso!')\r\n        } catch (err) {\r\n          error.value = err.message\r\n          alert('Erro ao excluir usuário: ' + err.message)\r\n        } finally {\r\n          loading.value = false\r\n        }\r\n      }\r\n    }\r\n\r\n    const saveSettings = async () => {\r\n      try {\r\n        loading.value = true\r\n        const { error: saveError } = await saveChurchSettings(churchSettings.value)\r\n        if (saveError) throw saveError\r\n\r\n        updateSettings(churchSettings.value)\r\n        alert('Configurações salvas com sucesso!')\r\n      } catch (err) {\r\n        error.value = err.message\r\n        alert('Erro ao salvar configurações: ' + err.message)\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    // Carrega a lista de usuários ao montar o componente\r\n    onMounted(async () => {\r\n      try {\r\n        loading.value = true\r\n        const { data: fetchedUsers, error: fetchError } = await getUsers()\r\n        if (fetchError) throw fetchError\r\n        users.value = fetchedUsers\r\n      } catch (err) {\r\n        error.value = err.message\r\n        console.error('Erro ao carregar usuários:', err)\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    })\r\n\r\n    return {\r\n      churchSettings,\r\n      users,\r\n      newUser,\r\n      handleLogoUpload,\r\n      handleAddUser,\r\n      deleteUser,\r\n      saveSettings\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Todos os estilos agora são gerenciados pelo Tailwind CSS */\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}